import{i as D,r as u,j as R,m as T,o as k,b as _,c as B,d as x,h as t,k as a,f as o,l as n,t as s,e as c,C as V}from"./index-5e2d493c.js";const q={className:"card"},I=o("h5",null,"View Sales",-1),M={style:{padding:"20px"}},E={class:"grid p-fluid"},P={class:"field col-12 md:col-12"},H={class:"field col-6 md:col-6"},K={class:"p-float-label"},L={for:"unitName"},O={class:"field col-6 md:col-6"},$={class:"p-float-label"},j={for:"unitName"},A={class:"field col-6 md:col-6"},Q={class:"p-float-label"},U={for:"unitName"},z={class:"field col-6 md:col-6"},F={class:"p-float-label"},G={for:"unitName"},J=o("hr",null,null,-1),W={class:"grid p-fluid"},ee={__name:"ViewOrders",setup(X){const p=D(),f=u(null),h=u(!1),y=u(null),d=new V,m=u({});R(),T();const w=()=>{d.genericRequest("get-orders","get",!0,{}).then(l=>{l.status?f.value=l.data:d.showError(p,l.message)})},g=l=>{S(!0),m.value=l,N(l==null?void 0:l.id)},N=l=>{d.genericRequest("get-orders-details/"+l,"get",!0,{}).then(r=>{r.status?y.value=r.data:d.showError(p,r.message)})},S=l=>{h.value=l};return k(()=>{w()}),(l,r)=>{const i=_("Column"),v=_("Button"),b=_("DataTable"),C=_("Dialog");return B(),x("div",q,[I,t(b,{value:f.value,paginator:!0,class:"p-datatable-gridlines",rows:10,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:a(()=>[t(i,{field:"Ref No.",header:"Ref No.",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(e.ref_no),1)]),_:1}),t(i,{field:"Receipt No.",header:"Receipt No.",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(e.receipt_no),1)]),_:1}),t(i,{field:"name",header:"Item Count",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(e.item_count),1)]),_:1}),t(i,{field:"name",header:"Amount Paid",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(c(d).commaSeparator(e.amount_paid)),1)]),_:1}),t(i,{field:"name",header:"Cost",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(c(d).commaSeparator(e.total)),1)]),_:1}),t(i,{field:"name",header:"Change",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(c(d).commaSeparator(e.amount_paid-e.total)),1)]),_:1}),t(i,{header:"Discount",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(c(d).commaSeparator(e.discount)),1)]),_:1}),t(i,{header:"Status",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(e.payment_status),1)]),_:1}),t(i,{header:"Date",style:{"max-width":"10rem"}},{body:a(({data:e})=>[n(s(e.created_at),1)]),_:1}),t(i,{headerStyle:"min-width:10rem;"},{body:a(({data:e})=>[t(v,{icon:"pi pi-info",class:"p-button-rounded p-button-success mr-2",onClick:Y=>g(e)},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),t(C,{header:"Sales Details",visible:h.value,"onUpdate:visible":r[1]||(r[1]=e=>h.value=e),style:{width:"33vw"},modal:!0,class:"p-fluid"},{footer:a(()=>[t(v,{label:"Cancel",onClick:r[0]||(r[0]=e=>l.toggleTypeModal(!1)),icon:"pi pi-times",class:"p-button-outlined p-button-danger mr-2 mb-2"})]),default:a(()=>[o("p",M,[o("div",E,[o("div",P,[o("h1",null,s(m.value.institution_name),1)]),o("div",H,[o("span",K,[o("label",L,"Ref No.: "+s(m.value.ref_no),1)])]),o("div",O,[o("span",$,[o("label",j,"Receipt No.: "+s(m.value.receipt_no),1)])]),o("div",A,[o("span",Q,[o("label",U,"Item Count: "+s(m.value.item_count),1)])]),o("div",z,[o("span",F,[o("label",G,"Total: "+s(c(d).commaSeparator(m.value.total)),1)])]),J]),o("div",W,[t(b,{value:y.value,paginator:!0,class:"p-datatable-gridlines",rows:10,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:a(()=>[t(i,{field:"Ref No.",header:"Item",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(e.name),1)]),_:1}),t(i,{field:"Receipt No.",header:"Price",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(c(d).commaSeparator(e.price)),1)]),_:1}),t(i,{field:"name",header:"Qty",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(e.qty),1)]),_:1}),t(i,{field:"name",header:"Sub Total",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(c(d).commaSeparator(e.price*e.qty)),1)]),_:1})]),_:1},8,["value"])])])]),_:1},8,["visible"])])}}};export{ee as default};
