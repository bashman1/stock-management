import{k as tl,l as nl,m as il,r as a,z as dl,o as ul,b as $,c as cl,d as vl,e as l,h as n,n as c,F as ml,_ as rl,C as pl}from"./index-f8d0c022.js";const fl={class:"py-6 px-6"},_l={class:"card p-fluid"},bl={class:"grid p-fluid"},Vl={class:"field col-12 md:col-3"},Nl=["src"],gl=l("div",{class:"field col-12 md:col-9"},[l("h2",{class:"text-right mt-6"},"Please fill in to register")],-1),Fl=l("div",{class:"col-12 md:col-12"},[l("h5",null,"Institution Basic Info")],-1),wl={class:"field col-12 md:col-6"},yl={class:"p-float-label"},xl=l("label",{for:"instName"},"Institution Name",-1),Bl={class:"field col-12 md:col-6"},hl={class:"p-float-label"},Ul=l("label",{for:"instType"},"Institution Type",-1),kl={class:"field col-12 md:col-12"},Pl={class:"p-float-label"},Tl=l("label",{for:"textarea"},"Address",-1),Il={class:"field col-12 md:col-6"},$l={class:"p-float-label"},Cl=l("label",{for:"instCity"},"City",-1),Sl={class:"field col-12 md:col-6"},El={class:"p-float-label"},Rl=l("label",{for:"instPOBox"},"P.O Box",-1),Ll={class:"field col-12 md:col-12"},ql={class:"p-float-label"},Dl=l("label",{for:"instDescription"},"Description",-1),Al=l("div",{class:"field col-12 md:col-12"},[l("h5",null,"Institution Bank Info")],-1),Ol={class:"field col-12 md:col-4"},zl={class:"p-float-label"},Ml=l("label",{for:"bankName"},"Bank",-1),jl={class:"field col-12 md:col-4"},Gl={class:"p-float-label"},Hl=l("label",{for:"acctName"},"Account Title",-1),Jl={class:"field col-12 md:col-4"},Kl={class:"p-float-label"},Ql=l("label",{for:"acctNumber"},"Account Number",-1),Xl=l("div",{class:"field col-12 md:col-12"},[l("h5",null,"Institution User Info")],-1),Yl={class:"field col-12 md:col-4"},Zl={class:"p-float-label"},Wl=l("label",{for:"firstName"},"First Name",-1),le={class:"field col-12 md:col-4"},ee={class:"p-float-label"},oe=l("label",{for:"lastName"},"Last Name",-1),ae={class:"field col-12 md:col-4"},se={class:"p-float-label"},te=l("label",{for:"otherName"},"Other Names",-1),ne={class:"field col-12 md:col-6"},ie={class:"p-float-label"},de=l("label",{for:"email"},"Email",-1),ue={class:"field col-12 md:col-6"},ce={class:"p-float-label"},ve=l("label",{for:"contactNumber"},"Phone Number",-1),me={class:"field col-12 md:col-6"},re={class:"p-float-label"},pe=l("label",{for:"password"},"Password",-1),fe={class:"field col-12 md:col-6"},_e={class:"p-float-label"},be=l("label",{for:"confirmPassword"},"Confirm Password",-1),Ve={class:"field col-12 md:col-4"},Fe={__name:"SelfEnroll",setup(Ne){const S=tl(),t=new pl,L=nl();il();const m=a(null),r=a(null),N=a(null),y=a(null),p=a(null),E=a(null),x=a(null),B=a(null);a(null);const f=a(null);a(null);const R=a(null),_=a(null),b=a(null),V=a(null),q=a(null),D=a(null),A=a(null);a({});const s=a({}),h=a({id:1,name:"Enable tax",value:!0});a(null);const g=a(null),F=a(null),C=a(null),v=a(null),U=a(null),k=a(null),W=()=>{t.genericRequest("get-institution-types","get",!1,{}).then(d=>{d.status&&(q.value=d.data)})},ll=dl(()=>"demo/images/SmarCollectlogo-removebg-preview.png"),el=()=>{t.genericRequest("get-city-county-id/1","get",!1,{}).then(d=>{d.status&&(D.value=d.data)})},ol=()=>{t.genericRequest("get-bank-ref","get",!1,{}).then(d=>{d.status&&(A.value=d.data)})},i=(d,e)=>{s.value[e]=t.validateFormField(d)},al=()=>{var u,w,P,T;if(s.value.name=t.validateFormField(m.value),s.value.type=t.validateFormField(r.value),s.value.city=t.validateFormField(p.value),s.value.contactNumber=t.validateFormField(f.value),s.value.bankName=t.validateFormField(_.value),s.value.acctName=t.validateFormField(b.value),s.value.acctNumber=t.validateFormField(V.value),s.value.taxConfig=t.validateFormField(h.value),s.value.fName=t.validateFormField(g.value),s.value.lName=t.validateFormField(F.value),s.value.email=t.validateFormField(v.value),s.value.password=t.validateFormField(U.value),s.value.confirmPassword=t.validateFormField(k.value),t.validateRequiredFields(s.value)){t.showError(S,"Please fill in the missing field");return}let e={id:null,name:m==null?void 0:m.value,type:(u=r==null?void 0:r.value)==null?void 0:u.id,start_date:N!=null&&N.value?N==null?void 0:N.value:new Date,address:y==null?void 0:y.value,city:(w=p==null?void 0:p.value)==null?void 0:w.id,street:E==null?void 0:E.value,p_o_box:x==null?void 0:x.value,description:B==null?void 0:B.value,contact_name:g.value+" "+F.value+" "+C.value,contact_number:f==null?void 0:f.value,contact_email:v==null?void 0:v.value,contact_web:R==null?void 0:R.value,bank_id:(P=_==null?void 0:_.value)==null?void 0:P.id,acct_name:b==null?void 0:b.value,acct_no:V==null?void 0:V.value,tax_config:(T=h==null?void 0:h.value)==null?void 0:T.value,tin:h.value.name,status:"Pending",first_name:g.value,last_name:F.value,other_name:C.value,email:v.value,password:U.value,confirm_password:k.value};t.genericRequest("institution-self-registration","post",!1,e).then(I=>{I.status?(t.showSuccess(S,I.message),t.redirect(L,"/view-institutions")):t.showError(S,I.message)})},sl=()=>{L.push("/auth/login")};return ul(()=>{W(),el(),ol()}),(d,e)=>{var O,z,M,j,G,H,J,K,Q,X,Y,Z;const u=$("InputText"),w=$("Dropdown"),P=$("Textarea"),T=$("Password"),I=$("Button");return cl(),vl(ml,null,[l("div",fl,[l("div",_l,[l("div",bl,[l("div",Vl,[l("img",{src:ll.value,alt:"Sakai logo",class:"mb-5 w-20rem flex-shrink-0"},null,8,Nl)]),gl,Fl,l("div",wl,[l("span",yl,[n(u,{type:"text",id:"instName",modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=o=>m.value=o),onBlur:e[1]||(e[1]=o=>i(m.value,"name")),class:c({"p-invalid":(O=s.value)==null?void 0:O.name})},null,8,["modelValue","class"]),xl])]),l("div",Bl,[l("span",hl,[n(w,{id:"instType",onBlur:e[2]||(e[2]=o=>i(r.value,"type")),options:q.value,modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=o=>r.value=o),class:c({"p-invalid":(z=s.value)==null?void 0:z.type}),optionLabel:"name"},null,8,["options","modelValue","class"]),Ul])]),l("div",kl,[l("span",Pl,[n(P,{id:"textarea",rows:"3",cols:"30",modelValue:y.value,"onUpdate:modelValue":e[4]||(e[4]=o=>y.value=o)},null,8,["modelValue"]),Tl])]),l("div",Il,[l("span",$l,[n(w,{id:"instCity",options:D.value,modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=o=>p.value=o),onBlur:e[6]||(e[6]=o=>i(p.value,"city")),class:c({"p-invalid":(M=s.value)==null?void 0:M.city}),optionLabel:"name"},null,8,["options","modelValue","class"]),Cl])]),l("div",Sl,[l("span",El,[n(u,{type:"text",id:"instPOBox",modelValue:x.value,"onUpdate:modelValue":e[7]||(e[7]=o=>x.value=o)},null,8,["modelValue"]),Rl])]),l("div",Ll,[l("span",ql,[n(P,{id:"instDescription",rows:"3",cols:"30",modelValue:B.value,"onUpdate:modelValue":e[8]||(e[8]=o=>B.value=o)},null,8,["modelValue"]),Dl])]),Al,l("div",Ol,[l("span",zl,[n(w,{id:"bankName",options:A.value,modelValue:_.value,"onUpdate:modelValue":e[9]||(e[9]=o=>_.value=o),optionLabel:"name",onBlur:e[10]||(e[10]=o=>i(_.value,"bankName")),class:c({"p-invalid":(j=s.value)==null?void 0:j.bankName})},null,8,["options","modelValue","class"]),Ml])]),l("div",jl,[l("span",Gl,[n(u,{type:"text",id:"acctName",modelValue:b.value,"onUpdate:modelValue":e[11]||(e[11]=o=>b.value=o),onBlur:e[12]||(e[12]=o=>i(b.value,"acctName")),class:c({"p-invalid":(G=s.value)==null?void 0:G.acctName})},null,8,["modelValue","class"]),Hl])]),l("div",Jl,[l("span",Kl,[n(u,{type:"text",id:"acctNumber",modelValue:V.value,"onUpdate:modelValue":e[13]||(e[13]=o=>V.value=o),onBlur:e[14]||(e[14]=o=>i(V.value,"acctNumber")),class:c({"p-invalid":(H=s.value)==null?void 0:H.acctNumber})},null,8,["modelValue","class"]),Ql])]),Xl,l("div",Yl,[l("span",Zl,[n(u,{type:"text",id:"firstName",modelValue:g.value,"onUpdate:modelValue":e[15]||(e[15]=o=>g.value=o),onBlur:e[16]||(e[16]=o=>i(g.value,"fName")),class:c({"p-invalid":(J=s.value)==null?void 0:J.fName})},null,8,["modelValue","class"]),Wl])]),l("div",le,[l("span",ee,[n(u,{type:"text",id:"lastName",modelValue:F.value,"onUpdate:modelValue":e[17]||(e[17]=o=>F.value=o),onBlur:e[18]||(e[18]=o=>i(F.value,"lName")),class:c({"p-invalid":(K=s.value)==null?void 0:K.lName})},null,8,["modelValue","class"]),oe])]),l("div",ae,[l("span",se,[n(u,{type:"text",id:"otherName",modelValue:C.value,"onUpdate:modelValue":e[19]||(e[19]=o=>C.value=o)},null,8,["modelValue"]),te])]),l("div",ne,[l("span",ie,[n(u,{type:"text",id:"email",modelValue:v.value,"onUpdate:modelValue":e[20]||(e[20]=o=>v.value=o),onBlur:e[21]||(e[21]=o=>i(v.value,"email")),class:c({"p-invalid":(Q=s.value)==null?void 0:Q.email})},null,8,["modelValue","class"]),de])]),l("div",ue,[l("span",ce,[n(u,{id:"basic",modelValue:f.value,"onUpdate:modelValue":e[22]||(e[22]=o=>f.value=o),onBlur:e[23]||(e[23]=o=>i(f.value,"contactNumber")),class:c({"p-invalid":(X=s.value)==null?void 0:X.contactNumber})},null,8,["modelValue","class"]),ve])]),l("div",me,[l("span",re,[n(T,{type:"text",id:"password",modelValue:U.value,"onUpdate:modelValue":e[24]||(e[24]=o=>U.value=o),onBlur:e[25]||(e[25]=o=>i(U.value,"password")),class:c({"p-invalid":(Y=s.value)==null?void 0:Y.password})},null,8,["modelValue","class"]),pe])]),l("div",fe,[l("span",_e,[n(T,{type:"text",id:"confirmPassword",modelValue:k.value,"onUpdate:modelValue":e[26]||(e[26]=o=>k.value=o),onBlur:e[27]||(e[27]=o=>i(k.value,"confirmPassword")),class:c({"p-invalid":(Z=s.value)==null?void 0:Z.confirmPassword})},null,8,["modelValue","class"]),be])]),l("div",{class:"field col-12 md:col-8"},[l("a",{class:"font-medium no-underline ml-2 text-left cursor-pointer",style:{color:"var(--primary-color)"},onClick:sl},"Back To Login")]),l("div",Ve,[n(I,{onClick:al,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])]),n(rl,{simple:""})],64)}}};export{Fe as default};
