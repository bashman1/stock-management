import{j as tl,k as ol,r as o,o as sl,b as r,c as f,d as b,e as l,f as s,l as S,C as al}from"./index-3e783a36.js";const nl={class:"card"},il=l("h5",null,"Create User",-1),dl={class:"grid p-fluid mt-3"},ul={class:"field col-12 md:col-4"},cl={class:"p-float-label"},ml=l("label",{for:"firstName"},"First Name",-1),rl={class:"field col-12 md:col-4"},pl={class:"p-float-label"},vl=l("label",{for:"lastName"},"Last Name",-1),_l={class:"field col-12 md:col-4"},fl={class:"p-float-label"},bl=l("label",{for:"otherName"},"Other Names",-1),hl={class:"field col-12 md:col-4"},Vl={class:"p-float-label"},gl=l("label",{for:"email"},"Email",-1),yl={class:"field col-12 md:col-4"},Ul={class:"p-float-label"},xl=l("label",{for:"phoneNumber"},"Phone Number",-1),Cl={class:"field col-12 md:col-4"},wl={class:"p-float-label"},Il=l("label",{for:"dob"},"Date Of Birth",-1),Nl={class:"field col-12 md:col-4"},Al={class:"p-float-label"},Bl=l("label",{for:"gender"},"Gender",-1),Dl={class:"field col-12 md:col-4"},Pl={class:"p-float-label"},Rl=l("label",{for:"type"},"Type",-1),Sl={key:0,class:"field col-12 md:col-4"},Tl={class:"p-float-label"},Ol=l("label",{for:"institution"},"Institution",-1),Ll={key:1,class:"field col-12 md:col-4"},kl={class:"p-float-label"},ql=l("label",{for:"institution"},"Branch",-1),Ml={key:2,class:"field col-12 md:col-4"},El={class:"p-float-label"},Fl=l("label",{for:"institution"},"User Category",-1),jl={class:"field col-12 md:col-4"},Gl={class:"p-float-label"},zl=l("label",{for:"institution"},"Role",-1),Hl={class:"field col-12 md:col-12"},Jl={class:"p-float-label"},Kl=l("label",{for:"textarea"},"Address",-1),Ql={class:"field col-12 md:col-4"},Wl={class:"p-float-label"},Xl=l("label",{for:"instCity"},"City",-1),Yl={class:"field col-12 md:col-4"},Zl={class:"p-float-label"},$l=l("label",{for:"instStreet"},"Street",-1),le={class:"field col-12 md:col-4"},ee={class:"p-float-label"},te=l("label",{for:"instPOBox"},"P.O Box",-1),oe={class:"field col-12 md:col-12"},se={class:"p-float-label"},ae=l("label",{for:"instDescription"},"More Info",-1),ne={class:"card"},ie=l("h5",null,"Create Password",-1),de={class:"grid p-fluid mt-3"},ue={class:"field col-12 md:col-6"},ce={class:"p-float-label"},me=l("label",{for:"password"},"Password",-1),re={class:"field col-12 md:col-6"},pe={class:"p-float-label"},ve=l("label",{for:"confirmPassword"},"Confirm Password",-1),_e=l("div",{class:"field col-12 md:col-8"},null,-1),fe={class:"field col-12 md:col-4"},Ve={__name:"CreateUser",setup(be){const T=tl(),i=new al,j=ol(),h=o(null),V=o(null),g=o(null),y=o(null),U=o(null),x=o(null),C=o(null),w=o(null),I=o(null),N=o(null),A=o(null),B=o(null),D=o(null),P=o(null),O=o(null),c=o(null),m=o(null),v=o(null),L=o(null),k=o(null),R=o(null),_=o(null),p=o(null),G=o([{label:"Male",value:"Male"},{label:"Female",value:"Female"}]),z=o([{label:"Super Admin",value:"Admin"},{label:"Institution Admin",value:"Institution"}]),H=o([{label:"Branch Admin",value:"BranchAdmin"},{label:"Institution Admin",value:"InstitutionAdmin"}]),J=()=>{let a={first_name:h.value,last_name:V.value,other_name:g.value,email:y.value,phone_number:U.value,date_of_birth:x.value,gender:C.value.value,address:w.value,city_id:I.value.id,street:N.value,p_o_box:A.value,description:B.value,password:D.value,confirm_password:P.value,status:"Active",user_type:c.value.value,user_category:p.value!=null?p.value.value:null,institution_id:m.value!=null?m==null?void 0:m.value.id:null,role_id:R.value.id,branch_id:v.value!=null?v.value.id:null};i.genericRequest("create-user","post",!1,a).then(e=>{e.status?(i.showSuccess(T,e.message),i.redirect(j,"/view-users")):i.showError(T,e.message)})},K=()=>{i.genericRequest("get-city-county-id/1","get",!0,{}).then(a=>{a.status&&(O.value=a.data)})},Q=a=>{let e={institutionId:a,status:"Active"};i.genericRequest("get-institution-branches","post",!0,e).then(n=>{n.status&&(k.value=n.data)})},W=a=>{let e={institutionId:a,status:"Active"};i.genericRequest("get-institution-roles","post",!0,e).then(n=>{n.status&&(_.value=n.data)})},X=a=>{let e={roleType:a,status:"Active"};i.genericRequest("get-role-type","post",!0,e).then(n=>{n.status&&(_.value=n.data)})},Y=()=>{i.genericRequest("get-institutions","get",!1,{}).then(a=>{a.status&&(L.value=a.data)})},Z=a=>{Q(a.value.id),W(a.value.id)},$=a=>{a.value.value=="Admin"?(X(a.value.value),p.value="SuperAdmin"):_.value=[]};return sl(()=>{Y(),K()}),(a,e)=>{var M,E,F;const n=r("Toast"),d=r("InputText"),ll=r("Calendar"),u=r("Dropdown"),q=r("Textarea"),el=r("Button");return f(),b("div",null,[l("div",nl,[il,l("div",dl,[s(n),l("div",ul,[l("span",cl,[s(d,{type:"text",id:"firstName",modelValue:h.value,"onUpdate:modelValue":e[0]||(e[0]=t=>h.value=t)},null,8,["modelValue"]),ml])]),l("div",rl,[l("span",pl,[s(d,{type:"text",id:"lastName",modelValue:V.value,"onUpdate:modelValue":e[1]||(e[1]=t=>V.value=t)},null,8,["modelValue"]),vl])]),l("div",_l,[l("span",fl,[s(d,{type:"text",id:"otherName",modelValue:g.value,"onUpdate:modelValue":e[2]||(e[2]=t=>g.value=t)},null,8,["modelValue"]),bl])]),l("div",hl,[l("span",Vl,[s(d,{type:"text",id:"email",modelValue:y.value,"onUpdate:modelValue":e[3]||(e[3]=t=>y.value=t)},null,8,["modelValue"]),gl])]),l("div",yl,[l("span",Ul,[s(d,{type:"text",id:"phoneNumber",modelValue:U.value,"onUpdate:modelValue":e[4]||(e[4]=t=>U.value=t)},null,8,["modelValue"]),xl])]),l("div",Cl,[l("span",wl,[s(ll,{inputId:"dob",modelValue:x.value,"onUpdate:modelValue":e[5]||(e[5]=t=>x.value=t)},null,8,["modelValue"]),Il])]),l("div",Nl,[l("span",Al,[s(u,{id:"gender",options:G.value,modelValue:C.value,"onUpdate:modelValue":e[6]||(e[6]=t=>C.value=t),optionLabel:"label"},null,8,["options","modelValue"]),Bl])]),l("div",Dl,[l("span",Pl,[s(u,{id:"type",onChange:$,options:z.value,modelValue:c.value,"onUpdate:modelValue":e[7]||(e[7]=t=>c.value=t),optionLabel:"label"},null,8,["options","modelValue"]),Rl])]),((M=c.value)==null?void 0:M.value)=="Institution"?(f(),b("div",Sl,[l("span",Tl,[s(u,{id:"institution",onChange:Z,options:L.value,modelValue:m.value,"onUpdate:modelValue":e[8]||(e[8]=t=>m.value=t),optionLabel:"name"},null,8,["options","modelValue"]),Ol])])):S("",!0),((E=c.value)==null?void 0:E.value)=="Institution"?(f(),b("div",Ll,[l("span",kl,[s(u,{id:"institution",options:k.value,modelValue:v.value,"onUpdate:modelValue":e[9]||(e[9]=t=>v.value=t),optionLabel:"name"},null,8,["options","modelValue"]),ql])])):S("",!0),((F=c.value)==null?void 0:F.value)=="Institution"?(f(),b("div",Ml,[l("span",El,[s(u,{id:"institution",options:H.value,modelValue:p.value,"onUpdate:modelValue":e[10]||(e[10]=t=>p.value=t),optionLabel:"label"},null,8,["options","modelValue"]),Fl])])):S("",!0),l("div",jl,[l("span",Gl,[s(u,{id:"institution",options:_.value,modelValue:R.value,"onUpdate:modelValue":e[11]||(e[11]=t=>R.value=t),optionLabel:"name"},null,8,["options","modelValue"]),zl])]),l("div",Hl,[l("span",Jl,[s(q,{inputId:"textarea",rows:"3",cols:"30",modelValue:w.value,"onUpdate:modelValue":e[12]||(e[12]=t=>w.value=t)},null,8,["modelValue"]),Kl])]),l("div",Ql,[l("span",Wl,[s(u,{id:"instCity",options:O.value,modelValue:I.value,"onUpdate:modelValue":e[13]||(e[13]=t=>I.value=t),optionLabel:"name"},null,8,["options","modelValue"]),Xl])]),l("div",Yl,[l("span",Zl,[s(d,{type:"text",id:"instStreet",modelValue:N.value,"onUpdate:modelValue":e[14]||(e[14]=t=>N.value=t)},null,8,["modelValue"]),$l])]),l("div",le,[l("span",ee,[s(d,{type:"text",id:"instPOBox",modelValue:A.value,"onUpdate:modelValue":e[15]||(e[15]=t=>A.value=t)},null,8,["modelValue"]),te])]),l("div",oe,[l("span",se,[s(q,{inputId:"instDescription",rows:"3",cols:"30",modelValue:B.value,"onUpdate:modelValue":e[16]||(e[16]=t=>B.value=t)},null,8,["modelValue"]),ae])])])]),l("div",ne,[ie,l("div",de,[l("div",ue,[l("span",ce,[s(d,{type:"text",id:"password",modelValue:D.value,"onUpdate:modelValue":e[17]||(e[17]=t=>D.value=t)},null,8,["modelValue"]),me])]),l("div",re,[l("span",pe,[s(d,{type:"text",id:"confirmPassword",modelValue:P.value,"onUpdate:modelValue":e[18]||(e[18]=t=>P.value=t)},null,8,["modelValue"]),ve])]),_e,l("div",fe,[s(el,{onClick:J,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])])}}};export{Ve as default};
