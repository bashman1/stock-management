import{k as S,r,l as k,m as E,o as G,b as i,c as V,d as q,e as d,h as e,i as l,j as v,t as f,f as w,n as A,C as F}from"./index-9434943a.js";const M={className:"card"},U={style:{"padding-top":"20px"}},H={class:"grid p-fluid"},L={class:"field col-12 md:col-12"},Q={class:"p-float-label"},z={__name:"ProductInventoryReport",setup($){const c=S(),b=r(null),n=new F;k();const C=E(),_=r(!1),u=r(null),N=r(null),p=r({});r(null),r(0);const D=s=>{let a={productId:s};n.genericRequest("get-inventory-product-report","post",!0,a).then(t=>{t.status?b.value=t.data:n.showError(c,t.message)})},B=(s,a)=>{p.value[a]=n.validateFormField(s)},h=s=>{_.value=s},R=()=>{if(p.value.description=n.validateFormField(u.value),n.validateRequiredFields(p.value)){n.showError(c,"Please fill in the missing field");return}let a={description:u.value,acctNo:N.value};n.genericRequest("update-gl-account","post",!0,a).then(t=>{t.status?(n.showSuccess(c,t.message),getGlAccounts(),h(!1)):n.showError(c,t.message)})};return G(()=>{D(C.params.productId)}),(s,a)=>{const t=i("Column"),m=i("Row"),T=i("ColumnGroup"),I=i("DataTable"),P=i("Textarea"),y=i("Button"),x=i("Dialog");return V(),q("div",M,[a[5]||(a[5]=d("h5",null,"Product Inventory Report",-1)),e(I,{value:b.value,paginator:!0,class:"p-datatable-gridlines",rows:20,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:l(()=>[e(T,{type:"header"},{default:l(()=>[e(m,null,{default:l(()=>[e(t,{header:"Product Info",rowspan:3}),e(t,{header:"Account Name: ",colspan:6})]),_:1}),e(m,null,{default:l(()=>[e(t,{header:"Account Number : ",colspan:6})]),_:1}),e(m,null,{default:l(()=>[e(t,{header:"Opening Balance: 0",colspan:6})]),_:1}),e(m,null,{default:l(()=>[e(t,{header:"Transaction Date",sortable:"",field:"transaction_date"}),e(t,{header:"Name",sortable:"",field:"product_name"}),e(t,{header:"Purchase Price",sortable:"",field:"purchase_price"}),e(t,{header:"Quantity",sortable:"",field:"quantity"})]),_:1})]),_:1}),e(t,{field:"transaction_date",header:"Transaction Date",style:{"min-width":"12rem"}},{body:l(({data:o})=>[v(f(o.stock_date),1)]),_:1}),e(t,{field:"description",header:"Name",style:{"min-width":"10rem"}},{body:l(({data:o})=>[v(f(o.product_name),1)]),_:1}),e(t,{field:"balance",header:"Purchase Price",style:{"min-width":"10rem"}},{body:l(({data:o})=>[v(f(w(n).commaSeparator(o.purchase_price)),1)]),_:1}),e(t,{field:"balance",header:"Quantity",style:{"min-width":"10rem"}},{body:l(({data:o})=>[v(f(w(n).commaSeparator(o.quantity)),1)]),_:1})]),_:1},8,["value"]),e(x,{header:"Update Ledger Name",visible:_.value,"onUpdate:visible":a[3]||(a[3]=o=>_.value=o),style:{width:"30vw"},modal:!0,class:"p-fluid"},{footer:l(()=>[e(y,{label:"Cancel",onClick:a[2]||(a[2]=o=>h(!1)),icon:"pi pi-times",class:"p-button-outlined p-button-danger mr-2 mb-2"}),e(y,{onClick:R,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})]),default:l(()=>{var o;return[d("p",U,[d("div",H,[d("div",L,[d("span",Q,[e(P,{inputId:"description",onBlur:a[0]||(a[0]=g=>B(u.value,"description")),rows:"7",modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=g=>u.value=g),class:A({"p-invalid":(o=p.value)==null?void 0:o.description})},null,8,["modelValue","class"]),a[4]||(a[4]=d("label",{for:"description"},"Description",-1))])])])])]}),_:1},8,["visible"])])}}};export{z as default};
