import{i as S,r as d,j as N,m as T,o as B,b as g,c as v,d as C,p as E,F as V,f as c,t as m,e as M,h as r,k as i,C as A}from"./index-00bbecd2.js";class L{getCustomersSmall(){return fetch("demo/data/customers-small.json").then(e=>e.json()).then(e=>e.data)}getCustomersMedium(){return fetch("demo/data/customers-medium.json").then(e=>e.json()).then(e=>e.data)}getCustomersLarge(){return fetch("demo/data/customers-large.json").then(e=>e.json()).then(e=>e.data)}getCustomersXLarge(){return fetch("demo/data/customers-xlarge.json").then(e=>e.json()).then(e=>e.data)}getCustomers(e){const n=Object.keys(e).map(s=>encodeURIComponent(s)+"="+encodeURIComponent(e[s])).join("&");return fetch("https://www.primefaces.org//demo/data/customers?"+n).then(s=>s.json())}}const O={className:"card"},k={class:"vertical-align-middle ml-2 font-bold line-height-3"},D={class:"flex justify-content-end font-bold w-full"},q={__name:"BalanceSheet",setup(y){const e=S();d(null);const n=new A,s=new L;N(),T();const p=d([]),u=d(),h=d(),_=t=>{e.add({severity:"info",summary:"Row Group Expanded",detail:"Value: "+t.data,life:3e3})},R=t=>{e.add({severity:"success",summary:"Row Group Collapsed",detail:"Value: "+t.data,life:3e3})},x=t=>{let a=0;if(u.value)for(let o of u.value)o.representative.name===t&&a++;return a},b=()=>{n.genericRequest("get-gl-balance","post",!0,{}).then(t=>{t.status?p.value=t.data:n.showError(e,t.message)})},j=t=>{let a=0;return t.forEach(o=>{a=Number(a)+Number(o.balance)}),a};return B(()=>{b(),s.getCustomersMedium().then(t=>u.value=t)}),(t,a)=>{const o=g("Column"),G=g("DataTable");return v(!0),C(V,null,E(p.value,(f,F)=>{var w;return v(),C("div",O,[c("h5",null,m(((w=f[0])==null?void 0:w.acct_type)+", Total "+M(n).commaSeparator(j(f))),1),r(G,{expandedRowGroups:h.value,"onUpdate:expandedRowGroups":a[0]||(a[0]=l=>h.value=l),value:u.value,tableStyle:"min-width: 50rem",expandableRowGroups:"",rowGroupMode:"subheader",groupRowsBy:"representative.name",onRowgroupExpand:_,onRowgroupCollapse:R,sortMode:"single",sortField:"representative.name",sortOrder:1},{groupheader:i(l=>[c("span",k,m(l.data.representative.name),1)]),groupfooter:i(l=>[c("div",D,"Total Customers: "+m(x(l.data.representative.name)),1)]),default:i(()=>[r(o,{field:"name",header:"Acct No.",style:{width:"20%"}}),r(o,{field:"country",header:"Ledger No.",style:{width:"20%"}}),r(o,{field:"company",header:"Name",style:{width:"20%"}}),r(o,{field:"status",header:"Status",style:{width:"20%"}}),r(o,{field:"date",header:"Acct Balance",style:{width:"20%"}})]),_:1},8,["expandedRowGroups","value"])])}),256)}}};export{q as default};
