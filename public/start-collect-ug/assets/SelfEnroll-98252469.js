import{k as pl,l as fl,m as _l,r as t,o as bl,b as w,c as sl,d as nl,e as l,f as Vl,h as n,n as u,g as Nl,F as yl,_ as Fl,C as gl}from"./index-57f44d9e.js";const xl={class:"py-6 px-6"},wl={class:"card p-fluid"},hl={class:"grid p-fluid"},Bl={class:"field col-12 md:col-3"},Ul=["src"],kl=l("div",{class:"field col-12 md:col-9"},[l("h2",{class:"text-right mt-6"},"Please fill in to register")],-1),Pl=l("div",{class:"col-12 md:col-12"},[l("h5",null,"Institution Basic Info")],-1),Cl={class:"field col-12 md:col-4"},Il={class:"p-float-label"},$l=l("label",{for:"instName"},"Institution Name",-1),Sl={class:"field col-12 md:col-4"},Tl={class:"p-float-label"},El=l("label",{for:"instType"},"Institution Type",-1),Rl={class:"field col-12 md:col-4"},Ll={class:"p-float-label"},ql=l("label",{for:"instStart"},"Start Date",-1),Dl={class:"field col-12 md:col-12"},Al={class:"p-float-label"},Ol=l("label",{for:"textarea"},"Address",-1),Ml={class:"field col-12 md:col-3"},Wl={class:"p-float-label"},zl=l("label",{for:"instCity"},"City",-1),jl={class:"field col-12 md:col-3"},Gl={class:"p-float-label"},Hl=l("label",{for:"instStreet"},"Street",-1),Jl={class:"field col-12 md:col-3"},Kl={class:"p-float-label"},Ql=l("label",{for:"instPOBox"},"P.O Box",-1),Xl={key:0,class:"field col-12 md:col-3"},Yl={class:"p-float-label"},Zl=l("label",{for:"instPOBox"},"TIN",-1),le={class:"field col-12 md:col-12"},ee={class:"p-float-label"},oe=l("label",{for:"instDescription"},"Description",-1),ae=l("div",{class:"col-12 md:col-12"},[l("h5",null,"Institution Contact Info")],-1),te={class:"field col-12 md:col-3"},se={class:"p-float-label"},ne=l("label",{for:"contactName"},"Contact Person Name",-1),de={class:"field col-12 md:col-3"},ie={class:"p-float-label"},ue=l("label",{for:"contactNumber"},"Phone Number",-1),ce={class:"field col-12 md:col-3"},me={class:"p-float-label"},ve=l("label",{for:"contactEmail"},"Email",-1),re={class:"field col-12 md:col-3"},pe={class:"p-float-label"},fe=l("label",{for:"contactWeb"},"Website",-1),_e=l("div",{class:"field col-12 md:col-12"},[l("h5",null,"Institution Bank Info")],-1),be={class:"field col-12 md:col-4"},Ve={class:"p-float-label"},Ne=l("label",{for:"bankName"},"Bank",-1),ye={class:"field col-12 md:col-4"},Fe={class:"p-float-label"},ge=l("label",{for:"acctName"},"Account Name",-1),xe={class:"field col-12 md:col-4"},we={class:"p-float-label"},he=l("label",{for:"acctNumber"},"Account Number",-1),Be=l("div",{class:"field col-12 md:col-12"},[l("h5",null,"Institution User Info")],-1),Ue={class:"field col-12 md:col-4"},ke={class:"p-float-label"},Pe=l("label",{for:"firstName"},"First Name",-1),Ce={class:"field col-12 md:col-4"},Ie={class:"p-float-label"},$e=l("label",{for:"lastName"},"Last Name",-1),Se={class:"field col-12 md:col-4"},Te={class:"p-float-label"},Ee=l("label",{for:"otherName"},"Other Names",-1),Re={class:"field col-12 md:col-4"},Le={class:"p-float-label"},qe=l("label",{for:"email"},"Email",-1),De={class:"field col-12 md:col-4"},Ae={class:"p-float-label"},Oe=l("label",{for:"password"},"Password",-1),Me={class:"field col-12 md:col-4"},We={class:"p-float-label"},ze=l("label",{for:"confirmPassword"},"Confirm Password",-1),je={class:"field col-12 md:col-4"},Je={__name:"SelfEnroll",setup(Ge){const L=pl(),s=new gl,D=fl();_l();const v=t(null),r=t(null),m=t(null),h=t(null),p=t(null),B=t(null),U=t(null),k=t(null),f=t(null),_=t(null),b=t(null),P=t(null),V=t(null),N=t(null),y=t(null),A=t(null),O=t(null),M=t(null);t({});const a=t({}),F=t({id:1,name:"Enable tax",value:!0}),W=t(null),C=t(null),I=t(null),q=t(null),$=t(null),S=t(null),T=t(null),dl=()=>{s.genericRequest("get-institution-types","get",!1,{}).then(c=>{c.status&&(A.value=c.data)})},il=computed(()=>"demo/images/SmarCollectlogo-removebg-preview.png"),ul=()=>{s.genericRequest("get-city-county-id/1","get",!1,{}).then(c=>{c.status&&(O.value=c.data)})},cl=()=>{s.genericRequest("get-bank-ref","get",!1,{}).then(c=>{c.status&&(M.value=c.data)})},i=(c,e)=>{a.value[e]=s.validateFormField(c)},ml=()=>{var d,g,R,E;if(a.value.name=s.validateFormField(v.value),a.value.type=s.validateFormField(r.value),a.value.city=s.validateFormField(p.value),a.value.contactName=s.validateFormField(f.value),a.value.contactNumber=s.validateFormField(_.value),a.value.contactEmail=s.validateFormField(b.value),a.value.bankName=s.validateFormField(V.value),a.value.acctName=s.validateFormField(N.value),a.value.acctNumber=s.validateFormField(y.value),a.value.taxConfig=s.validateFormField(F.value),a.value.fName=s.validateFormField(C.value),a.value.lName=s.validateFormField(I.value),a.value.email=s.validateFormField($.value),a.value.password=s.validateFormField(S.value),a.value.confirmPassword=s.validateFormField(T.value),s.validateRequiredFields(a.value)){s.showError(L,"Please fill in the missing field");return}let e={id:null,name:v==null?void 0:v.value,type:(d=r==null?void 0:r.value)==null?void 0:d.id,start_date:m!=null&&m.value?m==null?void 0:m.value:new Date,address:h==null?void 0:h.value,city:(g=p==null?void 0:p.value)==null?void 0:g.id,street:B==null?void 0:B.value,p_o_box:U==null?void 0:U.value,description:k==null?void 0:k.value,contact_name:f==null?void 0:f.value,contact_number:_==null?void 0:_.value,contact_email:b==null?void 0:b.value,contact_web:P==null?void 0:P.value,bank_id:(R=V==null?void 0:V.value)==null?void 0:R.id,acct_name:N==null?void 0:N.value,acct_no:y==null?void 0:y.value,tax_config:(E=F==null?void 0:F.value)==null?void 0:E.value,tin:F.value.name,status:"Active",first_name:C.value,last_name:I.value,other_name:q.value,email:$.value,password:S.value,confirm_password:T.value};s.genericRequest("institution-self-registration","post",!1,e).then(x=>{x.status?(s.showSuccess(L,x.message),s.redirect(D,"/view-institutions")):s.showError(L,x.message)})},vl=()=>{D.push("/auth/login")};return bl(()=>{dl(),ul(),cl()}),(c,e)=>{var z,j,G,H,J,K,Q,X,Y,Z,ll,el,ol,al,tl;const d=w("InputText"),g=w("Dropdown"),R=w("Calendar"),E=w("Textarea"),x=w("Password"),rl=w("Button");return sl(),nl(yl,null,[l("div",xl,[l("div",wl,[l("div",hl,[l("div",Bl,[l("img",{src:Vl(il),alt:"Sakai logo",class:"mb-5 w-20rem flex-shrink-0"},null,8,Ul)]),kl,Pl,l("div",Cl,[l("span",Il,[n(d,{type:"text",id:"instName",modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=o=>v.value=o),onBlur:e[1]||(e[1]=o=>i(v.value,"name")),class:u({"p-invalid":(z=a.value)==null?void 0:z.name})},null,8,["modelValue","class"]),$l])]),l("div",Sl,[l("span",Tl,[n(g,{id:"instType",onBlur:e[2]||(e[2]=o=>i(r.value,"type")),options:A.value,modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=o=>r.value=o),class:u({"p-invalid":(j=a.value)==null?void 0:j.type}),optionLabel:"name"},null,8,["options","modelValue","class"]),El])]),l("div",Rl,[l("span",Ll,[n(R,{id:"instStart",modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=o=>m.value=o)},null,8,["modelValue"]),ql])]),l("div",Dl,[l("span",Al,[n(E,{id:"textarea",rows:"3",cols:"30",modelValue:h.value,"onUpdate:modelValue":e[5]||(e[5]=o=>h.value=o)},null,8,["modelValue"]),Ol])]),l("div",Ml,[l("span",Wl,[n(g,{id:"instCity",options:O.value,modelValue:p.value,"onUpdate:modelValue":e[6]||(e[6]=o=>p.value=o),onBlur:e[7]||(e[7]=o=>i(p.value,"city")),class:u({"p-invalid":(G=a.value)==null?void 0:G.city}),optionLabel:"name"},null,8,["options","modelValue","class"]),zl])]),l("div",jl,[l("span",Gl,[n(d,{type:"text",id:"instStreet",modelValue:B.value,"onUpdate:modelValue":e[8]||(e[8]=o=>B.value=o)},null,8,["modelValue"]),Hl])]),l("div",Jl,[l("span",Kl,[n(d,{type:"text",id:"instPOBox",modelValue:U.value,"onUpdate:modelValue":e[9]||(e[9]=o=>U.value=o)},null,8,["modelValue"]),Ql])]),(H=F.value)!=null&&H.value?(sl(),nl("div",Xl,[l("span",Yl,[n(d,{type:"text",id:"tin",modelValue:W.value,"onUpdate:modelValue":e[10]||(e[10]=o=>W.value=o)},null,8,["modelValue"]),Zl])])):Nl("",!0),l("div",le,[l("span",ee,[n(E,{id:"instDescription",rows:"3",cols:"30",modelValue:k.value,"onUpdate:modelValue":e[11]||(e[11]=o=>k.value=o)},null,8,["modelValue"]),oe])]),ae,l("div",te,[l("span",se,[n(d,{type:"text",id:"contactName",modelValue:f.value,"onUpdate:modelValue":e[12]||(e[12]=o=>f.value=o),onBlur:e[13]||(e[13]=o=>i(f.value,"contactName")),class:u({"p-invalid":(J=a.value)==null?void 0:J.contactName})},null,8,["modelValue","class"]),ne])]),l("div",de,[l("span",ie,[n(d,{id:"basic",modelValue:_.value,"onUpdate:modelValue":e[14]||(e[14]=o=>_.value=o),onBlur:e[15]||(e[15]=o=>i(_.value,"contactNumber")),class:u({"p-invalid":(K=a.value)==null?void 0:K.contactNumber})},null,8,["modelValue","class"]),ue])]),l("div",ce,[l("span",me,[n(d,{type:"text",id:"contactEmail",modelValue:b.value,"onUpdate:modelValue":e[16]||(e[16]=o=>b.value=o),onBlur:e[17]||(e[17]=o=>i(b.value,"contactEmail")),class:u({"p-invalid":(Q=a.value)==null?void 0:Q.contactEmail})},null,8,["modelValue","class"]),ve])]),l("div",re,[l("span",pe,[n(d,{type:"text",id:"contactWeb",modelValue:P.value,"onUpdate:modelValue":e[18]||(e[18]=o=>P.value=o)},null,8,["modelValue"]),fe])]),_e,l("div",be,[l("span",Ve,[n(g,{id:"bankName",options:M.value,modelValue:V.value,"onUpdate:modelValue":e[19]||(e[19]=o=>V.value=o),optionLabel:"name",onBlur:e[20]||(e[20]=o=>i(V.value,"bankName")),class:u({"p-invalid":(X=a.value)==null?void 0:X.bankName})},null,8,["options","modelValue","class"]),Ne])]),l("div",ye,[l("span",Fe,[n(d,{type:"text",id:"acctName",modelValue:N.value,"onUpdate:modelValue":e[21]||(e[21]=o=>N.value=o),onBlur:e[22]||(e[22]=o=>i(N.value,"acctName")),class:u({"p-invalid":(Y=a.value)==null?void 0:Y.acctName})},null,8,["modelValue","class"]),ge])]),l("div",xe,[l("span",we,[n(d,{type:"text",id:"acctNumber",modelValue:y.value,"onUpdate:modelValue":e[23]||(e[23]=o=>y.value=o),onBlur:e[24]||(e[24]=o=>i(y.value,"acctNumber")),class:u({"p-invalid":(Z=a.value)==null?void 0:Z.acctNumber})},null,8,["modelValue","class"]),he])]),Be,l("div",Ue,[l("span",ke,[n(d,{type:"text",id:"firstName",modelValue:C.value,"onUpdate:modelValue":e[25]||(e[25]=o=>C.value=o),onBlur:e[26]||(e[26]=o=>i(C.value,"fName")),class:u({"p-invalid":(ll=a.value)==null?void 0:ll.fName})},null,8,["modelValue","class"]),Pe])]),l("div",Ce,[l("span",Ie,[n(d,{type:"text",id:"lastName",modelValue:I.value,"onUpdate:modelValue":e[27]||(e[27]=o=>I.value=o),onBlur:e[28]||(e[28]=o=>i(I.value,"lName")),class:u({"p-invalid":(el=a.value)==null?void 0:el.lName})},null,8,["modelValue","class"]),$e])]),l("div",Se,[l("span",Te,[n(d,{type:"text",id:"otherName",modelValue:q.value,"onUpdate:modelValue":e[29]||(e[29]=o=>q.value=o)},null,8,["modelValue"]),Ee])]),l("div",Re,[l("span",Le,[n(d,{type:"text",id:"email",modelValue:$.value,"onUpdate:modelValue":e[30]||(e[30]=o=>$.value=o),onBlur:e[31]||(e[31]=o=>i($.value,"email")),class:u({"p-invalid":(ol=a.value)==null?void 0:ol.email})},null,8,["modelValue","class"]),qe])]),l("div",De,[l("span",Ae,[n(x,{type:"text",id:"password",modelValue:S.value,"onUpdate:modelValue":e[32]||(e[32]=o=>S.value=o),onBlur:e[33]||(e[33]=o=>i(S.value,"password")),class:u({"p-invalid":(al=a.value)==null?void 0:al.password})},null,8,["modelValue","class"]),Oe])]),l("div",Me,[l("span",We,[n(x,{type:"text",id:"confirmPassword",modelValue:T.value,"onUpdate:modelValue":e[34]||(e[34]=o=>T.value=o),onBlur:e[35]||(e[35]=o=>i(T.value,"confirmPassword")),class:u({"p-invalid":(tl=a.value)==null?void 0:tl.confirmPassword})},null,8,["modelValue","class"]),ze])]),l("div",{class:"field col-12 md:col-8"},[l("a",{class:"font-medium no-underline ml-2 text-left cursor-pointer",style:{color:"var(--primary-color)"},onClick:vl},"Back To Login")]),l("div",je,[n(rl,{onClick:ml,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])]),n(Fl,{simple:""})],64)}}};export{Je as default};
