import{k as G,r as c,l as V,m as F,o as R,b as d,p as U,c as q,d as M,h as o,i as n,e as r,j as u,t as m,f as $,q as D,n as I,C as L}from"./index-f2d51ebe.js";const j={className:"card"},z=r("h5",null,"Chart Of Accounts",-1),H={style:{"padding-top":"20px"}},K={class:"grid p-fluid"},O={class:"field col-12 md:col-12"},P={class:"p-float-label"},J=r("label",{for:"description"},"Description",-1),X={__name:"GlAccounts",setup(Q){const p=G(),b=c(null),l=new L,N=V();F();const g=c(!1),i=c(null),y=c(null),v=c({});c(null);const w=()=>{l.genericRequest("get-gl-accounts","get",!0,{}).then(t=>{t.status?b.value=t.data:l.showError(p,t.message)})},k=(t,a)=>{v.value[a]=l.validateFormField(t)},B=t=>{i.value=t.description,y.value=t.acct_no,h(!0)},h=t=>{g.value=t},T=()=>{if(v.value.description=l.validateFormField(i.value),l.validateRequiredFields(v.value)){l.showError(p,"Please fill in the missing field");return}let a={description:i.value,acctNo:y.value};l.genericRequest("update-gl-account","post",!0,a).then(s=>{s.status?(l.showSuccess(p,s.message),w(),h(!1)):l.showError(p,s.message)})},x=t=>{N.push("/gl-statement/"+(t==null?void 0:t.acct_no))};return R(()=>{w()}),(t,a)=>{const s=d("Column"),_=d("Button"),A=d("DataTable"),S=d("Textarea"),E=d("Dialog"),C=U("tooltip");return q(),M("div",j,[z,o(A,{value:b.value,paginator:!0,class:"p-datatable-gridlines",rows:20,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:n(()=>[o(s,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:n(({data:e})=>[u(m(e.description),1)]),_:1}),o(s,{field:"name",header:"Acct Balance",style:{"min-width":"10rem"}},{body:n(({data:e})=>[u(m($(l).commaSeparator(e.balance)),1)]),_:1}),o(s,{field:"name",header:"Acct No.",style:{"min-width":"10rem"}},{body:n(({data:e})=>[u(m(e.acct_no),1)]),_:1}),o(s,{field:"name",header:"Acct Type",style:{"min-width":"10rem"}},{body:n(({data:e})=>[u(m(e.acct_type),1)]),_:1}),o(s,{field:"name",header:"Ledger No.",style:{"min-width":"10rem"}},{body:n(({data:e})=>[u(m(e.gl_no),1)]),_:1}),o(s,{headerStyle:"max-width:10rem;"},{body:n(({data:e})=>[D(o(_,{icon:"pi pi-eye",onClick:f=>x(e),class:"p-button-primary mr-2"},null,8,["onClick"]),[[C,"Gl. account statement"]]),D(o(_,{icon:"pi pi-pencil",onClick:f=>B(e),class:"p-button-success mr-2"},null,8,["onClick"]),[[C,"Update gl account description"]])]),_:1})]),_:1},8,["value"]),o(E,{header:"Update Ledger Name",visible:g.value,"onUpdate:visible":a[3]||(a[3]=e=>g.value=e),style:{width:"30vw"},modal:!0,class:"p-fluid"},{footer:n(()=>[o(_,{label:"Cancel",onClick:a[2]||(a[2]=e=>h(!1)),icon:"pi pi-times",class:"p-button-outlined p-button-danger mr-2 mb-2"}),o(_,{onClick:T,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})]),default:n(()=>{var e;return[r("p",H,[r("div",K,[r("div",O,[r("span",P,[o(S,{inputId:"description",onBlur:a[0]||(a[0]=f=>k(i.value,"description")),rows:"7",modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=f=>i.value=f),class:I({"p-invalid":(e=v.value)==null?void 0:e.description})},null,8,["modelValue","class"]),J])])])])]}),_:1},8,["visible"])])}}};export{X as default};
