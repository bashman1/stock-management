import{h as j,i as H,r as s,o as $,b as m,c as n,d as u,f as t,e as o,j as r,l as c,k as C,t as k,C as z}from"./index-c4c349fe.js";const F={className:"card"},G=o("h5",null,"Collect Money",-1),J={class:"grid p-fluid mt-3"},O={class:"col-12 md:col-12"},Q={class:"p-inputgroup"},W={key:0,class:"field col-12 md:col-12"},X={key:1,class:"field col-12 md:col-4"},Y={class:"p-float-label"},Z=o("label",{for:"name"},"Member Name",-1),ee={key:2,class:"field col-12 md:col-4"},le={class:"p-float-label"},te=o("label",{for:"number"},"Member Number",-1),oe={key:3,class:"field col-12 md:col-4"},ae={class:"p-float-label"},se=o("label",{for:"contact"},"Member Contact",-1),ne={key:4,class:"field col-12 md:col-4"},ue={class:"p-float-label"},de=o("label",{for:"amount"},"Amount",-1),ce={key:5,class:"field col-12 md:col-4"},me={class:"p-float-label"},ie=o("label",{for:"transactionType"},"Transact type",-1),re={key:6,class:"field col-12 md:col-4"},_e={class:"p-float-label"},pe=o("label",{for:"date"},"Date",-1),be={key:7,class:"field col-12 md:col-12"},ve={class:"p-float-label"},he=o("label",{for:"textarea"},"Description",-1),ye=o("div",{class:"field col-12 md:col-6"},null,-1),fe={key:8,class:"field col-12 md:col-2"},Ve={key:9,class:"field col-12 md:col-4"},we={__name:"CollectMoney",setup(Ce){const M=j(),_=new z,g=H(),i=s(null),v=s(null),h=s(null),y=s(null),T=s(null),w=s(null),N=s(null),x=s(null),D=s(null),S=s(null),a=s(null),U=s([{label:"Cash Deposit",value:"DP"},{label:"Shares Purchase",value:"SP"},{label:"Loan Repayment",value:"LN"}]),B=d=>{let l={status:"Active",searchKey:d};_.genericRequest("get-members-by-institution","post",!0,l).then(f=>{f.status&&(D.value=f.data)})},A=()=>{B(i.value)},L=d=>{i.value=null,a.value=d,S.value=d.id,v.value=d.name,h.value=d.member_number,y.value=d.phone_number},I=()=>{i.value=null,a.value=null,D.value=null},P=()=>{let d={name:v.value,member_number:h.value,member_contact:y.value,amount:T.value,tran_type:w.value.value,tran_date:N.value,description:x.value,member_id:S.value};_.genericRequest("collect-deposit","post",!0,d).then(l=>{l.status?(_.showSuccess(M,l.message),_.redirect(g,"/view-collected-money")):_.showError(M,l.message)})};return $(()=>{}),(d,l)=>{const f=m("Toast"),p=m("InputText"),V=m("Button"),b=m("Column"),R=m("DataTable"),E=m("Dropdown"),K=m("Calendar"),q=m("Textarea");return n(),u("div",F,[G,t(f),o("div",J,[o("div",O,[o("div",Q,[t(p,{placeholder:"Search by Member name or number",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value=e)},null,8,["modelValue"]),t(V,{onClick:A,disabled:i.value==null,label:"Search"},null,8,["disabled"])])]),a.value?c("",!0):(n(),u("div",W,[t(R,{value:D.value,paginator:!0,class:"p-datatable-gridlines",rows:10,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:r(()=>[t(b,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:r(({data:e})=>[C(k(e.name),1)]),_:1}),t(b,{header:"Member No.",style:{"min-width":"10rem"}},{body:r(({data:e})=>[C(k(e.member_number),1)]),_:1}),t(b,{header:"Phone Number",style:{"min-width":"12rem"}},{body:r(({data:e})=>[C(k(e.phone_number),1)]),_:1}),t(b,{header:"Alt. Member No.",style:{"min-width":"10rem"}},{body:r(({data:e})=>[C(k(e.alt_member_number),1)]),_:1}),t(b,{header:"Select",headerStyle:"min-width:5rem;"},{body:r(({data:e})=>[t(V,{icon:"pi pi-check",class:"p-button-rounded p-button-success mr-2",onClick:ke=>L(e)},null,8,["onClick"])]),_:1})]),_:1},8,["value"])])),a.value?(n(),u("div",X,[o("span",Y,[t(p,{type:"text",id:"name",modelValue:v.value,"onUpdate:modelValue":l[1]||(l[1]=e=>v.value=e),disabled:"true"},null,8,["modelValue"]),Z])])):c("",!0),a.value?(n(),u("div",ee,[o("span",le,[t(p,{type:"text",id:"number",modelValue:h.value,"onUpdate:modelValue":l[2]||(l[2]=e=>h.value=e),disabled:"true"},null,8,["modelValue"]),te])])):c("",!0),a.value?(n(),u("div",oe,[o("span",ae,[t(p,{type:"text",id:"contact",modelValue:y.value,"onUpdate:modelValue":l[3]||(l[3]=e=>y.value=e),disabled:"true"},null,8,["modelValue"]),se])])):c("",!0),a.value?(n(),u("div",ne,[o("span",ue,[t(p,{type:"text",id:"amount",modelValue:T.value,"onUpdate:modelValue":l[4]||(l[4]=e=>T.value=e)},null,8,["modelValue"]),de])])):c("",!0),a.value?(n(),u("div",ce,[o("span",me,[t(E,{id:"transactionType",options:U.value,modelValue:w.value,"onUpdate:modelValue":l[5]||(l[5]=e=>w.value=e),optionLabel:"label"},null,8,["options","modelValue"]),ie])])):c("",!0),a.value?(n(),u("div",re,[o("span",_e,[t(K,{id:"date",modelValue:N.value,"onUpdate:modelValue":l[6]||(l[6]=e=>N.value=e)},null,8,["modelValue"]),pe])])):c("",!0),a.value?(n(),u("div",be,[o("span",ve,[t(q,{id:"textarea",rows:"3",cols:"30",modelValue:x.value,"onUpdate:modelValue":l[7]||(l[7]=e=>x.value=e)},null,8,["modelValue"]),he])])):c("",!0),ye,a.value?(n(),u("div",fe,[t(V,{onClick:I,label:"CANCEL",class:"p-button-outlined p-button-danger mr-2 mb-2"})])):c("",!0),a.value?(n(),u("div",Ve,[t(V,{onClick:P,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])):c("",!0)])])}}};export{we as default};
