import{k as R,l as C,r as y,o as S,b as d,c as k,d as L,e as p,h as o,i as n,j as i,t as c,f as u,C as D}from"./index-698191a2.js";const T={class:"card"},B={class:"my-2"},A={__name:"SalesItemReport",setup(P){R();const r=new D;C();const f=y(null),m=y(!1),b=()=>{let s={status:"Active"};r.genericRequest("get-item-sales-report","post",!0,s).then(t=>{t.status&&(f.value=t.data)})},h=()=>{try{m.value=!0,r.genericRequest("download-sales-item-report-pdf","post",!0,{status:"Active"},!0).then(s=>{const t=window.URL.createObjectURL(new Blob([s])),a=document.createElement("a");a.href=t,a.setAttribute("download","sales_reports.pdf"),document.body.appendChild(a),a.click()})}catch(s){console.log(s)}finally{m.value=!1}},v=()=>{try{m.value=!0,r.genericRequest("download-sales-item-report-csv","post",!0,{status:"Active"},!0).then(s=>{const t=window.URL.createObjectURL(new Blob([s])),a=document.createElement("a");a.href=t,a.setAttribute("download","sales_reports.csv"),document.body.appendChild(a),a.click()})}catch(s){console.log(s)}finally{m.value=!1}};return S(()=>{b()}),(s,t)=>{const a=d("Toast"),_=d("Button"),w=d("Toolbar"),l=d("Column"),g=d("DataTable");return k(),L("div",null,[p("div",T,[t[2]||(t[2]=p("h5",null,"Sales report.",-1)),o(a),o(w,{class:"mb-4"},{end:n(()=>[p("div",B,[o(_,{label:"CSV",icon:"pi pi-file-excel",class:"p-button-success mr-2",onClick:t[0]||(t[0]=()=>v())}),o(_,{label:"PDF",icon:"pi pi-file-pdf",class:"p-button-danger",onClick:t[1]||(t[1]=()=>h())})])]),_:1}),o(g,{value:f.value,paginator:!0,class:"p-datatable-gridlines",rows:20,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:n(()=>[o(l,{field:"name",header:"Date",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(c(e.created_at),1)]),_:1}),o(l,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(c(e.product_name),1)]),_:1}),o(l,{field:"name",header:"Quantity Sold",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(c(u(r).commaSeparator(e.quantity)),1)]),_:1}),o(l,{field:"name",header:"Measurement Unit",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(c(e.measurement_unit),1)]),_:1}),o(l,{field:"name",header:"Amount",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(c(u(r).commaSeparator(e.quantity*e.selling_price)),1)]),_:1}),o(l,{field:"name",header:"Selling Price",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(c(u(r).commaSeparator(e.selling_price)),1)]),_:1}),o(l,{field:"name",header:"Profit Margin",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(c(u(r).commaSeparator(e.selling_price-e.purchase_price)),1)]),_:1})]),_:1},8,["value"])])])}}};export{A as default};
