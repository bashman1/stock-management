import{k as f,l as _,r,b as d,c as v,d as h,e,h as c,C as w}from"./index-698191a2.js";const g={class:"card"},k={class:"grid p-fluid mt-3"},B={class:"field col-12 md:col-12"},b={class:"field col-12 md:col-4"},S={__name:"BulkUploadProducts",setup(x){const n=f(),t=new w;_();const l=r(null);r(null);const i=s=>{l.value=s.target.files[0]},u=async()=>{if(!l.value)return;const s=new FormData;s.append("file",l.value),s.append("name",l.value.name);try{const o=await fetch(t.baseUrl+"upload-products",{method:"POST",body:s,headers:{Authorization:`Bearer ${t.getStorage().token}`}});if(!o.ok)throw new Error("Upload failed");const a=await o.json();t.showSuccess(n,a.message)}catch(o){console.error(o.message),t.showError(n,o.message)}};return(s,o)=>{const a=d("Toast"),p=d("Button");return v(),h("div",g,[o[2]||(o[2]=e("h5",null,"Bulk Upload",-1)),o[3]||(o[3]=e("a",{href:"demo/documents/bulk_product_template.xlsx"},[e("i",{class:"pi pi-cloud-download",style:{"font-size":"2rem"}}),e("p",null,"Download template")],-1)),e("div",k,[c(a),e("div",B,[e("input",{type:"file",accept:".xlsx, .xls",onChange:o[0]||(o[0]=m=>i(m))},null,32)]),o[1]||(o[1]=e("div",{class:"field col-12 md:col-8"},null,-1)),e("div",b,[c(p,{onClick:u,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])}}};export{S as default};
