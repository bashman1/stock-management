import{l as R,r as u,m as T,q as k,o as x,b as _,v as B,c as V,d as q,h as t,i as a,e as o,k as n,t as s,f as c,x as I,C as M}from"./index-6358d3bc.js";const E={className:"card"},P=o("h5",null,"View Sales",-1),H={style:{padding:"20px"}},K={class:"grid p-fluid"},L={class:"field col-12 md:col-12"},O={class:"field col-6 md:col-6"},$={class:"p-float-label"},A={for:"unitName"},Q={class:"field col-6 md:col-6"},U={class:"p-float-label"},j={for:"unitName"},z={class:"field col-6 md:col-6"},F={class:"p-float-label"},G={for:"unitName"},J={class:"field col-6 md:col-6"},W={class:"p-float-label"},X={for:"unitName"},Y=o("hr",null,null,-1),Z={class:"grid p-fluid"},ae={__name:"ViewOrders",setup(ee){const h=R(),f=u(null),p=u(!1),v=u(null),d=new M,m=u({});T(),k();const w=()=>{d.genericRequest("get-orders","get",!0,{}).then(l=>{l.status?f.value=l.data:d.showError(h,l.message)})},g=l=>{N(!0),m.value=l,D(l==null?void 0:l.id)},D=l=>{d.genericRequest("get-orders-details/"+l,"get",!0,{}).then(r=>{r.status?v.value=r.data:d.showError(h,r.message)})},N=l=>{p.value=l};return x(()=>{w()}),(l,r)=>{const i=_("Column"),y=_("Button"),b=_("DataTable"),S=_("Dialog"),C=B("tooltip");return V(),q("div",E,[P,t(b,{value:f.value,paginator:!0,class:"p-datatable-gridlines",rows:10,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:a(()=>[t(i,{field:"Ref No.",header:"Ref No.",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(e.ref_no),1)]),_:1}),t(i,{field:"Receipt No.",header:"Receipt No.",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(e.receipt_no),1)]),_:1}),t(i,{field:"name",header:"Item Count",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(e.item_count),1)]),_:1}),t(i,{field:"name",header:"Amount Paid",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(c(d).commaSeparator(e.amount_paid)),1)]),_:1}),t(i,{field:"name",header:"Cost",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(c(d).commaSeparator(e.total)),1)]),_:1}),t(i,{field:"name",header:"Change",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(c(d).commaSeparator(e.amount_paid-e.total)),1)]),_:1}),t(i,{header:"Discount",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(c(d).commaSeparator(e.discount)),1)]),_:1}),t(i,{header:"Status",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(e.payment_status),1)]),_:1}),t(i,{header:"Date",style:{"max-width":"10rem"}},{body:a(({data:e})=>[n(s(e.created_at),1)]),_:1}),t(i,{headerStyle:"min-width:10rem;"},{body:a(({data:e})=>[I(t(y,{icon:"pi pi-eye",class:"p-button-primary mr-2",onClick:te=>g(e)},null,8,["onClick"]),[[C,"View sell details"]])]),_:1})]),_:1},8,["value"]),t(S,{header:"Sales Details",visible:p.value,"onUpdate:visible":r[1]||(r[1]=e=>p.value=e),style:{width:"33vw"},modal:!0,class:"p-fluid"},{footer:a(()=>[t(y,{label:"Cancel",onClick:r[0]||(r[0]=e=>l.toggleTypeModal(!1)),icon:"pi pi-times",class:"p-button-outlined p-button-danger mr-2 mb-2"})]),default:a(()=>[o("p",H,[o("div",K,[o("div",L,[o("h1",null,s(m.value.institution_name),1)]),o("div",O,[o("span",$,[o("label",A,"Ref No.: "+s(m.value.ref_no),1)])]),o("div",Q,[o("span",U,[o("label",j,"Receipt No.: "+s(m.value.receipt_no),1)])]),o("div",z,[o("span",F,[o("label",G,"Item Count: "+s(m.value.item_count),1)])]),o("div",J,[o("span",W,[o("label",X,"Total: "+s(c(d).commaSeparator(m.value.total)),1)])]),Y]),o("div",Z,[t(b,{value:v.value,paginator:!0,class:"p-datatable-gridlines",rows:10,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:a(()=>[t(i,{field:"Ref No.",header:"Item",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(e.name),1)]),_:1}),t(i,{field:"Receipt No.",header:"Price",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(c(d).commaSeparator(e.price)),1)]),_:1}),t(i,{field:"name",header:"Qty",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(e.qty),1)]),_:1}),t(i,{field:"name",header:"Sub Total",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(s(c(d).commaSeparator(e.price*e.qty)),1)]),_:1})]),_:1},8,["value"])])])]),_:1},8,["visible"])])}}};export{ae as default};
