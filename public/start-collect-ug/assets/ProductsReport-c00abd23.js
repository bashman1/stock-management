import{k as D,l as L,r as b,o as x,b as d,p as B,c as U,d as q,e as _,h as t,i as n,j as i,t as l,f as m,q as v,C as A}from"./index-9017d927.js";const N={class:"card"},V={class:"my-2"},F={__name:"ProductsReport",setup(j){D();const c=new A,y=L(),f=b(null),p=b(!1),w=()=>{let o={status:"Active"};c.genericRequest("get-products-report","post",!0,o).then(r=>{r.status&&(f.value=r.data)})},g=o=>{y.push("/product-inventory-report/"+o.id)},C=o=>{y.push("/products-sales-report/"+o.id)},k=()=>{try{p.value=!0,c.genericRequest("download-product-report-pdf","post",!0,{},!0).then(o=>{const r=window.URL.createObjectURL(new Blob([o])),a=document.createElement("a");a.href=r,a.setAttribute("download","product_reports.pdf"),document.body.appendChild(a),a.click()})}catch(o){console.log(o)}finally{p.value=!1}},R=()=>{try{p.value=!0,c.genericRequest("download-product-report-csv","post",!0,{},!0).then(o=>{const r=window.URL.createObjectURL(new Blob([o])),a=document.createElement("a");a.href=r,a.setAttribute("download","product_reports.csv"),document.body.appendChild(a),a.click()})}catch(o){console.log(o)}finally{p.value=!1}};return x(()=>{w()}),(o,r)=>{const a=d("Toast"),u=d("Button"),S=d("Toolbar"),s=d("Column"),T=d("DataTable"),h=B("tooltip");return U(),q("div",null,[_("div",N,[r[2]||(r[2]=_("h5",null,"Products report.",-1)),t(a),t(S,{class:"mb-4"},{end:n(()=>[_("div",V,[t(u,{label:"CSV",icon:"pi pi-file-excel",class:"p-button-success mr-2",onClick:r[0]||(r[0]=()=>R())}),t(u,{label:"PDF",icon:"pi pi-file-pdf",class:"p-button-danger",onClick:r[1]||(r[1]=()=>k())})])]),_:1}),t(T,{value:f.value,paginator:!0,class:"p-datatable-gridlines",rows:20,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:n(()=>[t(s,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(l(e.name),1)]),_:1}),t(s,{field:"name",header:"Type",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(l(e.type_name),1)]),_:1}),t(s,{field:"name",header:"Category",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(l(e.category_name),1)]),_:1}),t(s,{field:"name",header:"Stock Available",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(l(m(c).commaSeparator(e.quantity)),1)]),_:1}),t(s,{field:"name",header:"Measurement",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(l(e.measurement_unit_name),1)]),_:1}),t(s,{field:"name",header:"Purchase Price",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(l(m(c).commaSeparator(e.purchase_price)),1)]),_:1}),t(s,{field:"name",header:"Selling Price",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(l(m(c).commaSeparator(e.selling_price)),1)]),_:1}),t(s,{field:"name",header:"Profit Margin",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(l(m(c).commaSeparator(e.selling_price-e.purchase_price)),1)]),_:1}),t(s,{field:"name",header:"Product No.",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(l(e.product_no),1)]),_:1}),t(s,{field:"name",header:"VAT Tax",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(l(e.tax_config),1)]),_:1}),t(s,{headerStyle:"min-width:10rem;"},{body:n(({data:e})=>[v(t(u,{icon:"pi pi-shopping-bag",onClick:P=>g(e),class:"p-button-primary mr-2"},null,8,["onClick"]),[[h,"Inventory report"]]),v(t(u,{icon:"pi pi-ticket",onClick:P=>C(e),class:"p-button-success mr-2"},null,8,["onClick"]),[[h,"Sales report"]])]),_:1})]),_:1},8,["value"])])])}}};export{F as default};
