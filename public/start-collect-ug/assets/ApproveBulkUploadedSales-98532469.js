import{l as k,m as B,k as D,r as v,o as S,b as i,c as T,d as C,e as m,h as t,i as s,j as n,t as l,C as N}from"./index-b5c7fff2.js";const M={class:"grid"},R={class:"col-12"},x={className:"card"},A=m("h5",null,"Approve Batch",-1),q={class:"my-2"},V={__name:"ApproveBulkUploadedSales",setup(E){k();const p=B(),_=D(),r=new N,h=v(null),c=v(null),b=u=>{let a={status:"Pending",batchId:u};r.genericRequest("get-batch-sales","post",!0,a).then(d=>{d.status?h.value=d.data:r.showError(_,d.message)})},y=()=>{let u={sales:c.value,status:"Active"};r.genericRequest("approve-batch-sales","post",!0,u).then(a=>{a.status?(r.showSuccess(_,a.message),b(p.params.id)):r.showError(_,a.message)})};return S(()=>{b(p.params.id)}),(u,a)=>{const d=i("Toast"),w=i("Button"),g=i("Toolbar"),o=i("Column"),f=i("DataTable");return T(),C("div",M,[m("div",R,[m("div",x,[A,t(d),t(g,{class:"mb-4"},{start:s(()=>[m("div",q,[t(w,{label:"Approve",icon:"pi pi-check",class:"p-button-success",onClick:y,disabled:!c.value||!c.value.length},null,8,["disabled"])])]),end:s(()=>[]),_:1}),t(f,{value:h.value,paginator:!0,class:"p-datatable-gridlines",rows:10,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll",selection:c.value,"onUpdate:selection":a[0]||(a[0]=e=>c.value=e),rowsPerPageOptions:[5,10,25]},{default:s(()=>[t(o,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:s(({data:e})=>[n(l(e.product_name),1)]),_:1}),t(o,{header:"Ref. No.",style:{"min-width":"10rem"}},{body:s(({data:e})=>[n(l(e.ref_no),1)]),_:1}),t(o,{header:"Quantity",style:{"min-width":"12rem"}},{body:s(({data:e})=>[n(l(e.quantity),1)]),_:1}),t(o,{header:"Stock Date",style:{"min-width":"10rem"}},{body:s(({data:e})=>[n(l(e.stock_date),1)]),_:1}),t(o,{header:"Status",style:{"min-width":"10rem"}},{body:s(({data:e})=>[n(l(e.status),1)]),_:1}),t(o,{header:"Date",style:{"min-width":"10rem"}},{body:s(({data:e})=>[n(l(e.created_at),1)]),_:1}),t(o,{selectionMode:"multiple",headerStyle:"width: 3rem"})]),_:1},8,["value","selection"])])])])}}};export{V as default};
