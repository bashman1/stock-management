import{k as w,r as b,o as v,b as h,c as f,d as C,e as i,h as t,i as s,j as o,t as r,z as S,C as D}from"./index-aeaeab00.js";const x={class:"grid"},B={class:"col-12"},L={class:"card"},R=i("h5",null,"Audit Logs",-1),k={__name:"ViewLogs",setup(T){const y=w(),d=b(null),c=new D,m=l=>{c.genericRequest(`get-audit-trail?page=${l}`,"get",!0,{}).then(n=>{n.status?d.value=n.data:c.showError(y,n.message)})},g=l=>{m(l.page+1)};return v(()=>{m(1)}),(l,n)=>{var u,_;const a=h("Column"),p=h("DataTable");return f(),C("div",x,[i("div",B,[i("div",L,[R,t(p,{value:(u=d.value)==null?void 0:u.data,paginator:!0,class:"p-datatable-gridlines",lazy:"",totalRecords:(_=d.value)==null?void 0:_.total,onPage:n[0]||(n[0]=e=>g(e)),rows:15,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:s(()=>[t(a,{field:"action",header:"Action",style:{"min-width":"10rem"}},{body:s(({data:e})=>[o(r(e.action),1)]),_:1}),t(a,{header:"IP Address",style:{"min-width":"10rem"}},{body:s(({data:e})=>[o(r(e.ip),1)]),_:1}),t(a,{header:"Message",style:{"min-width":"12rem"}},{body:s(({data:e})=>[o(r(e.return_message),1)]),_:1}),t(a,{header:"Status",style:{"min-width":"10rem"}},{body:s(({data:e})=>[i("span",null,[o(r(e.return_status?"Successful":"Failed")+" ",1),i("i",{class:"pi pi-circle-fill",style:S({color:e.return_status?"green":"red"})},null,4)])]),_:1}),t(a,{header:"Role",style:{"min-width":"10rem"}},{body:s(({data:e})=>[o(r(e.role),1)]),_:1}),t(a,{header:"User",style:{"min-width":"10rem"}},{body:s(({data:e})=>[o(r(e.user),1)]),_:1}),t(a,{header:"User type",style:{"min-width":"10rem"}},{body:s(({data:e})=>[o(r(e.user_type),1)]),_:1}),t(a,{header:"Institution",style:{"min-width":"10rem"}},{body:s(({data:e})=>[o(r(e.institution),1)]),_:1}),t(a,{header:"Branch",style:{"min-width":"10rem"}},{body:s(({data:e})=>[o(r(e.branch),1)]),_:1}),t(a,{header:"Date",style:{"min-width":"10rem"}},{body:s(({data:e})=>[o(r(e.created_at),1)]),_:1})]),_:1},8,["value","totalRecords"])])])])}}};export{k as default};
