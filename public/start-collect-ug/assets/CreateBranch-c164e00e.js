import{k as S,l as D,m as k,r as a,o as q,b as r,c as E,d as $,e,h as n,n as g,C as A}from"./index-5b2445c5.js";const L={class:"card"},M=e("h5",null,"Create Branch",-1),P={class:"grid p-fluid mt-3"},z={class:"field col-12 md:col-4"},O={class:"p-float-label"},j=e("label",{for:"instName"},"Branch Name",-1),G={class:"field col-12 md:col-4"},H={class:"p-float-label"},J=e("label",{for:"institution"},"Institution",-1),K={class:"field col-12 md:col-4"},Q={class:"p-float-label"},W=e("label",{for:"instCity"},"City",-1),X={class:"field col-12 md:col-12"},Y={class:"p-float-label"},Z=e("label",{for:"textarea"},"Address",-1),ee={class:"field col-12 md:col-4"},te={class:"p-float-label"},le=e("label",{for:"instName"},"Street",-1),oe={class:"field col-12 md:col-4"},se={class:"p-float-label"},ae=e("label",{for:"instName"},"P.O Box",-1),ne={class:"field col-12 md:col-12"},ie={class:"p-float-label"},de=e("label",{for:"textarea"},"Description",-1),ue=e("div",{class:"field col-12 md:col-8"},null,-1),ce={class:"field col-12 md:col-4"},ve={__name:"CreateBranch",setup(re){const f=S(),o=new A;D(),k();const B=a(null),i=a({}),c=a(null),m=a(null),b=a(null),h=a(null),v=a(null),V=a(null),C=a(null),_=a(null),U=()=>{o.genericRequest("get-institutions","get",!0,{}).then(s=>{s.status&&(B.value=s.data)})},F=()=>{o.genericRequest("get-city-county-id/1","get",!0,{}).then(s=>{s.status&&(C.value=s.data)})},x=(s,t)=>{i.value[t]=o.validateFormField(s)},I=()=>{var p,d;if(i.value.name=o.validateFormField(c.value),i.value.institution=o.validateFormField(m.value),o.validateRequiredFields(i.value)){o.showError(f,"Please fill in the missing field");return}let t={name:c.value,institution_id:(p=m.value)==null?void 0:p.id,city_id:(d=b.value)==null?void 0:d.id,address:h.value,p_o_box:v.value,description:V.value,street:_.value,status:"Active",is_main:!1};o.genericRequest("create-branch","post",!0,t).then(u=>{u.status?o.showSuccess(f,u.message):o.showError(f,u.message)})};return q(()=>{U(),F()}),(s,t)=>{var N,w,T;const p=r("Toast"),d=r("InputText"),u=r("Dropdown"),y=r("Textarea"),R=r("Button");return E(),$("div",null,[e("div",L,[M,e("div",P,[n(p),e("div",z,[e("span",O,[n(d,{type:"text",id:"instName",modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=l=>c.value=l),onBlur:t[1]||(t[1]=l=>x(c.value,"name")),class:g({"p-invalid":(N=i.value)==null?void 0:N.name})},null,8,["modelValue","class"]),j])]),e("div",G,[e("span",H,[n(u,{id:"institution",onChange:s.onInstitutionChange,options:B.value,modelValue:m.value,"onUpdate:modelValue":t[2]||(t[2]=l=>m.value=l),optionLabel:"name"},null,8,["onChange","options","modelValue"]),J])]),e("div",K,[e("span",Q,[n(u,{id:"instCity",options:C.value,modelValue:b.value,"onUpdate:modelValue":t[3]||(t[3]=l=>b.value=l),optionLabel:"name"},null,8,["options","modelValue"]),W])]),e("div",X,[e("span",Y,[n(y,{id:"textarea",rows:"3",cols:"30",modelValue:h.value,"onUpdate:modelValue":t[4]||(t[4]=l=>h.value=l)},null,8,["modelValue"]),Z])]),e("div",ee,[e("span",te,[n(d,{type:"text",id:"instName",modelValue:_.value,"onUpdate:modelValue":t[5]||(t[5]=l=>_.value=l),onBlur:t[6]||(t[6]=l=>x(_.value,"street")),class:g({"p-invalid":(w=i.value)==null?void 0:w.street})},null,8,["modelValue","class"]),le])]),e("div",oe,[e("span",se,[n(d,{type:"text",id:"instName",modelValue:v.value,"onUpdate:modelValue":t[7]||(t[7]=l=>v.value=l),onBlur:t[8]||(t[8]=l=>x(v.value,"p_o_box")),class:g({"p-invalid":(T=i.value)==null?void 0:T.p_o_box})},null,8,["modelValue","class"]),ae])]),e("div",ne,[e("span",ie,[n(y,{id:"textarea",rows:"3",cols:"30",modelValue:V.value,"onUpdate:modelValue":t[9]||(t[9]=l=>V.value=l)},null,8,["modelValue"]),de])]),ue,e("div",ce,[n(R,{onClick:I,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])])}}};export{ve as default};
