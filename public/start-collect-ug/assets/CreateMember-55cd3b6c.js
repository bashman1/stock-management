import{l as G,m as j,r as o,o as H,b as r,c as E,d as O,e,h as s,g as J,p as P,C as K}from"./index-176c0cd2.js";const Q={class:"card"},W=e("h5",null,"Create Members",-1),X={class:"grid p-fluid mt-3"},Y={key:0,class:"field col-12 md:col-4"},Z={class:"p-float-label"},ee=e("label",{for:"institution"},"Institution",-1),le={class:"field col-12 md:col-4"},te={class:"p-float-label"},oe=e("label",{for:"firstName"},"First Name",-1),se={class:"field col-12 md:col-4"},ae={class:"p-float-label"},ne=e("label",{for:"lastName"},"Last Name",-1),de={class:"field col-12 md:col-4"},ie={class:"p-float-label"},ue=e("label",{for:"otherName"},"Other Names",-1),me={class:"field col-12 md:col-4"},ce={class:"p-float-label"},re=e("label",{for:"email"},"Email",-1),ve={class:"field col-12 md:col-4"},_e={class:"p-float-label"},pe=e("label",{for:"phoneNumber"},"Phone Number",-1),fe={class:"field col-12 md:col-4"},be={class:"p-float-label"},Ve=e("label",{for:"dob"},"Date Of Birth",-1),he={class:"field col-12 md:col-4"},ge={class:"p-float-label"},xe=e("label",{for:"gender"},"Gender",-1),Ce={class:"field col-12 md:col-12"},Ne={class:"p-float-label"},ye=e("label",{for:"textarea"},"Address",-1),Ue={class:"field col-12 md:col-4"},Be={class:"p-float-label"},Ie=e("label",{for:"instCity"},"City",-1),De={class:"field col-12 md:col-4"},Fe={class:"p-float-label"},we=e("label",{for:"instStreet"},"Street",-1),Se={class:"field col-12 md:col-4"},Te={class:"p-float-label"},Me=e("label",{for:"instPOBox"},"P.O Box",-1),Ee={class:"field col-12 md:col-12"},Oe={class:"p-float-label"},Pe=e("label",{for:"instDescription"},"More Info",-1),Re=e("div",{class:"field col-12 md:col-8"},null,-1),ke={class:"field col-12 md:col-4"},Le={__name:"CreateMember",setup(qe){const y=G(),a=new K,R=j(),i=o(null),u=o(null),v=o(null),_=o(null),p=o(null),f=o(null),b=o(null),V=o(null),h=o(null),g=o(null),x=o(null),C=o(null),B=o(null),U=o(null),I=o(null),D=o(null),m=o({}),k=o([{label:"Male",value:"Male"},{label:"Female",value:"Female"}]),q=()=>{var N,c;if(m.value.fName=a.validateFormField(i.value),m.value.lName=a.validateFormField(u.value),a.validateRequiredFields(m.value)){a.showError(y,"Please fill in the missing field");return}let l={first_name:i==null?void 0:i.value,last_name:u==null?void 0:u.value,other_name:v==null?void 0:v.value,email:_==null?void 0:_.value,phone_number:p==null?void 0:p.value,date_of_birth:f==null?void 0:f.value,gender:(N=b==null?void 0:b.value)==null?void 0:N.value,address:V==null?void 0:V.value,city_id:(c=h==null?void 0:h.value)==null?void 0:c.id,street:g==null?void 0:g.value,p_o_box:x==null?void 0:x.value,description:C==null?void 0:C.value,status:"Active"};a.genericRequest("create-member","post",!0,l).then(n=>{n.status?(a.showSuccess(y,n.message),a.redirect(R,"/view-members")):a.showError(y,n.message)})},A=()=>{a.genericRequest("get-city-county-id/1","get",!0,{}).then(d=>{d.status&&(B.value=d.data)})},L=()=>{var d;((d=U.value)==null?void 0:d.user_type)=="Admin"&&a.genericRequest("get-institutions","get",!0,{}).then(l=>{l.status&&(I.value=l.data)})},F=(d,l)=>{m.value[l]=a.validateFormField(d)};return H(()=>{U.value=a.getStorage().userData,A(),L()}),(d,l)=>{var S,T,M;const N=r("Toast"),c=r("Dropdown"),n=r("InputText"),$=r("Calendar"),w=r("Textarea"),z=r("Button");return E(),O("div",null,[e("div",Q,[W,e("div",X,[s(N),((S=U.value)==null?void 0:S.user_type)=="Admin"?(E(),O("div",Y,[e("span",Z,[s(c,{id:"institution",onChange:d.onInstitutionChange,options:I.value,modelValue:D.value,"onUpdate:modelValue":l[0]||(l[0]=t=>D.value=t),optionLabel:"name"},null,8,["onChange","options","modelValue"]),ee])])):J("",!0),e("div",le,[e("span",te,[s(n,{type:"text",id:"firstName",modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=t=>i.value=t),onBlur:l[2]||(l[2]=t=>F(i.value,"fName")),class:P({"p-invalid":(T=m.value)==null?void 0:T.fName})},null,8,["modelValue","class"]),oe])]),e("div",se,[e("span",ae,[s(n,{type:"text",id:"lastName",modelValue:u.value,"onUpdate:modelValue":l[3]||(l[3]=t=>u.value=t),onBlur:l[4]||(l[4]=t=>F(u.value,"lName")),class:P({"p-invalid":(M=m.value)==null?void 0:M.lName})},null,8,["modelValue","class"]),ne])]),e("div",de,[e("span",ie,[s(n,{type:"text",id:"otherName",modelValue:v.value,"onUpdate:modelValue":l[5]||(l[5]=t=>v.value=t)},null,8,["modelValue"]),ue])]),e("div",me,[e("span",ce,[s(n,{type:"text",id:"email",modelValue:_.value,"onUpdate:modelValue":l[6]||(l[6]=t=>_.value=t)},null,8,["modelValue"]),re])]),e("div",ve,[e("span",_e,[s(n,{type:"text",id:"phoneNumber",modelValue:p.value,"onUpdate:modelValue":l[7]||(l[7]=t=>p.value=t)},null,8,["modelValue"]),pe])]),e("div",fe,[e("span",be,[s($,{inputId:"dob",modelValue:f.value,"onUpdate:modelValue":l[8]||(l[8]=t=>f.value=t)},null,8,["modelValue"]),Ve])]),e("div",he,[e("span",ge,[s(c,{id:"gender",options:k.value,modelValue:b.value,"onUpdate:modelValue":l[9]||(l[9]=t=>b.value=t),optionLabel:"label"},null,8,["options","modelValue"]),xe])]),e("div",Ce,[e("span",Ne,[s(w,{inputId:"textarea",rows:"3",cols:"30",modelValue:V.value,"onUpdate:modelValue":l[10]||(l[10]=t=>V.value=t)},null,8,["modelValue"]),ye])]),e("div",Ue,[e("span",Be,[s(c,{id:"instCity",options:B.value,modelValue:h.value,"onUpdate:modelValue":l[11]||(l[11]=t=>h.value=t),optionLabel:"name"},null,8,["options","modelValue"]),Ie])]),e("div",De,[e("span",Fe,[s(n,{type:"text",id:"instStreet",modelValue:g.value,"onUpdate:modelValue":l[12]||(l[12]=t=>g.value=t)},null,8,["modelValue"]),we])]),e("div",Se,[e("span",Te,[s(n,{type:"text",id:"instPOBox",modelValue:x.value,"onUpdate:modelValue":l[13]||(l[13]=t=>x.value=t)},null,8,["modelValue"]),Me])]),e("div",Ee,[e("span",Oe,[s(w,{inputId:"instDescription",rows:"3",cols:"30",modelValue:C.value,"onUpdate:modelValue":l[14]||(l[14]=t=>C.value=t)},null,8,["modelValue"]),Pe])]),Re,e("div",ke,[s(z,{onClick:q,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])])}}};export{Le as default};
