import{u as Y,r as _,a as p,o as Z,w as $,b as f,c as o,d as l,e,f as s,t as c,g as i,h as d,i as b,F as ee,j as L,C as te}from"./index-b5151af3.js";class se{getProductsSmall(){return fetch("demo/data/products-small.json").then(t=>t.json()).then(t=>t.data)}getProducts(){return fetch("demo/data/products.json").then(t=>t.json()).then(t=>t.data)}getProductsWithOrdersSmall(){return fetch("demo/data/products-orders-small.json").then(t=>t.json()).then(t=>t.data)}}const oe={class:"grid"},le={key:0,class:"col-12 lg:col-6 xl:col-3"},ie={class:"card mb-0"},ce={class:"flex justify-content-between mb-3"},ae=e("span",{class:"block text-500 font-medium mb-3"},"Institutions",-1),ne={class:"text-900 font-medium text-xl"},de=e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-building text-blue-500 text-xl"})],-1),re={key:1,class:"col-12 lg:col-6 xl:col-3"},ue={class:"card mb-0"},_e={class:"flex justify-content-between mb-3"},me=e("span",{class:"block text-500 font-medium mb-3"},"Branches",-1),he={class:"text-900 font-medium text-xl"},pe=e("div",{class:"flex align-items-center justify-content-center bg-orange-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-share-alt text-orange-500 text-xl"})],-1),be={key:2,class:"col-12 lg:col-6 xl:col-3"},xe={class:"card mb-0"},ve={class:"flex justify-content-between mb-3"},ge=e("span",{class:"block text-500 font-medium mb-3"},"Users",-1),fe={class:"text-900 font-medium text-xl"},ye=e("div",{class:"flex align-items-center justify-content-center bg-cyan-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-user text-cyan-500 text-xl"})],-1),ke={key:3,class:"col-12 lg:col-6 xl:col-3"},we={class:"card mb-0"},Se={class:"flex justify-content-between mb-3"},Pe=e("span",{class:"block text-500 font-medium mb-3"},"Members",-1),je={class:"text-900 font-medium text-xl"},Ve=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-users text-purple-500 text-xl"})],-1),Ce={key:4,class:"col-12 lg:col-6 xl:col-3"},De={class:"card mb-0"},Te={class:"flex justify-content-between mb-3"},Me=e("span",{class:"block text-500 font-medium mb-3"},"Products",-1),Ne={class:"text-900 font-medium text-xl"},Ge=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),Ee={key:5,class:"col-12 lg:col-6 xl:col-3"},ze={class:"card mb-0"},Be={class:"flex justify-content-between mb-3"},Ae=e("span",{class:"block text-500 font-medium mb-3"},"Sales",-1),Fe={class:"text-900 font-medium text-xl"},Ie=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-credit-card text-purple-500 text-xl"})],-1),qe={key:6,class:"col-12 lg:col-6 xl:col-3"},Le={class:"card mb-0"},Je={class:"flex justify-content-between mb-3"},Oe=e("span",{class:"block text-500 font-medium mb-3"},"Products Sold",-1),Re={class:"text-900 font-medium text-xl"},Ue=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-purple-500 text-xl"})],-1),Qe={key:7,class:"col-12 lg:col-6 xl:col-3"},We={class:"card mb-0"},He={class:"flex justify-content-between mb-3"},Ke=e("span",{class:"block text-500 font-medium mb-3"},"Total Sales Value",-1),Xe={class:"text-900 font-medium text-xl"},Ye=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-purple-500 text-xl"})],-1),Ze={key:8,class:"col-12 lg:col-6 xl:col-3"},$e={class:"card mb-0"},et={class:"flex justify-content-between mb-3"},tt=e("span",{class:"block text-500 font-medium mb-3"},"Today's Sales Value",-1),st={class:"text-900 font-medium text-xl"},ot=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-purple-500 text-xl"})],-1),lt={key:9,class:"col-12 lg:col-6 xl:col-3"},it={class:"card mb-0"},ct={class:"flex justify-content-between mb-3"},at=e("span",{class:"block text-500 font-medium mb-3"},"Total Stock Value",-1),nt={class:"text-900 font-medium text-xl"},dt=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),rt={key:10,class:"col-12 lg:col-6 xl:col-3"},ut={class:"card mb-0"},_t={class:"flex justify-content-between mb-3"},mt=e("span",{class:"block text-500 font-medium mb-3"},"Today's Purchases",-1),ht={class:"text-900 font-medium text-xl"},pt=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),bt={key:11,class:"col-12 lg:col-6 xl:col-3"},xt={class:"card mb-0"},vt={class:"flex justify-content-between mb-3"},gt=e("span",{class:"block text-500 font-medium mb-3"},"Today's Markup Value",-1),ft={class:"text-900 font-medium text-xl"},yt=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),kt={key:12,class:"col-12 lg:col-6 xl:col-3"},wt={class:"card mb-0"},St={class:"flex justify-content-between mb-3"},Pt=e("span",{class:"block text-500 font-medium mb-3"},"Today's Markup Percentage",-1),jt={class:"text-900 font-medium text-xl"},Vt=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),Ct={key:13,class:"col-12 lg:col-6 xl:col-3"},Dt={class:"card mb-0"},Tt={class:"flex justify-content-between mb-3"},Mt=e("span",{class:"block text-500 font-medium mb-3"},"Total Income",-1),Nt={class:"text-900 font-medium text-xl"},Gt=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),Et={key:14,class:"col-12 lg:col-6 xl:col-3"},zt={class:"card mb-0"},Bt={class:"flex justify-content-between mb-3"},At=e("span",{class:"block text-500 font-medium mb-3"},"Today Income",-1),Ft={class:"text-900 font-medium text-xl"},It=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),qt={key:15,class:"col-12 lg:col-6 xl:col-3"},Lt={class:"card mb-0"},Jt={class:"flex justify-content-between mb-3"},Ot=e("span",{class:"block text-500 font-medium mb-3"},"Total Expenses",-1),Rt={class:"text-900 font-medium text-xl"},Ut=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),Qt={key:16,class:"col-12 lg:col-6 xl:col-3"},Wt={class:"card mb-0"},Ht={class:"flex justify-content-between mb-3"},Kt=e("span",{class:"block text-500 font-medium mb-3"},"Today Expenses",-1),Xt={class:"text-900 font-medium text-xl"},Yt=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),Zt={class:"grid"},$t={key:0,class:"col-12 xl:col-6"},es={class:"card"},ts=e("h5",null,"Member and collection growth ",-1),ss={key:1,class:"col-12 xl:col-6"},os={class:"card"},ls=e("h5",null,"Member and collection growth ",-1),is={key:2,class:"col-12 xl:col-6"},cs={class:"card"},as=e("h5",null,"Products and Sales growth ",-1),ns={key:3,class:"col-12 xl:col-6"},ds={class:"card"},rs=e("h5",null,"Products and Sales growth ",-1),us={class:"grid"},_s={class:"col-12 xl:col-6"},ms={class:"card"},hs=e("h5",null,"Best Selling Products",-1),ps={class:"col-12 xl:col-6"},bs={class:"card"},xs=e("h5",null,"Products About To Expire",-1),fs={__name:"Dashboard",setup(J){const t=new te,{isDarkTheme:O}=Y(),a=_(null);_(["Jan","Feb","Mar","Apr","May","Jun","Jly","Aug","Sep","Oct","Nov","Dec"]);const x=_({}),R=_(null);let v=p({}),g=p({});_([{label:"Add New",icon:"pi pi-fw pi-plus"},{label:"Remove",icon:"pi pi-fw pi-minus"}]);const u=_(null),U=new se,Q=()=>{t.genericRequest("get-dashboard-stats","get",!0,{}).then(n=>{n.status?(a.value=n.data.count[0],W(n.data),H(n.data),x.value=n.data):t.showError(toast,n.message)})},W=n=>{v=p({labels:t.getMonthsStartingFromCurrent(),datasets:[{label:"No. of Members ",data:t.organizeGraphData(n.membersGraph,"count"),fill:!1,backgroundColor:"rgba(47, 72, 96, 1)",borderColor:"#2f4860",tension:.4},{label:"No. of Collections",data:t.organizeGraphData(n.collectionGraph,"count"),fill:!1,backgroundColor:"rgba(0, 187, 126, 1)",borderColor:"#00bb7e",tension:.4}]})},H=n=>{g=p({labels:t.getMonthsStartingFromCurrent(),datasets:[{label:"No. of Products ",data:t.organizeGraphData(n.productsGraph,"count"),fill:!1,backgroundColor:"rgba(47, 72, 96, 1)",borderColor:"#2f4860",tension:.4},{label:"No. of Sales",data:t.organizeGraphData(n.salesGraph,"count"),fill:!1,backgroundColor:"rgba(0, 187, 126, 1)",borderColor:"#00bb7e",tension:.4}]})};Z(()=>{U.getProductsSmall().then(n=>R.value=n),Q()});const K=()=>{u.value={plugins:{legend:{labels:{color:"#495057"}}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{ticks:{color:"#495057"},grid:{color:"#ebedef"}}}}},X=()=>{u.value={plugins:{legend:{labels:{color:"#ebedef"}}},scales:{x:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}},y:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}}}}};return $(O,n=>{n?X():K()},{immediate:!0}),(n,vs)=>{var k,w,S,P,j,V,C,D,T,M,N,G,E,z,B,A,F,I,q;const h=f("Chart"),r=f("Column"),y=f("DataTable");return o(),l(ee,null,[e("div",oe,[s(t).checkPermissions("CanViewInstitution")?(o(),l("div",le,[e("div",ie,[e("div",ce,[e("div",null,[ae,e("div",ne,c(s(t).commaSeparator((k=a.value)==null?void 0:k.total_institutions)),1)]),de])])])):i("",!0),s(t).checkPermissions("CanViewInstitution")?(o(),l("div",re,[e("div",ue,[e("div",_e,[e("div",null,[me,e("div",he,c(s(t).commaSeparator((w=a.value)==null?void 0:w.total_branches)),1)]),pe])])])):i("",!0),s(t).checkPermissions("ViewUsers")?(o(),l("div",be,[e("div",xe,[e("div",ve,[e("div",null,[ge,e("div",fe,c(s(t).commaSeparator((S=a.value)==null?void 0:S.total_users)),1)]),ye])])])):i("",!0),s(t).checkPermissions("ViewMember")?(o(),l("div",ke,[e("div",we,[e("div",Se,[e("div",null,[Pe,e("div",je,c(s(t).commaSeparator((P=a.value)==null?void 0:P.total_customers)),1)]),Ve])])])):i("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",Ce,[e("div",De,[e("div",Te,[e("div",null,[Me,e("div",Ne,c(s(t).commaSeparator((j=a.value)==null?void 0:j.products)),1)]),Ge])])])):i("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",Ee,[e("div",ze,[e("div",Be,[e("div",null,[Ae,e("div",Fe,c(s(t).commaSeparator((V=a.value)==null?void 0:V.sales)),1)]),Ie])])])):i("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",qe,[e("div",Le,[e("div",Je,[e("div",null,[Oe,e("div",Re,c(s(t).commaSeparator((C=a.value)==null?void 0:C.product_sold)),1)]),Ue])])])):i("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",Qe,[e("div",We,[e("div",He,[e("div",null,[Ke,e("div",Xe,c(s(t).commaSeparator((D=a.value)==null?void 0:D.total_sales_value)),1)]),Ye])])])):i("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",Ze,[e("div",$e,[e("div",et,[e("div",null,[tt,e("div",st,c(s(t).commaSeparator((T=a.value)==null?void 0:T.today_sales_value)),1)]),ot])])])):i("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",lt,[e("div",it,[e("div",ct,[e("div",null,[at,e("div",nt,c(s(t).commaSeparator((M=a.value)==null?void 0:M.total_stock_value)),1)]),dt])])])):i("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",rt,[e("div",ut,[e("div",_t,[e("div",null,[mt,e("div",ht,c(s(t).commaSeparator((N=a.value)==null?void 0:N.today_stock_value)),1)]),pt])])])):i("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",bt,[e("div",xt,[e("div",vt,[e("div",null,[gt,e("div",ft,c(s(t).commaSeparator((G=a.value)==null?void 0:G.today_mark_up)),1)]),yt])])])):i("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",kt,[e("div",wt,[e("div",St,[e("div",null,[Pt,e("div",jt,c(s(t).commaSeparator((E=a.value)==null?void 0:E.today_mark_up_percentage))+" %",1)]),Vt])])])):i("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",Ct,[e("div",Dt,[e("div",Tt,[e("div",null,[Mt,e("div",Nt,c(s(t).commaSeparator((z=a.value)==null?void 0:z.total_income)),1)]),Gt])])])):i("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",Et,[e("div",zt,[e("div",Bt,[e("div",null,[At,e("div",Ft,c(s(t).commaSeparator((B=a.value)==null?void 0:B.today_income)),1)]),It])])])):i("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",qt,[e("div",Lt,[e("div",Jt,[e("div",null,[Ot,e("div",Rt,c(s(t).commaSeparator((A=a.value)==null?void 0:A.total_expenses)),1)]),Ut])])])):i("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",Qt,[e("div",Wt,[e("div",Ht,[e("div",null,[Kt,e("div",Xt,c(s(t).commaSeparator((F=a.value)==null?void 0:F.today_expenses)),1)]),Yt])])])):i("",!0)]),e("div",Zt,[s(t).checkPermissions("ViewMember")?(o(),l("div",$t,[e("div",es,[ts,d(h,{type:"bar",data:s(v),options:u.value},null,8,["data","options"])])])):i("",!0),s(t).checkPermissions("ViewCollection")?(o(),l("div",ss,[e("div",os,[ls,d(h,{type:"line",data:s(v),options:u.value},null,8,["data","options"])])])):i("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",is,[e("div",cs,[as,d(h,{type:"bar",data:s(g),options:u.value},null,8,["data","options"])])])):i("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",ns,[e("div",ds,[rs,d(h,{type:"line",data:s(g),options:u.value},null,8,["data","options"])])])):i("",!0)]),e("div",us,[e("div",_s,[e("div",ms,[hs,d(y,{value:(I=x.value)==null?void 0:I.bestSellingProduct,rows:10,paginator:!0,responsiveLayout:"scroll"},{default:b(()=>[d(r,{field:"name",header:"Name",sortable:!0,style:{width:"35%"}}),d(r,{field:"quantity",header:"Quantity",sortable:!0,style:{width:"35%"}}),d(r,{field:"price",header:"Price",sortable:!0,style:{width:"35%"}},{body:b(m=>[L(c(s(t).commaSeparator(m.data.selling_price)),1)]),_:1}),d(r,{field:"",header:"MarkUp",sortable:!0,style:{width:"40%"}},{body:b(m=>[L(c(s(t).commaSeparator(m.data.quantity*(m.data.selling_price-m.data.purchase_price))),1)]),_:1})]),_:1},8,["value"])])]),e("div",ps,[e("div",bs,[xs,d(y,{value:(q=x.value)==null?void 0:q.productAboutToExpire,rows:10,paginator:!0,responsiveLayout:"scroll"},{default:b(()=>[d(r,{field:"name",header:"Name",sortable:!0,style:{width:"35%"}}),d(r,{field:"quantity",header:"Stock",sortable:!0,style:{width:"20%"}}),d(r,{field:"days_difference",header:"Days Remaining",sortable:!0,style:{width:"35%"}}),d(r,{field:"expiry_date",header:"Expiry",sortable:!0,style:{width:"35%"}})]),_:1},8,["value"])])])])],64)}}};export{fs as default};
