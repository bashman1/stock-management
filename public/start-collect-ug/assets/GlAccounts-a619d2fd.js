import{i as S,r as c,j as E,m as V,o as F,b as d,c as G,d as R,h as o,k as n,f as r,l as u,t as m,e as M,n as U,C as $}from"./index-fb1339b5.js";const q={className:"card"},I=r("h5",null,"Chart Of Accounts",-1),L={style:{"padding-top":"20px"}},j={class:"grid p-fluid"},z={class:"field col-12 md:col-12"},H={class:"p-float-label"},K=r("label",{for:"description"},"Description",-1),J={__name:"GlAccounts",setup(O){const p=S(),b=c(null),l=new $,C=E();V();const g=c(!1),i=c(null),y=c(null),_=c({});c(null);const w=()=>{l.genericRequest("get-gl-accounts","get",!0,{}).then(t=>{t.status?b.value=t.data:l.showError(p,t.message)})},N=(t,a)=>{_.value[a]=l.validateFormField(t)},k=t=>{i.value=t.description,y.value=t.acct_no,h(!0)},h=t=>{g.value=t},B=()=>{if(_.value.description=l.validateFormField(i.value),l.validateRequiredFields(_.value)){l.showError(p,"Please fill in the missing field");return}let a={description:i.value,acctNo:y.value};l.genericRequest("update-gl-account","post",!0,a).then(s=>{s.status?(l.showSuccess(p,s.message),w(),h(!1)):l.showError(p,s.message)})},D=t=>{C.push("/gl-statement/"+(t==null?void 0:t.acct_no))};return F(()=>{w()}),(t,a)=>{const s=d("Column"),v=d("Button"),T=d("DataTable"),x=d("Textarea"),A=d("Dialog");return G(),R("div",q,[I,o(T,{value:b.value,paginator:!0,class:"p-datatable-gridlines",rows:20,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:n(()=>[o(s,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:n(({data:e})=>[u(m(e.description),1)]),_:1}),o(s,{field:"name",header:"Acct Balance",style:{"min-width":"10rem"}},{body:n(({data:e})=>[u(m(M(l).commaSeparator(e.balance)),1)]),_:1}),o(s,{field:"name",header:"Acct No.",style:{"min-width":"10rem"}},{body:n(({data:e})=>[u(m(e.acct_no),1)]),_:1}),o(s,{field:"name",header:"Acct Type",style:{"min-width":"10rem"}},{body:n(({data:e})=>[u(m(e.acct_type),1)]),_:1}),o(s,{field:"name",header:"Ledger No.",style:{"min-width":"10rem"}},{body:n(({data:e})=>[u(m(e.gl_no),1)]),_:1}),o(s,{headerStyle:"max-width:10rem;"},{body:n(({data:e})=>[o(v,{icon:"pi pi-eye",onClick:f=>D(e),class:"p-button-primary mr-2"},null,8,["onClick"]),o(v,{icon:"pi pi-pencil",onClick:f=>k(e),class:"p-button-success mr-2"},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),o(A,{header:"Update Ledger Name",visible:g.value,"onUpdate:visible":a[3]||(a[3]=e=>g.value=e),style:{width:"30vw"},modal:!0,class:"p-fluid"},{footer:n(()=>[o(v,{label:"Cancel",onClick:a[2]||(a[2]=e=>h(!1)),icon:"pi pi-times",class:"p-button-outlined p-button-danger mr-2 mb-2"}),o(v,{onClick:B,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})]),default:n(()=>{var e;return[r("p",L,[r("div",j,[r("div",z,[r("span",H,[o(x,{inputId:"description",onBlur:a[0]||(a[0]=f=>N(i.value,"description")),rows:"7",modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=f=>i.value=f),class:U({"p-invalid":(e=_.value)==null?void 0:e.description})},null,8,["modelValue","class"]),K])])])])]}),_:1},8,["visible"])])}}};export{J as default};
