import{k as tl,l as nl,m as il,r as s,z as dl,o as ul,b as $,c as cl,d as ml,e as l,h as n,n as c,F as vl,_ as rl,C as pl}from"./index-13badbf4.js";const fl={class:"py-6 px-6"},_l={class:"card p-fluid"},bl={class:"grid p-fluid"},Vl={class:"field col-12 md:col-3"},Nl=["src"],gl=l("div",{class:"field col-12 md:col-9"},[l("h2",{class:"text-right mt-6"},"Please fill in to register")],-1),wl=l("div",{class:"col-12 md:col-12"},[l("h5",null,"Institution Basic Info")],-1),yl={class:"field col-12 md:col-6"},xl={class:"p-float-label"},Bl=l("label",{for:"instName"},"Institution Name",-1),Fl={class:"field col-12 md:col-6"},hl={class:"p-float-label"},Ul=l("label",{for:"instType"},"Institution Type",-1),kl={class:"field col-12 md:col-12"},Pl={class:"p-float-label"},Tl=l("label",{for:"textarea"},"Address",-1),Il={class:"field col-12 md:col-6"},$l={class:"p-float-label"},Cl=l("label",{for:"instCity"},"City",-1),Sl={class:"field col-12 md:col-6"},El={class:"p-float-label"},Rl=l("label",{for:"instPOBox"},"P.O Box",-1),Ll={class:"field col-12 md:col-12"},ql={class:"p-float-label"},Dl=l("label",{for:"instDescription"},"Description",-1),Al=l("div",{class:"field col-12 md:col-12"},[l("h5",null,"Institution Bank Info")],-1),Ol={class:"field col-12 md:col-4"},zl={class:"p-float-label"},Ml=l("label",{for:"bankName"},"Bank",-1),jl={class:"field col-12 md:col-4"},Gl={class:"p-float-label"},Hl=l("label",{for:"acctName"},"Account Title",-1),Jl={class:"field col-12 md:col-4"},Kl={class:"p-float-label"},Ql=l("label",{for:"acctNumber"},"Account Number",-1),Xl=l("div",{class:"field col-12 md:col-12"},[l("h5",null,"Institution User Info")],-1),Yl={class:"field col-12 md:col-4"},Zl={class:"p-float-label"},Wl=l("label",{for:"firstName"},"First Name",-1),le={class:"field col-12 md:col-4"},ee={class:"p-float-label"},oe=l("label",{for:"lastName"},"Last Name",-1),se={class:"field col-12 md:col-4"},ae={class:"p-float-label"},te=l("label",{for:"otherName"},"Other Names",-1),ne={class:"field col-12 md:col-6"},ie={class:"p-float-label"},de=l("label",{for:"email"},"Email",-1),ue={class:"field col-12 md:col-6"},ce={class:"p-float-label"},me=l("label",{for:"contactNumber"},"Phone Number",-1),ve={class:"field col-12 md:col-6"},re={class:"p-float-label"},pe=l("label",{for:"password"},"Password",-1),fe={class:"field col-12 md:col-6"},_e={class:"p-float-label"},be=l("label",{for:"confirmPassword"},"Confirm Password",-1),Ve={class:"field col-12 md:col-4"},we={__name:"SelfEnroll",setup(Ne){const S=tl(),t=new pl,L=nl();il();const v=s(null),r=s(null),_=s(null),x=s(null),p=s(null),E=s(null),B=s(null),F=s(null);s(null);const f=s(null);s(null);const R=s(null),b=s(null),V=s(null),N=s(null),q=s(null),D=s(null),A=s(null);s({});const a=s({}),h=s({id:1,name:"Enable tax",value:!0});s(null);const g=s(null),w=s(null),C=s(null),m=s(null),U=s(null),k=s(null),W=()=>{t.genericRequest("get-institution-types","get",!1,{}).then(d=>{d.status&&(q.value=d.data)})},ll=dl(()=>"demo/images/SmarCollectlogo-removebg-preview.png"),el=()=>{t.genericRequest("get-city-county-id/1","get",!1,{}).then(d=>{d.status&&(D.value=d.data)})},ol=()=>{t.genericRequest("get-bank-ref","get",!1,{}).then(d=>{d.status&&(A.value=d.data)})},i=(d,e)=>{a.value[e]=t.validateFormField(d)},sl=()=>{var u,y,P,T;if(a.value.name=t.validateFormField(v.value),a.value.type=t.validateFormField(r.value),a.value.city=t.validateFormField(p.value),a.value.contactNumber=t.validateFormField(f.value),a.value.taxConfig=t.validateFormField(h.value),a.value.fName=t.validateFormField(g.value),a.value.lName=t.validateFormField(w.value),a.value.email=t.validateFormField(m.value),a.value.password=t.validateFormField(U.value),a.value.confirmPassword=t.validateFormField(k.value),t.validateRequiredFields(a.value)){t.showError(S,"Please fill in the missing field");return}let e={id:null,name:v==null?void 0:v.value,type:(u=r==null?void 0:r.value)==null?void 0:u.id,start_date:_!=null&&_.value?_==null?void 0:_.value:new Date,address:x==null?void 0:x.value,city:(y=p==null?void 0:p.value)==null?void 0:y.id,street:E==null?void 0:E.value,p_o_box:B==null?void 0:B.value,description:F==null?void 0:F.value,contact_name:g.value+" "+w.value+" "+C.value,contact_number:f==null?void 0:f.value,contact_email:m==null?void 0:m.value,contact_web:R==null?void 0:R.value,bank_id:(P=b==null?void 0:b.value)==null?void 0:P.id,acct_name:V==null?void 0:V.value,acct_no:N==null?void 0:N.value,tax_config:(T=h==null?void 0:h.value)==null?void 0:T.value,tin:h.value.name,status:"Pending",first_name:g.value,last_name:w.value,other_name:C.value,email:m.value,password:U.value,confirm_password:k.value};t.genericRequest("institution-self-registration","post",!1,e).then(I=>{I.status?(t.showSuccess(S,I.message),t.redirect(L,"/view-institutions")):t.showError(S,I.message)})},al=()=>{L.push("/auth/login")};return ul(()=>{W(),el(),ol()}),(d,e)=>{var O,z,M,j,G,H,J,K,Q,X,Y,Z;const u=$("InputText"),y=$("Dropdown"),P=$("Textarea"),T=$("Password"),I=$("Button");return cl(),ml(vl,null,[l("div",fl,[l("div",_l,[l("div",bl,[l("div",Vl,[l("img",{src:ll.value,alt:"Sakai logo",class:"mb-5 w-20rem flex-shrink-0"},null,8,Nl)]),gl,wl,l("div",yl,[l("span",xl,[n(u,{type:"text",id:"instName",modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=o=>v.value=o),onBlur:e[1]||(e[1]=o=>i(v.value,"name")),class:c({"p-invalid":(O=a.value)==null?void 0:O.name})},null,8,["modelValue","class"]),Bl])]),l("div",Fl,[l("span",hl,[n(y,{id:"instType",onBlur:e[2]||(e[2]=o=>i(r.value,"type")),options:q.value,modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=o=>r.value=o),class:c({"p-invalid":(z=a.value)==null?void 0:z.type}),optionLabel:"name"},null,8,["options","modelValue","class"]),Ul])]),l("div",kl,[l("span",Pl,[n(P,{id:"textarea",rows:"3",cols:"30",modelValue:x.value,"onUpdate:modelValue":e[4]||(e[4]=o=>x.value=o)},null,8,["modelValue"]),Tl])]),l("div",Il,[l("span",$l,[n(y,{id:"instCity",options:D.value,modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=o=>p.value=o),onBlur:e[6]||(e[6]=o=>i(p.value,"city")),class:c({"p-invalid":(M=a.value)==null?void 0:M.city}),optionLabel:"name"},null,8,["options","modelValue","class"]),Cl])]),l("div",Sl,[l("span",El,[n(u,{type:"text",id:"instPOBox",modelValue:B.value,"onUpdate:modelValue":e[7]||(e[7]=o=>B.value=o)},null,8,["modelValue"]),Rl])]),l("div",Ll,[l("span",ql,[n(P,{id:"instDescription",rows:"3",cols:"30",modelValue:F.value,"onUpdate:modelValue":e[8]||(e[8]=o=>F.value=o)},null,8,["modelValue"]),Dl])]),Al,l("div",Ol,[l("span",zl,[n(y,{id:"bankName",options:A.value,modelValue:b.value,"onUpdate:modelValue":e[9]||(e[9]=o=>b.value=o),optionLabel:"name",onBlur:e[10]||(e[10]=o=>i(b.value,"bankName")),class:c({"p-invalid":(j=a.value)==null?void 0:j.bankName})},null,8,["options","modelValue","class"]),Ml])]),l("div",jl,[l("span",Gl,[n(u,{type:"text",id:"acctName",modelValue:V.value,"onUpdate:modelValue":e[11]||(e[11]=o=>V.value=o),onBlur:e[12]||(e[12]=o=>i(V.value,"acctName")),class:c({"p-invalid":(G=a.value)==null?void 0:G.acctName})},null,8,["modelValue","class"]),Hl])]),l("div",Jl,[l("span",Kl,[n(u,{type:"text",id:"acctNumber",modelValue:N.value,"onUpdate:modelValue":e[13]||(e[13]=o=>N.value=o),onBlur:e[14]||(e[14]=o=>i(N.value,"acctNumber")),class:c({"p-invalid":(H=a.value)==null?void 0:H.acctNumber})},null,8,["modelValue","class"]),Ql])]),Xl,l("div",Yl,[l("span",Zl,[n(u,{type:"text",id:"firstName",modelValue:g.value,"onUpdate:modelValue":e[15]||(e[15]=o=>g.value=o),onBlur:e[16]||(e[16]=o=>i(g.value,"fName")),class:c({"p-invalid":(J=a.value)==null?void 0:J.fName})},null,8,["modelValue","class"]),Wl])]),l("div",le,[l("span",ee,[n(u,{type:"text",id:"lastName",modelValue:w.value,"onUpdate:modelValue":e[17]||(e[17]=o=>w.value=o),onBlur:e[18]||(e[18]=o=>i(w.value,"lName")),class:c({"p-invalid":(K=a.value)==null?void 0:K.lName})},null,8,["modelValue","class"]),oe])]),l("div",se,[l("span",ae,[n(u,{type:"text",id:"otherName",modelValue:C.value,"onUpdate:modelValue":e[19]||(e[19]=o=>C.value=o)},null,8,["modelValue"]),te])]),l("div",ne,[l("span",ie,[n(u,{type:"text",id:"email",modelValue:m.value,"onUpdate:modelValue":e[20]||(e[20]=o=>m.value=o),onBlur:e[21]||(e[21]=o=>i(m.value,"email")),class:c({"p-invalid":(Q=a.value)==null?void 0:Q.email})},null,8,["modelValue","class"]),de])]),l("div",ue,[l("span",ce,[n(u,{id:"basic",modelValue:f.value,"onUpdate:modelValue":e[22]||(e[22]=o=>f.value=o),onBlur:e[23]||(e[23]=o=>i(f.value,"contactNumber")),class:c({"p-invalid":(X=a.value)==null?void 0:X.contactNumber})},null,8,["modelValue","class"]),me])]),l("div",ve,[l("span",re,[n(T,{type:"text",id:"password",modelValue:U.value,"onUpdate:modelValue":e[24]||(e[24]=o=>U.value=o),onBlur:e[25]||(e[25]=o=>i(U.value,"password")),class:c({"p-invalid":(Y=a.value)==null?void 0:Y.password})},null,8,["modelValue","class"]),pe])]),l("div",fe,[l("span",_e,[n(T,{type:"text",id:"confirmPassword",modelValue:k.value,"onUpdate:modelValue":e[26]||(e[26]=o=>k.value=o),onBlur:e[27]||(e[27]=o=>i(k.value,"confirmPassword")),class:c({"p-invalid":(Z=a.value)==null?void 0:Z.confirmPassword})},null,8,["modelValue","class"]),be])]),l("div",{class:"field col-12 md:col-8"},[l("a",{class:"font-medium no-underline ml-2 text-left cursor-pointer",style:{color:"var(--primary-color)"},onClick:al},"Back To Login")]),l("div",Ve,[n(I,{onClick:sl,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])]),n(rl,{simple:""})],64)}}};export{we as default};
