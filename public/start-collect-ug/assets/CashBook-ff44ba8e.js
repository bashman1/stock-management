import{k as v,l as R,r as f,o as g,b as m,c as k,d as L,e as u,h as t,i as o,j as n,t as a,f as c,C as B}from"./index-943c90f7.js";const S={class:"card"},P=u("h5",null,"Cash Book",-1),T={class:"my-2"},x={__name:"CashBook",setup(U){v();const l=new B;R();const p=f(null),_=f(!1),y=()=>{let s={status:"Active"};l.genericRequest("get-cash-book","post",!0,s).then(d=>{d.status&&(p.value=d.data)})},b=()=>{try{_.value=!0,l.genericRequest("download-product-report-pdf","post",!0,{},!0).then(s=>{const d=window.URL.createObjectURL(new Blob([s])),i=document.createElement("a");i.href=d,i.setAttribute("download","product_reports.pdf"),document.body.appendChild(i),i.click()})}catch(s){console.log(s)}finally{_.value=!1}},w=()=>{try{_.value=!0,l.genericRequest("download-product-report-csv","post",!0,{},!0).then(s=>{const d=window.URL.createObjectURL(new Blob([s])),i=document.createElement("a");i.href=d,i.setAttribute("download","product_reports.csv"),document.body.appendChild(i),i.click()})}catch(s){console.log(s)}finally{_.value=!1}};return g(()=>{y()}),(s,d)=>{const i=m("Toast"),h=m("Button"),C=m("Toolbar"),r=m("Column"),D=m("DataTable");return k(),L("div",null,[u("div",S,[P,t(i),t(C,{class:"mb-4"},{end:o(()=>[u("div",T,[t(h,{label:"CSV",icon:"pi pi-file-excel",class:"p-button-success mr-2",onClick:d[0]||(d[0]=()=>w())}),t(h,{label:"PDF",icon:"pi pi-file-pdf",class:"p-button-danger",onClick:d[1]||(d[1]=()=>b())})])]),_:1}),t(D,{value:p.value,paginator:!0,class:"p-datatable-gridlines",rows:20,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:o(()=>[t(r,{field:"name",header:"Date",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.dr_cr_ind=="Dr"?e.transaction_date:""),1)]),_:1}),t(r,{field:"name",header:"Details",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.dr_cr_ind=="Dr"?e.description:""),1)]),_:1}),t(r,{field:"name",header:"V. No.",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.dr_cr_ind=="Dr"?e.tran_id:""),1)]),_:1}),t(r,{field:"name",header:"PR",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(),1)]),_:1}),t(r,{field:"name",header:"Discount",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.ind=="PD"&&e.dr_cr_ind=="Dr"?c(l).commaSeparator(e.tran_amount):""),1)]),_:1}),t(r,{field:"name",header:"Cash",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.ind=="CL"&&e.dr_cr_ind=="Dr"?c(l).commaSeparator(e.tran_amount):""),1)]),_:1}),t(r,{field:"name",header:"Bank",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.ind=="CGL"&&e.dr_cr_ind=="Dr"?c(l).commaSeparator(e.tran_amount):""),1)]),_:1}),t(r,{field:"name",header:"Date",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.dr_cr_ind=="Cr"?e.transaction_date:""),1)]),_:1}),t(r,{field:"name",header:"Details",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.dr_cr_ind=="Cr"?e.description:""),1)]),_:1}),t(r,{field:"name",header:"V. No.",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.dr_cr_ind=="Cr"?e.tran_id:""),1)]),_:1}),t(r,{field:"name",header:"PR",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(),1)]),_:1}),t(r,{field:"name",header:"Discount",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.ind=="PD"&&e.dr_cr_ind=="Cr"?c(l).commaSeparator(e.tran_amount):""),1)]),_:1}),t(r,{field:"name",header:"Cash",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.ind=="CL"&&e.dr_cr_ind=="Cr"?c(l).commaSeparator(e.tran_amount):""),1)]),_:1}),t(r,{field:"name",header:"Bank",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.ind=="CGL"&&e.dr_cr_ind=="Cr"?c(l).commaSeparator(e.tran_amount):""),1)]),_:1})]),_:1},8,["value"])])])}}};export{x as default};
