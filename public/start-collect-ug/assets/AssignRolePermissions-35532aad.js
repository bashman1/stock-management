import{h as b,r as m,i as f,m as R,o as C,c as i,d as u,e as o,t as h,F as y,n as S,k as w,C as B}from"./index-c4c349fe.js";const I={className:"card"},N={class:"grid"},P={class:"field-checkbox mb-0"},q=["onChange","checked"],F={__name:"AssignRolePermissions",setup(A){const g=b(),s=m(null),r=m(null),a=new B;f();const _=R(),v=t=>{a.genericRequest("get-role/"+t,"get",!0,{}).then(e=>{e.status?s.value=e.data:a.showError(g,e.message)})},k=(t,e)=>{let n={permissionId:e.id,event:t.target.checked,roleId:r.value};a.genericRequest("assign-role-permission","post",!0,n).then(c=>{c.status})},p=t=>{var e;return a.existingRolePermission((e=s==null?void 0:s.value)==null?void 0:e.rolePermissions,t)};return C(()=>{r.value=_.params.id,v(r.value)}),(t,e)=>{var n,c,d;return i(),u("div",I,[o("h5",null,h((c=(n=s.value)==null?void 0:n.role)==null?void 0:c.name),1),o("div",N,[(i(!0),u(y,null,S((d=s.value)==null?void 0:d.permissions,l=>(i(),u("div",{class:"col-12 md:col-3",key:l.id},[o("div",P,[o("label",null,[o("input",{id:"my-checkbox",type:"checkbox",onChange:x=>k(x,l),checked:p(l),class:"large-checkbox"},null,40,q),w(" "+h(l.name),1)])])]))),128))])])}}};export{F as default};
