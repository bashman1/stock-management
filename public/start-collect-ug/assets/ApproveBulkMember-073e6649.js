import{l as B,m as T,k as C,r as v,o as D,b as m,c as k,d as M,e as u,h as s,i as o,j as i,t as c,C as N}from"./index-54b662c4.js";const S={class:"grid"},x={class:"col-12"},A={className:"card"},P={class:"my-2"},V={__name:"ApproveBulkMember",setup(R){B();const _=T(),p=C(),n=new N,b=v(null),r=v(null),h=d=>{let t={status:"Pending",batchId:d};n.genericRequest("get-batch-members","post",!0,t).then(l=>{l.status?b.value=l.data:n.showError(p,l.message)})},y=()=>{let d={members:r.value,status:"Active"};n.genericRequest("approve-batch-member","post",!0,d).then(t=>{t.status?(n.showSuccess(p,t.message),h(_.params.id)):n.showError(p,t.message)})};return D(()=>{h(_.params.id)}),(d,t)=>{const l=m("Toast"),g=m("Button"),w=m("Toolbar"),a=m("Column"),f=m("DataTable");return k(),M("div",S,[u("div",x,[u("div",A,[t[2]||(t[2]=u("h5",null,"Approve Batch",-1)),s(l),s(w,{class:"mb-4"},{start:o(()=>[u("div",P,[s(g,{label:"Approve",icon:"pi pi-check",class:"p-button-success",onClick:y,disabled:!r.value||!r.value.length},null,8,["disabled"])])]),end:o(()=>t[1]||(t[1]=[])),_:1}),s(f,{value:b.value,paginator:!0,class:"p-datatable-gridlines",rows:10,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll",selection:r.value,"onUpdate:selection":t[0]||(t[0]=e=>r.value=e),rowsPerPageOptions:[5,10,25]},{default:o(()=>[s(a,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:o(({data:e})=>[i(c(e.first_name+" "+e.last_name+" "+e.other_name),1)]),_:1}),s(a,{header:"Gender",style:{"min-width":"10rem"}},{body:o(({data:e})=>[i(c(e.gender),1)]),_:1}),s(a,{header:"Phone Number",style:{"min-width":"12rem"}},{body:o(({data:e})=>[i(c(e.phone_number),1)]),_:1}),s(a,{header:"Status",style:{"min-width":"10rem"}},{body:o(({data:e})=>[i(c(e.status),1)]),_:1}),s(a,{header:"Date",style:{"min-width":"10rem"}},{body:o(({data:e})=>[i(c(e.created_at),1)]),_:1}),s(a,{selectionMode:"multiple",headerStyle:"width: 3rem"})]),_:1},8,["value","selection"])])])])}}};export{V as default};
