import{k as Ie,l as ke,r as a,x as Ne,o as Te,b as N,c as y,d as V,e,h as d,t as u,f as p,i as g,g as f,y as Ve,v as A,j as T,n as Se,F as De,s as Ue,C as Ee}from"./index-d1cf7a5b.js";const qe={class:"grid p-fluid"},Ae={class:"field col-12 md:col-3"},Pe={class:"p-float-label"},Oe=e("label",{for:"paymentMethod"},"Payment methods",-1),Re={class:"field col-12 md:col-3"},Me={class:"p-inputgroup"},Le={class:"p-float-label"},Be=e("label",{for:"Customer"},"Select customer",-1),Fe={class:"field col-12 md:col-3"},ze={class:"p-float-label"},je=e("label",{for:"productId"},"Billing address",-1),Qe={class:"field col-12 md:col-3"},$e={class:"p-float-label"},He=e("label",{for:"date"},"Sales Date",-1),Xe=e("div",{class:"col-12 md:col-3"},null,-1),Ge=e("div",{class:"col-12 md:col-3"},null,-1),Ke=e("div",{class:"col-12 md:col-3"},null,-1),Ye={class:"col-12 md:col-3"},We={class:"font-bold text-right text-6xl green-color"},Je={class:"col-12 md:col-12"},Ze={class:"card"},et=["onClick"],tt=["onClick"],lt={class:"col-12 md:col-2"},ot={class:"col-12 md:col-2"},nt={class:"col-12 md:col-12"},it={key:0,class:"card"},st=e("h5",null,"V.A.T 18%",-1),at=e("br",null,null,-1),dt={class:"grid"},rt={class:"field col-12 md:col-12"},ut=e("div",{class:"col-12 md:col-4"},null,-1),ct=e("div",{class:"col-12 md:col-3"},null,-1),mt={class:"col-12 md:col-3"},pt={class:"font-bold text-right text-xl green-color"},gt=e("div",{class:"col-12 md:col-3"},null,-1),vt={class:"col-12 md:col-3"},ht={class:"p-float-label"},yt=e("label",{for:"productId"},"Amount",-1),_t={class:"col-12 md:col-3"},xt={key:0,class:"font-bold text-left text-xl green-color"},bt={class:"col-12 md:col-3"},ft={style:{"padding-top":"20px"}},wt={class:"grid p-fluid"},Ct={class:"field col-12 md:col-6"},It={class:"p-float-label"},kt=e("label",{for:"supplierName"},"Name",-1),Nt={class:"field col-12 md:col-6"},Tt={class:"p-float-label"},Vt=e("label",{for:"supplierEmail"},"Email",-1),St={class:"field col-12 md:col-6"},Dt={class:"p-float-label"},Ut=e("label",{for:"supplierAddress"},"Address",-1),Et={class:"field col-12 md:col-6"},qt={class:"p-float-label"},At=e("label",{for:"supplierContact"},"Phone Number",-1),Pt={class:"field col-12 md:col-12"},Ot={class:"p-float-label"},Rt=e("label",{for:"supplierDesc"},"More Info",-1),Mt={lang:"en"},Lt=e("head",null,[e("meta",{charset:"UTF-8"}),e("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),e("title",null,"Invoice")],-1),Bt={style:{"font-family":"Arial, sans-serif","line-height":"1.6",margin:"0",padding:"0"}},Ft={style:{"max-width":"750px",margin:"auto",padding:"20px",border:"1px solid #ddd"}},zt=e("header",{style:{display:"flex","justify-content":"space-between","align-items":"center"}},[e("h1",{style:{color:"#002060",margin:"0"}},"INVOICE"),e("div",{style:{width:"80px",height:"80px",background:"#ccc","border-radius":"50%","text-align":"center","line-height":"80px","font-size":"20px","font-weight":"bold"}},"LOGO")],-1),jt={style:{margin:"20px 0"}},Qt={style:{display:"flex","justify-content":"space-between"}},$t={style:{margin:"0"}},Ht={style:{"text-align":"right"}},Xt={style:{margin:"0",color:"grey"}},Gt=e("strong",null,"Invoice #:",-1),Kt={style:{margin:"0",color:"grey"}},Yt=e("strong",null,"Invoice Date:",-1),Wt=e("p",{style:{margin:"0",color:"grey"}},[e("strong",null,"Due Date:"),T(" 26/02/2019")],-1),Jt={style:{margin:"20px 0"}},Zt={style:{display:"flex","justify-content":"space-between"}},el=e("h4",{style:{margin:"0"}},"BILL TO",-1),tl={style:{margin:"0",color:"grey"}},ll={style:{margin:"0",color:"grey"}},ol=e("h4",{style:{margin:"0",color:"grey"}},"SHIP TO",-1),nl={style:{margin:"0",color:"grey"}},il={style:{margin:"0",color:"grey"}},sl={style:{width:"100%","border-collapse":"collapse",margin:"20px 0"}},al=e("thead",null,[e("tr",{style:{background:"#f2f2f2"}},[e("th",{style:{border:"1px solid #ddd",padding:"8px","text-align":"left",color:"grey"}},"QTY"),e("th",{style:{border:"1px solid #ddd",padding:"8px","text-align":"left",color:"grey"}},"DESCRIPTION"),e("th",{style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"grey"}},"UNIT PRICE"),e("th",{style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"grey"}},"AMOUNT")])],-1),dl={style:{border:"1px solid #ddd",padding:"8px",color:"black"}},rl={style:{border:"1px solid #ddd",padding:"8px",color:"black"}},ul={style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"black"}},cl={style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"black"}},ml=e("td",{colspan:"3",style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"grey"}},"VAT 18%",-1),pl={style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"black"}},gl=e("td",{colspan:"3",style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"grey"}},[e("strong",null,"Total")],-1),vl={style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"black"}},hl={style:{"text-align":"center",margin:"20px 0"}},yl=e("p",{style:{margin:"0",color:"grey"}},"Thank you",-1),_l=e("p",{style:{margin:"0","font-size":"0.9em",color:"#666"}},"Payment is due within 15 days",-1),xl={style:{margin:"0","font-size":"0.9em",color:"#666"}},Cl={__name:"PointOfSale",setup(bl){const w=Ie(),i=new Ee,oe=ke(),$=a(null),s=a([{id:null,price:null,quantity:null,discount:null,name:"",tax_config:null}]),C=a(0),_=a(0);a(0);const ne=a({}),U=a({}),I=a(0),H=a(0),X=a(0),F=a(!1),P=a({}),S=a(null),O=a(null),R=a(null),M=a(null),L=a(null),G=a([]),z=a(!1);a({});const E=a([{id:1,name:"18%",amount:0,total:0},{id:2,name:"Exempted",amount:0,total:0}]),ie=()=>{i.genericRequest("get-products","get",!0,{}).then(t=>{t.status?$.value=t.data:i.showError(w,t.message)})},se=t=>{var m;let l={id:t.id,price:Number(t.selling_price),quantity:1,discount:0,name:t.name,tax_config:t.tax_config,units:[{id:1,ind:"Primary",name:t.unit,weight:1,price:Number(t.selling_price),unit_id:t==null?void 0:t.measurement_unit_id}],selected:{id:1,ind:"Primary",name:t.unit,weight:1,price:Number(t.selling_price),unit_id:t==null?void 0:t.measurement_unit_id}};t.secondary_unit&&l.units.push({id:2,ind:"Secondary",name:t.secondary_unit,weight:Number(t==null?void 0:t.secondary_weight),price:Number(t==null?void 0:t.secondary_price),unit_id:t==null?void 0:t.secondary_measurement_unit_id});const n=s.value.find(c=>c.id===l.id);if(n)n.quantity+=l.quantity;else{let c=s.value.length-1;s.value.splice(c,0,l)}(m=U==null?void 0:U.value)!=null&&m.is_tax_enabled&&B()},ae=t=>{const l=s.value.findIndex(n=>n.id===t.id);l!==-1&&s.value.splice(l,1)},de=(t,l)=>{s.value=s.value.map(n=>n.id===l.id?{...n,quantity:Number(t.target.value)}:n)},re=(t,l)=>{s.value=s.value.map(n=>n.id===l.id?{...n,price:Number(t.target.value)}:n),B()},K=(t,l)=>{s.value=s.value.map(n=>{if(n.id===t.id){if(l=="Add")return{...n,quantity:Number(n.quantity+1)};if(n.quantity>0)return{...n,quantity:Number(n.quantity-1)}}return n}),B()},b=t=>{let l=0;return t.length>0&&t.forEach(n=>{l+=n.quantity*n.price}),l},ue=()=>{var l;s.value=s==null?void 0:s.value.filter(n=>n.id!=null);let t={total:b(s==null?void 0:s.value)-Number(_==null?void 0:_.value)+Number(I.value),discount:Number(_==null?void 0:_.value),amountPaid:Number(C==null?void 0:C.value),itemCount:s==null?void 0:s.value.length,tranDate:Q.value,items:s==null?void 0:s.value,status:"Active",vat:Number(I.value),vatInc:H.value,vatEx:X.value,payment_method:q==null?void 0:q.value.value,address:k.value,customer_id:(l=v==null?void 0:v.value)==null?void 0:l.id};i.genericRequest("create-order","post",!0,t).then(n=>{n.status?(i.showSuccess(w,n.message),i.redirect(oe,"/view-sales")):i.showError(w,n.message)})},ce=()=>{i.genericRequest("get-institution-details","get",!0,{}).then(t=>{t.status?U.value=t.data:i.showError(w,t.message)})},me=()=>{ne.value={global:{value:null,matchMode:Ve.CONTAINS}}},B=()=>{let t=0,l=0,n=0;s.value.forEach(x=>{const h=x.quantity*x.price;switch(x.tax_config){case"TAX_EXCLUSIVE":t+=h;break;case"TAX_INCLUSIVE":l+=h;break;case"TAX_EXEMPTED":n+=h;break}});const m=.18*t,c=.18*l;X.value=m,H.value=c,I.value=m,E.value=E.value.map(x=>x.id===1?{...x,total:m+c,amount:t+(l-c)}:x.id===2?{...x,total:0,amount:n}:x)},j=t=>{F.value=t},Y=t=>{z.value=t},pe=(t,l)=>{P.value[l]=i.validateFormField(t)},ge=()=>{if(P.value.customerName=i.validateFormField(S.value),i.validateRequiredFields(P.value)){i.showError(w,"Please fill in the missing field");return}let l={name:S.value,address:R.value,email:O.value,phone_number:M.value,description:L.value,status:"Active"};i.genericRequest("create-customer","post",!0,l).then(n=>{n.status?(i.showSuccess(w,n.message),W(),j(!1),S.value=null,R.value=null,O.value=null,M.value=null,L.value=null):i.showError(w,n.message)})},W=()=>{i.genericRequest("get-customers","post",!0,{}).then(t=>{t.status?G.value=t.data:i.showError(w,t.message)})},ve=t=>{t.value.address&&(k.value=t.value.address)},he=(t,l)=>{s.value=s.value.map(n=>n.id===l.id?{...n,price:Number(t.value.price)}:n),B()},ye=a([]),q=a({id:1,name:"Cash",value:"CASH"}),k=a(null),v=a(null),Q=a(new Date);a(0),a(0);const _e=a([{id:1,name:"Cash",value:"CASH"},{id:2,name:"Bank",value:"BANK"},{id:3,name:"Credit",value:"CREDIT"}]),xe=()=>[{id:null,name:"",description:"",quantity:null,rate:null,amount:null,uuid:i.generateUUID()},{id:null,name:"",description:"",quantity:null,rate:null,amount:null,uuid:i.generateUUID()},{id:null,name:"",description:"",quantity:null,rate:null,amount:null,uuid:i.generateUUID()},{id:null,name:"",description:"",quantity:null,rate:null,amount:null,uuid:i.generateUUID()},{id:null,name:"",description:"",quantity:null,rate:null,amount:null,uuid:i.generateUUID()}];a([{field:"name",header:"Product/Services"},{field:"description",header:"Description"},{field:"quantity",header:"Quantity"},{field:"rate",header:"Rate"},{field:"amount",header:"Amount"},{field:"tax",header:"Tax"}]);const be=()=>{s.value=[{id:null,price:null,quantity:null,discount:null,name:"",tax_config:null}]},fe=()=>{Y(!1),we()},we=()=>{var l,n;const t=window.open("","","width=600,height=600");t.document.open(),t.document.write(`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice</title>
</head>
<body style="font-family: Arial, sans-serif; line-height: 1.6; margin: 0; padding: 0;">
    <div style="max-width: 750px; margin: auto; padding: 20px; border: 1px solid #ddd;">
        <header style="display: flex; justify-content: space-between; align-items: center;">
            <h1 style="color: #002060; margin: 0;">INVOICE</h1>
            <div style="width: 80px; height: 80px; background: #ccc; border-radius: 50%; text-align: center; line-height: 80px; font-size: 20px; font-weight: bold;">LOGO</div>
        </header>
        <section style="margin: 20px 0;">
            <div style="display: flex; justify-content: space-between;">
                <div>
                    <h3 style="margin: 0;">`+((l=i.getStorage())==null?void 0:l.institution_name)+`</h3>
                </div>
                <div style="text-align: right;">
                    <p style="margin: 0; color: grey"><strong>Invoice #:</strong> `+i.generateRandomFiveId()+` </p>
                    <p style="margin: 0;  color: grey"><strong>Invoice Date:</strong> `+i.formatDate(i.getCurrentTimestamp())+` </p>

                </div>
            </div>
        </section>
        <section style="margin: 20px 0;">
            <div style="display: flex; justify-content: space-between;">
                <div>
                    <h4 style="margin: 0;">BILL TO</h4>
                    <p style="margin: 0; color: grey">`+(v==null?void 0:v.name)+`</p>

                    <p style="margin: 0; color: grey">`+k+`</p>
                </div>
                <div>
                    <h4 style="margin: 0; color: grey">SHIP TO</h4>
                    <p style="margin: 0; color: grey">`+(v==null?void 0:v.name)+`</p>
                    <!-- <p style="margin: 0; color: grey">3787 Pineview Drive</p> -->
                    <p style="margin: 0; color: grey">`+k+`</p>
                </div>
            </div>
        </section>
        <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
            <thead>
                <tr style="background: #f2f2f2;"  >
                    <th style="border: 1px solid #ddd; padding: 8px; text-align: left;  color: grey">QTY</th>
                    <th style="border: 1px solid #ddd; padding: 8px; text-align: left;  color: grey">DESCRIPTION</th>
                    <th style="border: 1px solid #ddd; padding: 8px; text-align: right;  color: grey">UNIT PRICE</th>
                    <th style="border: 1px solid #ddd; padding: 8px; text-align: right;  color: grey">AMOUNT</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="(prod, index) of selectedProduct" :key="prod.id">
                    <td style="border: 1px solid #ddd; padding: 8px;  color: black"> `+prod.quantity+`</td>
                    <td style="border: 1px solid #ddd; padding: 8px; color: black"> `+prod.name+`</td>
                    <td style="border: 1px solid #ddd; padding: 8px; text-align: right; color: black">`+i.commaSeparator(prod.price)+`</td>
                    <td style="border: 1px solid #ddd; padding: 8px; text-align: right; color: black"> `+i.commaSeparator(prod.price*prod.quantity)+`</td>
                </tr>
            </tbody>
            <tfoot>

                <tr>
                    <td colspan="3" style="border: 1px solid #ddd; padding: 8px; text-align: right; color: grey">VAT 18%</td>
                    <td style="border: 1px solid #ddd; padding: 8px; text-align: right; color: black"> `+i.commaSeparator(E[0].total)+`</td>
                </tr>
                <tr>
                    <td colspan="3" style="border: 1px solid #ddd; padding: 8px; text-align: right; color: grey"><strong>Total</strong></td>
                    <td style="border: 1px solid #ddd; padding: 8px; text-align: right;color: black"><strong>`+b(s)?i.commaSeparator(b(s)-Number(_)+Number(I)):`0</strong></td>
                </tr>
            </tfoot>
        </table>
        <div style="text-align: center; margin: 20px 0;">
            <p style="margin: 0; color: grey">Thank you</p>
            <p style="margin: 0; font-size: 0.9em; color: #666;">Payment is due within 15 days</p>
            <p style="margin: 0; font-size: 0.9em; color: #666;">Please make checks payable to:`+((n=i.getStorage())==null?void 0:n.institution_name)+`.</p>
        </div>
    </div>
</body>
</html>`),t.document.close(),t.print(),t.close()};return Ne(()=>{me()}),Te(()=>{ie(),ce(),W(),ye.value=xe()}),(t,l)=>{var ee;const n=N("Dropdown"),m=N("Button"),c=N("InputText"),x=N("Calendar"),h=N("Column"),J=N("DataTable"),Ce=N("Textarea"),Z=N("Dialog");return y(),V("div",qe,[e("div",Ae,[e("span",Pe,[d(n,{id:"paymentMethod",options:_e.value,filter:"",modelValue:q.value,"onUpdate:modelValue":l[0]||(l[0]=o=>q.value=o),optionLabel:"name"},null,8,["options","modelValue"]),Oe])]),e("div",Re,[e("div",Me,[e("span",Le,[d(n,{id:"customer",onChange:ve,options:G.value,filter:"",modelValue:v.value,"onUpdate:modelValue":l[1]||(l[1]=o=>v.value=o),optionLabel:"name"},null,8,["options","modelValue"]),Be]),d(m,{onClick:l[2]||(l[2]=o=>j(!0)),icon:"pi pi-plus"})])]),e("div",Fe,[e("span",ze,[d(c,{type:"text",id:"productId",modelValue:k.value,"onUpdate:modelValue":l[3]||(l[3]=o=>k.value=o)},null,8,["modelValue"]),je])]),e("div",Qe,[e("span",$e,[d(x,{id:"date",modelValue:Q.value,"onUpdate:modelValue":l[4]||(l[4]=o=>Q.value=o)},null,8,["modelValue"]),He])]),Xe,Ge,Ke,e("div",Ye,[e("p",We,"Total: "+u(b(s.value)?p(i).commaSeparator(b(s.value)-Number(_.value)+Number(I.value)):0),1)]),e("div",Je,[e("div",Ze,[d(J,{value:s.value,size:"small",stripedRows:"",rows:20,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:g(()=>[d(h,{field:"name",header:"Name",style:{"max-width":"10rem"}},{body:g(({data:o})=>[o.id?f("",!0):(y(),A(n,{key:0,id:"subCategory",change:"",options:$.value,filter:"",optionLabel:"name",onChange:l[5]||(l[5]=r=>se(r.value))},null,8,["options"])),T(" "+u(o.name),1)]),_:1}),d(h,{field:"quantity",header:"Qty",style:{"max-width":"8rem"}},{body:g(({data:o})=>[o.id?(y(),V("i",{key:0,class:"pi pi-minus",onClick:r=>K(o,"Subtract"),style:{"font-size":"1rem","margin-left":"3px",cursor:"pointer"}},null,8,et)):f("",!0),o.id?(y(),A(c,{key:1,type:"text",onChange:r=>de(r,o),value:o.quantity,style:{width:"100px",padding:"5px","margin-left":"1px","margin-right":"1px","text-align":"center"},placeholder:"Qty"},null,8,["onChange","value"])):f("",!0),o.id?(y(),V("i",{key:2,class:"pi pi-plus",onClick:r=>K(o,"Add"),style:{"font-size":"1rem","margin-right":"3px",cursor:"pointer"}},null,8,tt)):f("",!0)]),_:1}),d(h,{field:"unit",header:"Unit",style:{"max-width":"8rem"}},{body:g(({data:o})=>[o.id?(y(),A(n,{key:0,id:"type",onChange:r=>he(r,o),filter:"",options:o.units,modelValue:o.selected,"onUpdate:modelValue":r=>o.selected=r,optionLabel:"name",style:{width:"80%","margin-left":"1px","margin-right":"1px"}},null,8,["onChange","options","modelValue","onUpdate:modelValue"])):f("",!0)]),_:1}),d(h,{field:"price",header:"Price",style:{"max-width":"8rem"}},{body:g(({data:o})=>[o.id?(y(),A(c,{key:0,type:"text",onChange:r=>re(r,o),value:o.price,style:{width:"80%",padding:"5px","margin-left":"1px","margin-right":"1px","text-align":"center"},placeholder:"Qty"},null,8,["onChange","value"])):f("",!0)]),_:1}),d(h,{field:"subtotal",header:"Amount",style:{"max-width":"8rem"}},{body:g(({data:o})=>[T(u(o.id?p(i).commaSeparator(o.quantity*o.price):""),1)]),_:1}),d(h,{headerStyle:"width:6rem;"},{body:g(({data:o})=>[o.id?(y(),A(m,{key:0,icon:"pi pi-trash",class:"p-button-rounded p-button-danger mr-2",onClick:r=>ae(o)},null,8,["onClick"])):f("",!0)]),_:1})]),_:1},8,["value"])])]),e("div",lt,[d(m,{label:"Clear",onClick:be,icon:"pi pi-minus",iconPos:"left",class:"p-button-danger mr-2 mb-2"})]),e("div",ot,[d(m,{label:"Generate Invoice",onClick:l[6]||(l[6]=o=>Y(!0)),icon:"pi pi-file",iconPos:"left",class:"p-button-info mr-2 mb-2"})]),e("div",nt,[(ee=U.value)!=null&&ee.is_tax_enabled&&s.value.length>0?(y(),V("div",it,[st,at,e("div",dt,[e("div",rt,[d(J,{value:E.value,size:"small",rows:20,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:g(()=>[d(h,{field:"name",header:"18%",style:{"max-width":"10rem"}},{body:g(({data:o})=>[T(u(o.name),1)]),_:1}),d(h,{field:"price",header:"Amount",style:{"max-width":"10rem"}},{body:g(({data:o})=>[T(u(p(i).commaSeparator(o.amount)),1)]),_:1}),d(h,{field:"subtotal",header:"V.A.T",style:{"max-width":"10rem"}},{body:g(({data:o})=>[T(u(p(i).commaSeparator(o.total)),1)]),_:1})]),_:1},8,["value"])])])])):f("",!0)]),ut,ct,e("div",mt,[e("p",pt,"Total: "+u(b(s.value)?p(i).commaSeparator(b(s.value)-Number(_.value)+Number(I.value)):0),1)]),gt,e("div",vt,[e("span",ht,[d(c,{type:"text",id:"discount",modelValue:C.value,"onUpdate:modelValue":l[7]||(l[7]=o=>C.value=o)},null,8,["modelValue"]),yt])]),e("div",_t,[C.value&&C.value>0?(y(),V("p",xt,"Change: "+u(p(i).commaSeparator(Number(C.value)+Number(_.value)-(b(s.value)+Number(I.value)))),1)):f("",!0)]),e("div",bt,[d(m,{onClick:ue,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})]),d(Z,{header:"Create new customer",visible:F.value,"onUpdate:visible":l[15]||(l[15]=o=>F.value=o),style:{width:"75vw"},modal:!0,class:"p-fluid"},{footer:g(()=>[d(m,{label:"Cancel",onClick:l[14]||(l[14]=o=>j(!1)),icon:"pi pi-times",class:"p-button-outlined p-button-danger mr-2 mb-2"}),d(m,{onClick:ge,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})]),default:g(()=>{var o;return[e("p",ft,[e("div",wt,[e("div",Ct,[e("span",It,[d(c,{type:"text",id:"customerName",onBlur:l[8]||(l[8]=r=>pe(S.value,"customerName")),modelValue:S.value,"onUpdate:modelValue":l[9]||(l[9]=r=>S.value=r),class:Se({"p-invalid":(o=P.value)==null?void 0:o.customerName})},null,8,["modelValue","class"]),kt])]),e("div",Nt,[e("span",Tt,[d(c,{type:"text",id:"supplierEmail",modelValue:O.value,"onUpdate:modelValue":l[10]||(l[10]=r=>O.value=r)},null,8,["modelValue"]),Vt])]),e("div",St,[e("span",Dt,[d(c,{type:"text",id:"supplierAddress",modelValue:R.value,"onUpdate:modelValue":l[11]||(l[11]=r=>R.value=r)},null,8,["modelValue"]),Ut])]),e("div",Et,[e("span",qt,[d(c,{type:"text",id:"supplierContact",modelValue:M.value,"onUpdate:modelValue":l[12]||(l[12]=r=>M.value=r)},null,8,["modelValue"]),At])]),e("div",Pt,[e("span",Ot,[d(Ce,{inputId:"supplierDesc",rows:"7",modelValue:L.value,"onUpdate:modelValue":l[13]||(l[13]=r=>L.value=r)},null,8,["modelValue"]),Rt])])])])]}),_:1},8,["visible"]),d(Z,{header:"Generate Invoice",visible:z.value,"onUpdate:visible":l[16]||(l[16]=o=>z.value=o),style:{width:"75vw"},modal:!0,class:"p-fluid"},{footer:g(()=>[d(m,{label:"print",onClick:fe,icon:"pi pi-print",class:"p-button-outlined"})]),default:g(()=>{var o,r,te,le;return[e("html",Mt,[Lt,e("body",Bt,[e("div",Ft,[zt,e("section",jt,[e("div",Qt,[e("div",null,[e("h3",$t,u((o=p(i).getStorage())==null?void 0:o.institution_name),1)]),e("div",Ht,[e("p",Xt,[Gt,T(" "+u(p(i).generateRandomFiveId()),1)]),e("p",Kt,[Yt,T(" "+u(p(i).formatDate(p(i).getCurrentTimestamp())),1)]),Wt])])]),e("section",Jt,[e("div",Zt,[e("div",null,[el,e("p",tl,u((r=v.value)==null?void 0:r.name),1),e("p",ll,u(k.value),1)]),e("div",null,[ol,e("p",nl,u((te=v.value)==null?void 0:te.name),1),e("p",il,u(k.value),1)])])]),e("table",sl,[al,e("tbody",null,[(y(!0),V(De,null,Ue(s.value,(D,fl)=>(y(),V("tr",{key:D.id},[e("td",dl,u(D.quantity),1),e("td",rl,u(D.name),1),e("td",ul,u(p(i).commaSeparator(D.price)),1),e("td",cl,u(p(i).commaSeparator(D.price*D.quantity)),1)]))),128))]),e("tfoot",null,[e("tr",null,[ml,e("td",pl,u(p(i).commaSeparator(E.value[0].total)),1)]),e("tr",null,[gl,e("td",vl,[e("strong",null,u(b(s.value)?p(i).commaSeparator(b(s.value)-Number(_.value)+Number(I.value)):0),1)])])])]),e("div",hl,[yl,_l,e("p",xl,"Please make checks payable to: "+u((le=p(i).getStorage())==null?void 0:le.institution_name)+".",1)])])])])]}),_:1},8,["visible"])])}}};export{Cl as default};
