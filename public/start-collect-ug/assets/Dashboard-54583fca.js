import{u as N,r as d,a as h,o as z,w as B,b as A,c as l,d as c,e as o,f as e,t as a,g as i,h as _,C as F}from"./index-9a58b64e.js";class I{getProductsSmall(){return fetch("demo/data/products-small.json").then(t=>t.json()).then(t=>t.data)}getProducts(){return fetch("demo/data/products.json").then(t=>t.json()).then(t=>t.data)}getProductsWithOrdersSmall(){return fetch("demo/data/products-orders-small.json").then(t=>t.json()).then(t=>t.data)}}const J={class:"grid"},O={key:0,class:"col-12 lg:col-6 xl:col-3"},T={class:"card mb-0"},E={class:"flex justify-content-between mb-3"},L=e("span",{class:"block text-500 font-medium mb-3"},"Institutions",-1),R={class:"text-900 font-medium text-xl"},U=e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-building text-blue-500 text-xl"})],-1),q={key:1,class:"col-12 lg:col-6 xl:col-3"},W={class:"card mb-0"},H={class:"flex justify-content-between mb-3"},K=e("span",{class:"block text-500 font-medium mb-3"},"Branches",-1),Q={class:"text-900 font-medium text-xl"},X=e("div",{class:"flex align-items-center justify-content-center bg-orange-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-share-alt text-orange-500 text-xl"})],-1),Y={key:2,class:"col-12 lg:col-6 xl:col-3"},Z={class:"card mb-0"},$={class:"flex justify-content-between mb-3"},ee=e("span",{class:"block text-500 font-medium mb-3"},"Users",-1),te={class:"text-900 font-medium text-xl"},se=e("div",{class:"flex align-items-center justify-content-center bg-cyan-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-user text-cyan-500 text-xl"})],-1),oe={key:3,class:"col-12 lg:col-6 xl:col-3"},le={class:"card mb-0"},ce={class:"flex justify-content-between mb-3"},ie=e("span",{class:"block text-500 font-medium mb-3"},"Members",-1),ne={class:"text-900 font-medium text-xl"},ae=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-users text-purple-500 text-xl"})],-1),re={key:4,class:"col-12 lg:col-6 xl:col-3"},de={class:"card mb-0"},ue={class:"flex justify-content-between mb-3"},he=e("span",{class:"block text-500 font-medium mb-3"},"Products",-1),_e={class:"text-900 font-medium text-xl"},me=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),be={key:5,class:"col-12 lg:col-6 xl:col-3"},pe={class:"card mb-0"},ge={class:"flex justify-content-between mb-3"},xe=e("span",{class:"block text-500 font-medium mb-3"},"Sales",-1),ve={class:"text-900 font-medium text-xl"},fe=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-credit-card text-purple-500 text-xl"})],-1),ye={key:6,class:"col-12 lg:col-6 xl:col-3"},ke={class:"card mb-0"},we={class:"flex justify-content-between mb-3"},Pe=e("span",{class:"block text-500 font-medium mb-3"},"Products Sold",-1),Se={class:"text-900 font-medium text-xl"},je=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-purple-500 text-xl"})],-1),Ce={key:7,class:"col-12 xl:col-6"},De={class:"card"},Ve=e("h5",null,"Member and collection growth ",-1),Me={key:8,class:"col-12 xl:col-6"},Ge={class:"card"},Ne=e("h5",null,"Member and collection growth ",-1),ze={key:9,class:"col-12 xl:col-6"},Be={class:"card"},Ae=e("h5",null,"Products and Sales growth ",-1),Fe={key:10,class:"col-12 xl:col-6"},Ie={class:"card"},Je=e("h5",null,"Products and Sales growth ",-1),Ee={__name:"Dashboard",setup(w){const t=new F,{isDarkTheme:P}=N(),n=d(null);d(["Jan","Feb","Mar","Apr","May","Jun","Jly","Aug","Sep","Oct","Nov","Dec"]);const S=d(null);let m=h({}),b=h({});d([{label:"Add New",icon:"pi pi-fw pi-plus"},{label:"Remove",icon:"pi pi-fw pi-minus"}]);const r=d(null),j=new I,C=()=>{t.genericRequest("get-dashboard-stats","get",!0,{}).then(s=>{s.status?(n.value=s.data.count[0],D(s.data),V(s.data)):t.showError(toast,s.message)})},D=s=>{m=h({labels:t.getMonthsStartingFromCurrent(),datasets:[{label:"No. of Members ",data:t.organizeGraphData(s.membersGraph,"count"),fill:!1,backgroundColor:"rgba(47, 72, 96, 1)",borderColor:"#2f4860",tension:.4},{label:"No. of Collections",data:t.organizeGraphData(s.collectionGraph,"count"),fill:!1,backgroundColor:"rgba(0, 187, 126, 1)",borderColor:"#00bb7e",tension:.4}]})},V=s=>{b=h({labels:t.getMonthsStartingFromCurrent(),datasets:[{label:"No. of Products ",data:t.organizeGraphData(s.productsGraph,"count"),fill:!1,backgroundColor:"rgba(47, 72, 96, 1)",borderColor:"#2f4860",tension:.4},{label:"No. of Sales",data:t.organizeGraphData(s.salesGraph,"count"),fill:!1,backgroundColor:"rgba(0, 187, 126, 1)",borderColor:"#00bb7e",tension:.4}]})};z(()=>{j.getProductsSmall().then(s=>S.value=s),C()});const M=()=>{r.value={plugins:{legend:{labels:{color:"#495057"}}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{ticks:{color:"#495057"},grid:{color:"#ebedef"}}}}},G=()=>{r.value={plugins:{legend:{labels:{color:"#ebedef"}}},scales:{x:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}},y:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}}}}};return B(P,s=>{s?G():M()},{immediate:!0}),(s,Oe)=>{var p,g,x,v,f,y,k;const u=A("Chart");return l(),c("div",J,[o(t).checkPermissions("CanViewInstitution")?(l(),c("div",O,[e("div",T,[e("div",E,[e("div",null,[L,e("div",R,a((p=n.value)==null?void 0:p.total_institutions),1)]),U])])])):i("",!0),o(t).checkPermissions("CanViewInstitution")?(l(),c("div",q,[e("div",W,[e("div",H,[e("div",null,[K,e("div",Q,a((g=n.value)==null?void 0:g.total_branches),1)]),X])])])):i("",!0),o(t).checkPermissions("ViewUsers")?(l(),c("div",Y,[e("div",Z,[e("div",$,[e("div",null,[ee,e("div",te,a((x=n.value)==null?void 0:x.total_users),1)]),se])])])):i("",!0),o(t).checkPermissions("ViewMember")?(l(),c("div",oe,[e("div",le,[e("div",ce,[e("div",null,[ie,e("div",ne,a((v=n.value)==null?void 0:v.total_customers),1)]),ae])])])):i("",!0),o(t).checkPermissions("ViewProducts")?(l(),c("div",re,[e("div",de,[e("div",ue,[e("div",null,[he,e("div",_e,a((f=n.value)==null?void 0:f.products),1)]),me])])])):i("",!0),o(t).checkPermissions("ViewSales")?(l(),c("div",be,[e("div",pe,[e("div",ge,[e("div",null,[xe,e("div",ve,a((y=n.value)==null?void 0:y.sales),1)]),fe])])])):i("",!0),o(t).checkPermissions("ViewSales")?(l(),c("div",ye,[e("div",ke,[e("div",we,[e("div",null,[Pe,e("div",Se,a((k=n.value)==null?void 0:k.product_sold),1)]),je])])])):i("",!0),o(t).checkPermissions("ViewMember")?(l(),c("div",Ce,[e("div",De,[Ve,_(u,{type:"bar",data:o(m),options:r.value},null,8,["data","options"])])])):i("",!0),o(t).checkPermissions("ViewCollection")?(l(),c("div",Me,[e("div",Ge,[Ne,_(u,{type:"line",data:o(m),options:r.value},null,8,["data","options"])])])):i("",!0),o(t).checkPermissions("ViewSales")?(l(),c("div",ze,[e("div",Be,[Ae,_(u,{type:"bar",data:o(b),options:r.value},null,8,["data","options"])])])):i("",!0),o(t).checkPermissions("ViewSales")?(l(),c("div",Fe,[e("div",Ie,[Je,_(u,{type:"line",data:o(b),options:r.value},null,8,["data","options"])])])):i("",!0)])}}};export{Ee as default};
