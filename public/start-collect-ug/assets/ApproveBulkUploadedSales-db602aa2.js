import{l as k,m as B,k as D,r as v,o as S,b as c,c as T,d as C,e as m,h as s,i as a,j as n,t as l,C as N}from"./index-9434943a.js";const M={class:"grid"},R={class:"col-12"},x={className:"card"},A={class:"my-2"},P={__name:"ApproveBulkUploadedSales",setup(q){k();const _=B(),p=D(),r=new N,h=v(null),d=v(null),b=u=>{let t={status:"Pending",batchId:u};r.genericRequest("get-batch-sales","post",!0,t).then(i=>{i.status?h.value=i.data:r.showError(p,i.message)})},y=()=>{let u={sales:d.value,status:"Active"};r.genericRequest("approve-batch-sales","post",!0,u).then(t=>{t.status?(r.showSuccess(p,t.message),b(_.params.id)):r.showError(p,t.message)})};return S(()=>{b(_.params.id)}),(u,t)=>{const i=c("Toast"),w=c("Button"),g=c("Toolbar"),o=c("Column"),f=c("DataTable");return T(),C("div",M,[m("div",R,[m("div",x,[t[2]||(t[2]=m("h5",null,"Approve Batch",-1)),s(i),s(g,{class:"mb-4"},{start:a(()=>[m("div",A,[s(w,{label:"Approve",icon:"pi pi-check",class:"p-button-success",onClick:y,disabled:!d.value||!d.value.length},null,8,["disabled"])])]),end:a(()=>t[1]||(t[1]=[])),_:1}),s(f,{value:h.value,paginator:!0,class:"p-datatable-gridlines",rows:10,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll",selection:d.value,"onUpdate:selection":t[0]||(t[0]=e=>d.value=e),rowsPerPageOptions:[5,10,25]},{default:a(()=>[s(o,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(l(e.product_name),1)]),_:1}),s(o,{header:"Ref. No.",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(l(e.ref_no),1)]),_:1}),s(o,{header:"Quantity",style:{"min-width":"12rem"}},{body:a(({data:e})=>[n(l(e.quantity),1)]),_:1}),s(o,{header:"Stock Date",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(l(e.stock_date),1)]),_:1}),s(o,{header:"Status",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(l(e.status),1)]),_:1}),s(o,{header:"Date",style:{"min-width":"10rem"}},{body:a(({data:e})=>[n(l(e.created_at),1)]),_:1}),s(o,{selectionMode:"multiple",headerStyle:"width: 3rem"})]),_:1},8,["value","selection"])])])])}}};export{P as default};
