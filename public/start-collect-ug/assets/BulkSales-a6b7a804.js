import{k as w,l as h,r,b as i,c as b,d as g,e as o,h as u,C as k}from"./index-9434943a.js";const B={class:"card"},C={class:"grid p-fluid mt-3"},x={class:"field col-12 md:col-3"},S={class:"p-float-label"},D={class:"field col-12 md:col-12"},y={class:"field col-12 md:col-4"},V={__name:"BulkSales",setup(T){const c=w(),s=new k,m=h(),a=r(null);r(null);const t=r(new Date),p=l=>{a.value=l.target.files[0]},f=async()=>{if(!a.value)return;const l=new FormData;l.append("file",a.value),l.append("name",a.value.name),l.append("date",s.formatDate(t.value));try{const e=await fetch(s.baseUrl+"upload-sales",{method:"POST",body:l,headers:{Authorization:`Bearer ${s.getStorage().token}`}});if(!e.ok)throw new Error("Upload failed");const n=await e.json();s.showSuccess(c,n.message),m.push("/view-uploaded-sales")}catch(e){console.error(e.message),s.showError(c,e.message)}};return(l,e)=>{const n=i("Toast"),v=i("Calendar"),_=i("Button");return b(),g("div",B,[e[4]||(e[4]=o("h5",null,"Bulk Upload",-1)),e[5]||(e[5]=o("a",{href:"demo/documents/bulk_sales_template.xlsx"},[o("i",{class:"pi pi-cloud-download",style:{"font-size":"2rem"}}),o("p",null,"Download template")],-1)),o("div",C,[u(n),o("div",x,[o("span",S,[u(v,{id:"date",modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=d=>t.value=d)},null,8,["modelValue"]),e[2]||(e[2]=o("label",{for:"date"},"Date",-1))])]),o("div",D,[o("input",{type:"file",accept:".xlsx, .xls",onChange:e[1]||(e[1]=d=>p(d))},null,32)]),e[3]||(e[3]=o("div",{class:"field col-12 md:col-8"},null,-1)),o("div",y,[u(_,{onClick:f,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])}}};export{V as default};
