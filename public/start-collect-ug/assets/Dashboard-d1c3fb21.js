import{u as Y,r as h,a as x,o as Z,w as $,b as f,c as o,d as l,e,f as s,t as i,g as c,h as d,i as m,F as ee,j as q,C as te}from"./index-66e4affa.js";class se{getProductsSmall(){return fetch("demo/data/products-small.json").then(t=>t.json()).then(t=>t.data)}getProducts(){return fetch("demo/data/products.json").then(t=>t.json()).then(t=>t.data)}getProductsWithOrdersSmall(){return fetch("demo/data/products-orders-small.json").then(t=>t.json()).then(t=>t.data)}}const oe={class:"grid"},le={key:0,class:"col-12 lg:col-6 xl:col-3"},ce={class:"card mb-0"},ie={class:"flex justify-content-between mb-3"},ae=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Institutions",-1),ne={class:"text-900 font-bold text-xl"},de=e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-building text-blue-500 text-xl"})],-1),re={key:1,class:"col-12 lg:col-6 xl:col-3"},_e={class:"card mb-0"},he={class:"flex justify-content-between mb-3"},ue=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Branches",-1),be={class:"text-900 font-bold text-xl"},xe=e("div",{class:"flex align-items-center justify-content-center bg-orange-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-share-alt text-orange-500 text-xl"})],-1),me={key:2,class:"col-12 lg:col-6 xl:col-3"},ge={class:"card mb-0"},pe={class:"flex justify-content-between mb-3"},ve=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Users",-1),fe={class:"text-900 font-bold text-xl"},ye=e("div",{class:"flex align-items-center justify-content-center bg-cyan-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-user text-cyan-500 text-xl"})],-1),ke={key:3,class:"col-12 lg:col-6 xl:col-3"},we={class:"card mb-0"},Se={class:"flex justify-content-between mb-3"},Pe=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Members",-1),je={class:"text-900 font-bold text-xl"},Ve=e("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-users text-green-500 text-xl"})],-1),Ce={key:4,class:"col-12 lg:col-6 xl:col-3"},De={class:"card mb-0"},Te={class:"flex justify-content-between mb-3"},Me=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Products",-1),Ne={class:"text-900 font-bold text-xl"},Ge=e("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1),Ee={key:5,class:"col-12 lg:col-6 xl:col-3"},Fe={class:"card mb-0"},ze={class:"flex justify-content-between mb-3"},Be=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Sales",-1),Ae={class:"text-900 font-bold text-xl"},Ie=e("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-credit-card text-green-500 text-xl"})],-1),Re={key:6,class:"col-12 lg:col-6 xl:col-3"},qe={class:"card mb-0"},Le={class:"flex justify-content-between mb-3"},Je=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Products Sold",-1),Oe={class:"text-900 font-bold text-xl"},Ue=e("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-green-500 text-xl"})],-1),Qe={key:7,class:"col-12 lg:col-6 xl:col-3"},We={class:"card mb-0"},He={class:"flex justify-content-between mb-3"},Ke=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Total Sales Value",-1),Xe={class:"text-900 font-bold text-xl"},Ye=e("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-green-500 text-xl"})],-1),Ze={key:8,class:"col-12 lg:col-6 xl:col-3"},$e={class:"card mb-0"},et={class:"flex justify-content-between mb-3"},tt=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Today's Sales Value",-1),st={class:"text-900 font-bold text-xl"},ot=e("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-green-500 text-xl"})],-1),lt={key:9,class:"col-12 lg:col-6 xl:col-3"},ct={class:"card mb-0"},it={class:"flex justify-content-between mb-3"},at=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Total Stock Value",-1),nt={class:"text-900 font-bold text-xl"},dt=e("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1),rt={key:10,class:"col-12 lg:col-6 xl:col-3"},_t={class:"card mb-0"},ht={class:"flex justify-content-between mb-3"},ut=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Today's Purchases",-1),bt={class:"text-900 font-bold text-xl"},xt=e("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1),mt={key:11,class:"col-12 lg:col-6 xl:col-3"},gt={class:"card mb-0"},pt={class:"flex justify-content-between mb-3"},vt=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Today's Markup Value",-1),ft={class:"text-900 font-bold text-xl"},yt=e("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1),kt={key:12,class:"col-12 lg:col-6 xl:col-3"},wt={class:"card mb-0"},St={class:"flex justify-content-between mb-3"},Pt=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Today's Markup Percentage",-1),jt={class:"text-900 font-bold text-xl"},Vt=e("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1),Ct={key:13,class:"col-12 lg:col-6 xl:col-3"},Dt={class:"card mb-0"},Tt={class:"flex justify-content-between mb-3"},Mt=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Total Income",-1),Nt={class:"text-900 font-bold text-xl"},Gt=e("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1),Et={key:14,class:"col-12 lg:col-6 xl:col-3"},Ft={class:"card mb-0"},zt={class:"flex justify-content-between mb-3"},Bt=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Today Income",-1),At={class:"text-900 font-bold text-xl"},It=e("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1),Rt={key:15,class:"col-12 lg:col-6 xl:col-3"},qt={class:"card mb-0"},Lt={class:"flex justify-content-between mb-3"},Jt=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Total Expenses",-1),Ot={class:"text-900 font-bold text-xl"},Ut=e("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1),Qt={key:16,class:"col-12 lg:col-6 xl:col-3"},Wt={class:"card mb-0"},Ht={class:"flex justify-content-between mb-3"},Kt=e("span",{class:"block text-500 font-bold text-xl mb-3"},"Today Expenses",-1),Xt={class:"text-900 font-bold text-xl"},Yt=e("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1),Zt={class:"grid"},$t={key:0,class:"col-12 xl:col-6"},es={class:"card"},ts=e("h5",null,"Member and collection growth ",-1),ss={key:1,class:"col-12 xl:col-6"},os={class:"card"},ls=e("h5",null,"Member and collection growth ",-1),cs={key:2,class:"col-12 xl:col-6"},is={class:"card"},as=e("h5",null,"Products and Sales growth ",-1),ns={key:3,class:"col-12 xl:col-6"},ds={class:"card"},rs=e("h5",null,"Products and Sales growth ",-1),_s={class:"grid"},hs={class:"col-12 xl:col-6"},us={class:"card"},bs=e("h5",null,"Best Selling Products",-1),xs={class:"col-12 xl:col-6"},ms={class:"card"},gs=e("h5",null,"Products About To Expire",-1),fs={__name:"Dashboard",setup(L){const t=new te,{isDarkTheme:J}=Y(),a=h(null);h(["Jan","Feb","Mar","Apr","May","Jun","Jly","Aug","Sep","Oct","Nov","Dec"]);const g=h({}),O=h(null);let p=x({}),v=x({});h([{label:"Add New",icon:"pi pi-fw pi-plus"},{label:"Remove",icon:"pi pi-fw pi-minus"}]);const _=h(null),U=new se,Q=()=>{t.genericRequest("get-dashboard-stats","get",!0,{}).then(n=>{n.status?(a.value=n.data.count[0],W(n.data),H(n.data),g.value=n.data):t.showError(toast,n.message)})},W=n=>{p=x({labels:t.getMonthsStartingFromCurrent(),datasets:[{label:"No. of Members ",data:t.organizeGraphData(n.membersGraph,"count"),fill:!1,backgroundColor:"rgba(98, 98, 98, 1)",borderColor:"#626262",tension:.4},{label:"No. of Collections",data:t.organizeGraphData(n.collectionGraph,"count"),fill:!1,backgroundColor:"rgba(127, 198, 34, 1)",borderColor:"#7FC622",tension:.4}]})},H=n=>{v=x({labels:t.getMonthsStartingFromCurrent(),datasets:[{label:"No. of Products ",data:t.organizeGraphData(n.productsGraph,"count"),fill:!1,backgroundColor:"rgba(98, 98, 98, 1)",borderColor:"#626262",tension:.4},{label:"No. of Sales",data:t.organizeGraphData(n.salesGraph,"count"),fill:!1,backgroundColor:"rgba(127, 198, 34, 1)",borderColor:"#7FC622",tension:.4}]})};Z(()=>{U.getProductsSmall().then(n=>O.value=n),Q()});const K=()=>{_.value={plugins:{legend:{labels:{color:"#495057"}}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{ticks:{color:"#495057"},grid:{color:"#ebedef"}}}}},X=()=>{_.value={plugins:{legend:{labels:{color:"#ebedef"}}},scales:{x:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}},y:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}}}}};return $(J,n=>{n?X():K()},{immediate:!0}),(n,ps)=>{var k,w,S,P,j,V,C,D,T,M,N,G,E,F,z,B,A,I,R;const b=f("Chart"),r=f("Column"),y=f("DataTable");return o(),l(ee,null,[e("div",oe,[s(t).checkPermissions("CanViewInstitution")?(o(),l("div",le,[e("div",ce,[e("div",ie,[e("div",null,[ae,e("div",ne,i(s(t).commaSeparator((k=a.value)==null?void 0:k.total_institutions)),1)]),de])])])):c("",!0),s(t).checkPermissions("CanViewInstitution")?(o(),l("div",re,[e("div",_e,[e("div",he,[e("div",null,[ue,e("div",be,i(s(t).commaSeparator((w=a.value)==null?void 0:w.total_branches)),1)]),xe])])])):c("",!0),s(t).checkPermissions("ViewUsers")?(o(),l("div",me,[e("div",ge,[e("div",pe,[e("div",null,[ve,e("div",fe,i(s(t).commaSeparator((S=a.value)==null?void 0:S.total_users)),1)]),ye])])])):c("",!0),s(t).checkPermissions("ViewMember")?(o(),l("div",ke,[e("div",we,[e("div",Se,[e("div",null,[Pe,e("div",je,i(s(t).commaSeparator((P=a.value)==null?void 0:P.total_customers)),1)]),Ve])])])):c("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",Ce,[e("div",De,[e("div",Te,[e("div",null,[Me,e("div",Ne,i(s(t).commaSeparator((j=a.value)==null?void 0:j.products)),1)]),Ge])])])):c("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",Ee,[e("div",Fe,[e("div",ze,[e("div",null,[Be,e("div",Ae,i(s(t).commaSeparator((V=a.value)==null?void 0:V.sales)),1)]),Ie])])])):c("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",Re,[e("div",qe,[e("div",Le,[e("div",null,[Je,e("div",Oe,i(s(t).commaSeparator((C=a.value)==null?void 0:C.product_sold)),1)]),Ue])])])):c("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",Qe,[e("div",We,[e("div",He,[e("div",null,[Ke,e("div",Xe,i(s(t).commaSeparator((D=a.value)==null?void 0:D.total_sales_value)),1)]),Ye])])])):c("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",Ze,[e("div",$e,[e("div",et,[e("div",null,[tt,e("div",st,i(s(t).commaSeparator((T=a.value)==null?void 0:T.today_sales_value)),1)]),ot])])])):c("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",lt,[e("div",ct,[e("div",it,[e("div",null,[at,e("div",nt,i(s(t).commaSeparator((M=a.value)==null?void 0:M.total_stock_value)),1)]),dt])])])):c("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",rt,[e("div",_t,[e("div",ht,[e("div",null,[ut,e("div",bt,i(s(t).commaSeparator((N=a.value)==null?void 0:N.today_stock_value)),1)]),xt])])])):c("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",mt,[e("div",gt,[e("div",pt,[e("div",null,[vt,e("div",ft,i(s(t).commaSeparator((G=a.value)==null?void 0:G.today_mark_up)),1)]),yt])])])):c("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",kt,[e("div",wt,[e("div",St,[e("div",null,[Pt,e("div",jt,i(s(t).commaSeparator((E=a.value)==null?void 0:E.today_mark_up_percentage))+" %",1)]),Vt])])])):c("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",Ct,[e("div",Dt,[e("div",Tt,[e("div",null,[Mt,e("div",Nt,i(s(t).commaSeparator((F=a.value)==null?void 0:F.total_income)),1)]),Gt])])])):c("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",Et,[e("div",Ft,[e("div",zt,[e("div",null,[Bt,e("div",At,i(s(t).commaSeparator((z=a.value)==null?void 0:z.today_income)),1)]),It])])])):c("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",Rt,[e("div",qt,[e("div",Lt,[e("div",null,[Jt,e("div",Ot,i(s(t).commaSeparator((B=a.value)==null?void 0:B.total_expenses)),1)]),Ut])])])):c("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",Qt,[e("div",Wt,[e("div",Ht,[e("div",null,[Kt,e("div",Xt,i(s(t).commaSeparator((A=a.value)==null?void 0:A.today_expenses)),1)]),Yt])])])):c("",!0)]),e("div",Zt,[s(t).checkPermissions("ViewMember")?(o(),l("div",$t,[e("div",es,[ts,d(b,{type:"bar",data:s(p),options:_.value},null,8,["data","options"])])])):c("",!0),s(t).checkPermissions("ViewCollection")?(o(),l("div",ss,[e("div",os,[ls,d(b,{type:"line",data:s(p),options:_.value},null,8,["data","options"])])])):c("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",cs,[e("div",is,[as,d(b,{type:"bar",data:s(v),options:_.value},null,8,["data","options"])])])):c("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",ns,[e("div",ds,[rs,d(b,{type:"line",data:s(v),options:_.value},null,8,["data","options"])])])):c("",!0)]),e("div",_s,[e("div",hs,[e("div",us,[bs,d(y,{value:(I=g.value)==null?void 0:I.bestSellingProduct,stripedRows:"",rows:10,paginator:!0,responsiveLayout:"scroll"},{default:m(()=>[d(r,{field:"name",header:"Name",sortable:!0,style:{width:"35%"}}),d(r,{field:"quantity",header:"Quantity",sortable:!0,style:{width:"35%"}}),d(r,{field:"price",header:"Price",sortable:!0,style:{width:"35%"}},{body:m(u=>[q(i(s(t).commaSeparator(u.data.selling_price)),1)]),_:1}),d(r,{field:"",header:"MarkUp",sortable:!0,style:{width:"40%"}},{body:m(u=>[q(i(s(t).commaSeparator(u.data.quantity*(u.data.selling_price-u.data.purchase_price))),1)]),_:1})]),_:1},8,["value"])])]),e("div",xs,[e("div",ms,[gs,d(y,{value:(R=g.value)==null?void 0:R.productAboutToExpire,stripedRows:"",rows:10,paginator:!0,responsiveLayout:"scroll"},{default:m(()=>[d(r,{field:"name",header:"Name",sortable:!0,style:{width:"35%"}}),d(r,{field:"quantity",header:"Stock",sortable:!0,style:{width:"20%"}}),d(r,{field:"days_difference",header:"Days Remaining",sortable:!0,style:{width:"35%"}}),d(r,{field:"expiry_date",header:"Expiry",sortable:!0,style:{width:"35%"}})]),_:1},8,["value"])])])])],64)}}};export{fs as default};
