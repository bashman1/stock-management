import{k as _,l as v,r,b as d,c as h,d as b,e as o,h as c,C as w}from"./index-066f2b3f.js";const g={class:"card"},k={class:"grid p-fluid mt-3"},B={class:"field col-12 md:col-12"},x={class:"field col-12 md:col-4"},y={__name:"BulkUploadMembers",setup(C){const n=_(),t=new w,i=v(),l=r(null);r(null);const u=s=>{l.value=s.target.files[0]},m=async()=>{if(!l.value)return;const s=new FormData;s.append("file",l.value),s.append("name",l.value.name);try{const e=await fetch(t.baseUrl+"upload-members",{method:"POST",body:s,headers:{Authorization:`Bearer ${t.getStorage().token}`}});if(!e.ok)throw new Error("Upload failed");const a=await e.json();t.showSuccess(n,a.message),i.push("/view-uploaded-members")}catch(e){console.error(e.message),t.showError(n,e.message)}};return(s,e)=>{const a=d("Toast"),p=d("Button");return h(),b("div",g,[e[2]||(e[2]=o("h5",null,"Bulk Upload",-1)),e[3]||(e[3]=o("a",{href:"demo/documents/upload_bulk_members.xlsx"},[o("i",{class:"pi pi-cloud-download",style:{"font-size":"2rem"}}),o("p",null,"Download template")],-1)),o("div",k,[c(a),o("div",B,[o("input",{type:"file",accept:".xlsx, .xls",onChange:e[0]||(e[0]=f=>u(f))},null,32)]),e[1]||(e[1]=o("div",{class:"field col-12 md:col-8"},null,-1)),o("div",x,[c(p,{onClick:m,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])}}};export{y as default};
