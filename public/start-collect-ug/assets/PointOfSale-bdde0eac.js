import{k as we,l as Ce,r as d,x as Ie,o as ke,b as T,c as x,d as V,e as t,h as a,t as p,f as c,i as g,g as _,y as Te,v as A,j as w,n as Ne,F as Ve,s as Se,C as De}from"./index-698191a2.js";const Ue={class:"grid p-fluid"},Ee={class:"field col-12 md:col-3"},qe={class:"p-float-label"},Ae={class:"field col-12 md:col-3"},Oe={class:"p-inputgroup"},Pe={class:"p-float-label"},$e={class:"field col-12 md:col-3"},Re={class:"p-float-label"},Me={class:"field col-12 md:col-3"},Le={class:"p-float-label"},Be={class:"col-12 md:col-3"},Fe={class:"font-bold text-right text-6xl green-color"},ze={class:"col-12 md:col-12"},je={class:"card"},Qe=["onClick"],He=["onClick"],Xe={class:"col-12 md:col-2"},Ge={class:"col-12 md:col-2"},Ke={class:"col-12 md:col-12"},Ye={key:0,class:"card"},We={class:"grid"},Je={class:"field col-12 md:col-12"},Ze={class:"col-12 md:col-3"},et={class:"font-bold text-right text-xl green-color"},tt={class:"col-12 md:col-3"},lt={class:"p-float-label"},ot={class:"col-12 md:col-3"},nt={key:0,class:"font-bold text-left text-xl green-color"},it={class:"col-12 md:col-3"},st={style:{"padding-top":"20px"}},dt={class:"grid p-fluid"},at={class:"field col-12 md:col-6"},rt={class:"p-float-label"},ut={class:"field col-12 md:col-6"},pt={class:"p-float-label"},mt={class:"field col-12 md:col-6"},ct={class:"p-float-label"},gt={class:"field col-12 md:col-6"},vt={class:"p-float-label"},xt={class:"field col-12 md:col-12"},ft={class:"p-float-label"},yt={lang:"en"},bt={style:{"background-color":"#fff"}},ht={style:{"max-width":"750px","font-family":"monospace",margin:"20px auto",padding:"30px",border:"1px solid #ddd","box-shadow":"0 2px 8px rgba(0, 0, 0, 0.1)",background:"#fff"}},_t={style:{display:"flex","justify-content":"space-between"}},wt={style:{color:"#666"}},Ct={style:{"text-align":"right"}},It={style:{color:"#666"}},kt={style:{color:"#666"}},Tt={style:{"margin-top":"20px"}},Nt={style:{display:"flex","justify-content":"space-between"}},Vt={style:{color:"#666"}},St={style:{color:"#666"}},Dt={style:{width:"100%","border-collapse":"collapse","margin-top":"10px"}},Ut={style:{border:"1px solid #ddd",padding:"8px",color:"#666"}},Et={style:{border:"1px solid #ddd",padding:"8px",color:"#666"}},qt={style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"#666"}},At={style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"#666"}},Ot={style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"#666"}},Pt={style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"#666"}},$t={style:{border:"1px solid #ddd",padding:"8px","text-align":"right","font-weight":"bold",color:"#666"}},Bt={__name:"PointOfSale",setup(Rt){const C=we(),i=new De,te=Ce(),Q=d(null),s=d([{id:null,price:null,quantity:null,discount:null,name:"",tax_config:null}]),I=d(0),f=d(0);d(0);const le=d({}),E=d({}),k=d(0),H=d(0),X=d(0),B=d(!1),O=d({}),S=d(null),P=d(null),$=d(null),R=d(null),M=d(null),G=d([]),F=d(!1);d({});const N=d([{id:1,name:"18%",amount:0,total:0},{id:2,name:"Exempted",amount:0,total:0}]),oe=()=>{i.genericRequest("get-products","get",!0,{}).then(l=>{l.status?Q.value=l.data:i.showError(C,l.message)})},ne=l=>{var u;let e={id:l.id,price:Number(l.selling_price),quantity:1,discount:0,name:l.name,tax_config:l.tax_config,units:[{id:1,ind:"Primary",name:l.unit,weight:1,price:Number(l.selling_price),unit_id:l==null?void 0:l.measurement_unit_id}],selected:{id:1,ind:"Primary",name:l.unit,weight:1,price:Number(l.selling_price),unit_id:l==null?void 0:l.measurement_unit_id}};l.secondary_unit&&e.units.push({id:2,ind:"Secondary",name:l.secondary_unit,weight:Number(l==null?void 0:l.secondary_weight),price:Number(l==null?void 0:l.secondary_price),unit_id:l==null?void 0:l.secondary_measurement_unit_id});const n=s.value.find(m=>m.id===e.id);if(n)n.quantity+=e.quantity;else{let m=s.value.length-1;s.value.splice(m,0,e)}(u=E==null?void 0:E.value)!=null&&u.is_tax_enabled&&L()},ie=l=>{const e=s.value.findIndex(n=>n.id===l.id);e!==-1&&s.value.splice(e,1)},se=(l,e)=>{s.value=s.value.map(n=>n.id===e.id?{...n,quantity:Number(l.target.value)}:n)},de=(l,e)=>{s.value=s.value.map(n=>n.id===e.id?{...n,price:Number(l.target.value)}:n),L()},K=(l,e)=>{s.value=s.value.map(n=>{if(n.id===l.id){if(e=="Add")return{...n,quantity:Number(n.quantity+1)};if(n.quantity>0)return{...n,quantity:Number(n.quantity-1)}}return n}),L()},b=l=>{let e=0;return l.length>0&&l.forEach(n=>{e+=n.quantity*n.price}),e},ae=()=>{var e;s.value=s==null?void 0:s.value.filter(n=>n.id!=null);let l={total:b(s==null?void 0:s.value)-Number(f==null?void 0:f.value)+Number(k.value),discount:Number(f==null?void 0:f.value),amountPaid:Number(I==null?void 0:I.value),itemCount:s==null?void 0:s.value.length,tranDate:j.value,items:s==null?void 0:s.value,status:"Active",vat:Number(k.value),vatInc:H.value,vatEx:X.value,payment_method:q==null?void 0:q.value.value,address:D.value,customer_id:(e=h==null?void 0:h.value)==null?void 0:e.id};i.genericRequest("create-order","post",!0,l).then(n=>{n.status?(i.showSuccess(C,n.message),i.redirect(te,"/view-sales")):i.showError(C,n.message)})},re=()=>{i.genericRequest("get-institution-details","get",!0,{}).then(l=>{l.status?E.value=l.data:i.showError(C,l.message)})},ue=()=>{le.value={global:{value:null,matchMode:Te.CONTAINS}}},L=()=>{let l=0,e=0,n=0;s.value.forEach(y=>{const v=y.quantity*y.price;switch(y.tax_config){case"TAX_EXCLUSIVE":l+=v;break;case"TAX_INCLUSIVE":e+=v;break;case"TAX_EXEMPTED":n+=v;break}});const u=.18*l,m=.18*e;X.value=u,H.value=m,k.value=u,N.value=N.value.map(y=>y.id===1?{...y,total:u+m,amount:l+(e-m)}:y.id===2?{...y,total:0,amount:n}:y)},z=l=>{B.value=l},Y=l=>{F.value=l},pe=(l,e)=>{O.value[e]=i.validateFormField(l)},me=()=>{if(O.value.customerName=i.validateFormField(S.value),i.validateRequiredFields(O.value)){i.showError(C,"Please fill in the missing field");return}let e={name:S.value,address:$.value,email:P.value,phone_number:R.value,description:M.value,status:"Active"};i.genericRequest("create-customer","post",!0,e).then(n=>{n.status?(i.showSuccess(C,n.message),W(),z(!1),S.value=null,$.value=null,P.value=null,R.value=null,M.value=null):i.showError(C,n.message)})},W=()=>{i.genericRequest("get-customers","post",!0,{}).then(l=>{l.status?G.value=l.data:i.showError(C,l.message)})},ce=l=>{l.value.address&&(D.value=l.value.address)},ge=(l,e)=>{s.value=s.value.map(n=>n.id===e.id?{...n,price:Number(l.value.price)}:n),L()},ve=d([]),q=d({id:1,name:"Cash",value:"CASH"}),D=d(null),h=d(null),j=d(new Date);d(0),d(0);const xe=d([{id:1,name:"Cash",value:"CASH"},{id:2,name:"Bank",value:"BANK"},{id:3,name:"Credit",value:"CREDIT"}]),fe=()=>[{id:null,name:"",description:"",quantity:null,rate:null,amount:null,uuid:i.generateUUID()},{id:null,name:"",description:"",quantity:null,rate:null,amount:null,uuid:i.generateUUID()},{id:null,name:"",description:"",quantity:null,rate:null,amount:null,uuid:i.generateUUID()},{id:null,name:"",description:"",quantity:null,rate:null,amount:null,uuid:i.generateUUID()},{id:null,name:"",description:"",quantity:null,rate:null,amount:null,uuid:i.generateUUID()}];d([{field:"name",header:"Product/Services"},{field:"description",header:"Description"},{field:"quantity",header:"Quantity"},{field:"rate",header:"Rate"},{field:"amount",header:"Amount"},{field:"tax",header:"Tax"}]);const ye=()=>{s.value=[{id:null,price:null,quantity:null,discount:null,name:"",tax_config:null}]},be=()=>{Y(!1),he()},he=()=>{var n;const l=window.open("","","width=600,height=600");l.document.open();let e="";s.value.forEach(u=>{e+=`
      <tr>
        <td style='border: 1px solid #ddd; padding: 8px; color: #666;'>${u.quantity}</td>
        <td style='border: 1px solid #ddd; padding: 8px; color: #666;'>${u.name}</td>
        <td style='border: 1px solid #ddd; padding: 8px; text-align: right; color: #666;'>${i.commaSeparator(u.price)}</td>
        <td style='border: 1px solid #ddd; padding: 8px; text-align: right; color: #666;'>${i.commaSeparator(u.price*u.quantity)}</td>
      </tr>`}),l.document.write(`<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <title>Invoice</title>
</head>
<body style="background-color: #fff;">
  <div style='max-width: 750px; font-family: monospace; margin: 20px auto; padding: 30px; border: 1px solid #ddd; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); background: #fff'>
    <header style='display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;'>
      <h1 style='color: #002060; margin: 0;'>INVOICE</h1>
      <div style='width: 80px; height: 80px; background: #ccc; border-radius: 50%; text-align: center; line-height: 80px; font-size: 20px; font-weight: bold;'>LOGO</div>
    </header>

    <section>
      <div style='display: flex; justify-content: space-between;'>
        <div>
          <p style="color: #666;"><strong>Company Name:</strong> ${(n=i.getStorage())==null?void 0:n.institution_name}</p>
        </div>
        <div style='text-align: right;'>
          <p style="color: #666;"><strong>Invoice #:</strong> ${i.generateRandomFiveId()}</p>
          <p style="color: #666;"><strong>Date:</strong> ${i.formatDate(i.getCurrentTimestamp())}</p>
          <p style="color: #666;"><strong>Due Date:</strong> 26/02/2019</p>
        </div>
      </div>
    </section>

    <section style='margin-top: 20px;'>
      <div style='display: flex; justify-content: space-between;'>
        <div>
          <div style='background: #002060; padding: 5px 10px; font-weight: bold;'>BILL TO</div>
          <p style="color: #666;">${h==null?void 0:h.name}</p>
        </div>
        <div>
          <div style='background: #002060; padding: 5px 10px; font-weight: bold;'>SHIP TO</div>
          <p style="color: #666;">${D}</p>
        </div>
      </div>
    </section>

    <table style='width: 100%; border-collapse: collapse; margin-top: 10px;'>
      <thead>
        <tr>
          <th style='border: 1px solid #ddd; padding: 8px; text-align: left; background-color: #002060; color: #fff;'>QTY</th>
          <th style='border: 1px solid #ddd; padding: 8px; text-align: left; background-color: #002060; color: #fff;'>DESCRIPTION</th>
          <th style='border: 1px solid #ddd; padding: 8px; text-align: right; background-color: #002060; color: #fff;'>UNIT PRICE</th>
          <th style='border: 1px solid #ddd; padding: 8px; text-align: right; background-color: #002060; color: #fff;'>AMOUNT</th>
        </tr>
      </thead>
      <tbody>
        ${e}
      </tbody>
      <tfoot>
        <tr>
          <td colspan='3' style='border: 1px solid #ddd; padding: 8px; text-align: right; color: #666;'>Taxable</td>
          <td style='border: 1px solid #ddd; padding: 8px; text-align: right; color: #666;'>${i.commaSeparator(N.value[0].amount)}</td>
        </tr>
        <tr>
          <td colspan='3' style='border: 1px solid #ddd; padding: 8px; text-align: right; color: #666;'>VAT 18%</td>
          <td style='border: 1px solid #ddd; padding: 8px; text-align: right; color: #666;'>${i.commaSeparator(N.value[0].total)}</td>
        </tr>
        <tr>
          <td colspan='3' style='border: 1px solid #ddd; padding: 8px; text-align: right; font-weight: bold; color: #666;'>Total</td>
          <td style='border: 1px solid #ddd; padding: 8px; text-align: right; font-weight: bold; color: #666;'>${b(s)?i.commaSeparator(b(s.value)-Number(f.value)+Number(k.value)):0}</td>
        </tr>
      </tfoot>
    </table>

    <div style='margin-top: 20px; border: 1px solid #ddd; padding: 10px; background: #f2f2f2;'>
      <p style="color: #666;"><strong>Other Comments:</strong></p>
      <p style="color: #666;">1. Total payment due in 30 days.</p>
      <p style="color: #666;">2. Please include the invoice number on your check.</p>
    </div>

    <div style='text-align: center; margin-top: 30px;'>
      <p style='font-size: 0.9em; color: #666;'>Thank you for your business!</p>
      <p style='font-size: 0.9em; color: #666;'>Payment is due within 15 days.</p>
    </div>
  </div>
</body>
</html>`),l.document.close(),l.print(),l.close()};return Ie(()=>{ue()}),ke(()=>{oe(),re(),W(),ve.value=fe()}),(l,e)=>{var ee;const n=T("Dropdown"),u=T("Button"),m=T("InputText"),y=T("Calendar"),v=T("Column"),J=T("DataTable"),_e=T("Textarea"),Z=T("Dialog");return x(),V("div",Ue,[t("div",Ee,[t("span",qe,[a(n,{id:"paymentMethod",options:xe.value,filter:"",modelValue:q.value,"onUpdate:modelValue":e[0]||(e[0]=o=>q.value=o),optionLabel:"name"},null,8,["options","modelValue"]),e[17]||(e[17]=t("label",{for:"paymentMethod"},"Payment methods",-1))])]),t("div",Ae,[t("div",Oe,[t("span",Pe,[a(n,{id:"customer",onChange:ce,options:G.value,filter:"",modelValue:h.value,"onUpdate:modelValue":e[1]||(e[1]=o=>h.value=o),optionLabel:"name"},null,8,["options","modelValue"]),e[18]||(e[18]=t("label",{for:"Customer"},"Select customer",-1))]),a(u,{onClick:e[2]||(e[2]=o=>z(!0)),icon:"pi pi-plus"})])]),t("div",$e,[t("span",Re,[a(m,{type:"text",id:"productId",modelValue:D.value,"onUpdate:modelValue":e[3]||(e[3]=o=>D.value=o)},null,8,["modelValue"]),e[19]||(e[19]=t("label",{for:"productId"},"Billing address",-1))])]),t("div",Me,[t("span",Le,[a(y,{id:"date",modelValue:j.value,"onUpdate:modelValue":e[4]||(e[4]=o=>j.value=o)},null,8,["modelValue"]),e[20]||(e[20]=t("label",{for:"date"},"Sales Date",-1))])]),e[43]||(e[43]=t("div",{class:"col-12 md:col-3"},null,-1)),e[44]||(e[44]=t("div",{class:"col-12 md:col-3"},null,-1)),e[45]||(e[45]=t("div",{class:"col-12 md:col-3"},null,-1)),t("div",Be,[t("p",Fe,"Total: "+p(b(s.value)?c(i).commaSeparator(b(s.value)-Number(f.value)+Number(k.value)):0),1)]),t("div",ze,[t("div",je,[a(J,{value:s.value,size:"small",stripedRows:"",rows:20,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:g(()=>[a(v,{field:"name",header:"Name",style:{"max-width":"10rem"}},{body:g(({data:o})=>[o.id?_("",!0):(x(),A(n,{key:0,id:"subCategory",change:"",options:Q.value,filter:"",optionLabel:"name",onChange:e[5]||(e[5]=r=>ne(r.value))},null,8,["options"])),w(" "+p(o.name),1)]),_:1}),a(v,{field:"quantity",header:"Qty",style:{"max-width":"8rem"}},{body:g(({data:o})=>[o.id?(x(),V("i",{key:0,class:"pi pi-minus",onClick:r=>K(o,"Subtract"),style:{"font-size":"1rem","margin-left":"3px",cursor:"pointer"}},null,8,Qe)):_("",!0),o.id?(x(),A(m,{key:1,type:"text",onChange:r=>se(r,o),value:o.quantity,style:{width:"100px",padding:"5px","margin-left":"1px","margin-right":"1px","text-align":"center"},placeholder:"Qty"},null,8,["onChange","value"])):_("",!0),o.id?(x(),V("i",{key:2,class:"pi pi-plus",onClick:r=>K(o,"Add"),style:{"font-size":"1rem","margin-right":"3px",cursor:"pointer"}},null,8,He)):_("",!0)]),_:1}),a(v,{field:"unit",header:"Unit",style:{"max-width":"8rem"}},{body:g(({data:o})=>[o.id?(x(),A(n,{key:0,id:"type",onChange:r=>ge(r,o),filter:"",options:o.units,modelValue:o.selected,"onUpdate:modelValue":r=>o.selected=r,optionLabel:"name",style:{width:"80%","margin-left":"1px","margin-right":"1px"}},null,8,["onChange","options","modelValue","onUpdate:modelValue"])):_("",!0)]),_:1}),a(v,{field:"price",header:"Price",style:{"max-width":"8rem"}},{body:g(({data:o})=>[o.id?(x(),A(m,{key:0,type:"text",onChange:r=>de(r,o),value:o.price,style:{width:"80%",padding:"5px","margin-left":"1px","margin-right":"1px","text-align":"center"},placeholder:"Qty"},null,8,["onChange","value"])):_("",!0)]),_:1}),a(v,{field:"subtotal",header:"Amount",style:{"max-width":"8rem"}},{body:g(({data:o})=>[w(p(o.id?c(i).commaSeparator(o.quantity*o.price):""),1)]),_:1}),a(v,{headerStyle:"width:6rem;"},{body:g(({data:o})=>[o.id?(x(),A(u,{key:0,icon:"pi pi-trash",class:"p-button-rounded p-button-danger mr-2",onClick:r=>ie(o)},null,8,["onClick"])):_("",!0)]),_:1})]),_:1},8,["value"])])]),t("div",Xe,[a(u,{label:"Clear",onClick:ye,icon:"pi pi-minus",iconPos:"left",class:"p-button-danger mr-2 mb-2"})]),t("div",Ge,[a(u,{label:"Generate Invoice",onClick:e[6]||(e[6]=o=>Y(!0)),icon:"pi pi-file",iconPos:"left",class:"p-button-info mr-2 mb-2"})]),t("div",Ke,[(ee=E.value)!=null&&ee.is_tax_enabled&&s.value.length>0?(x(),V("div",Ye,[e[21]||(e[21]=t("h5",null,"V.A.T 18%",-1)),e[22]||(e[22]=t("br",null,null,-1)),t("div",We,[t("div",Je,[a(J,{value:N.value,size:"small",rows:20,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:g(()=>[a(v,{field:"name",header:"18%",style:{"max-width":"10rem"}},{body:g(({data:o})=>[w(p(o.name),1)]),_:1}),a(v,{field:"price",header:"Amount",style:{"max-width":"10rem"}},{body:g(({data:o})=>[w(p(c(i).commaSeparator(o.amount)),1)]),_:1}),a(v,{field:"subtotal",header:"V.A.T",style:{"max-width":"10rem"}},{body:g(({data:o})=>[w(p(c(i).commaSeparator(o.total)),1)]),_:1})]),_:1},8,["value"])])])])):_("",!0)]),e[46]||(e[46]=t("div",{class:"col-12 md:col-4"},null,-1)),e[47]||(e[47]=t("div",{class:"col-12 md:col-3"},null,-1)),t("div",Ze,[t("p",et,"Total: "+p(b(s.value)?c(i).commaSeparator(b(s.value)-Number(f.value)+Number(k.value)):0),1)]),e[48]||(e[48]=t("div",{class:"col-12 md:col-3"},null,-1)),t("div",tt,[t("span",lt,[a(m,{type:"text",id:"discount",modelValue:I.value,"onUpdate:modelValue":e[7]||(e[7]=o=>I.value=o)},null,8,["modelValue"]),e[23]||(e[23]=t("label",{for:"productId"},"Amount",-1))])]),t("div",ot,[I.value&&I.value>0?(x(),V("p",nt,"Change: "+p(c(i).commaSeparator(Number(I.value)+Number(f.value)-(b(s.value)+Number(k.value)))),1)):_("",!0)]),t("div",it,[a(u,{onClick:ae,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})]),a(Z,{header:"Create new customer",visible:B.value,"onUpdate:visible":e[15]||(e[15]=o=>B.value=o),style:{width:"75vw"},modal:!0,class:"p-fluid"},{footer:g(()=>[a(u,{label:"Cancel",onClick:e[14]||(e[14]=o=>z(!1)),icon:"pi pi-times",class:"p-button-outlined p-button-danger mr-2 mb-2"}),a(u,{onClick:me,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})]),default:g(()=>{var o;return[t("p",st,[t("div",dt,[t("div",at,[t("span",rt,[a(m,{type:"text",id:"customerName",onBlur:e[8]||(e[8]=r=>pe(S.value,"customerName")),modelValue:S.value,"onUpdate:modelValue":e[9]||(e[9]=r=>S.value=r),class:Ne({"p-invalid":(o=O.value)==null?void 0:o.customerName})},null,8,["modelValue","class"]),e[24]||(e[24]=t("label",{for:"supplierName"},"Name",-1))])]),t("div",ut,[t("span",pt,[a(m,{type:"text",id:"supplierEmail",modelValue:P.value,"onUpdate:modelValue":e[10]||(e[10]=r=>P.value=r)},null,8,["modelValue"]),e[25]||(e[25]=t("label",{for:"supplierEmail"},"Email",-1))])]),t("div",mt,[t("span",ct,[a(m,{type:"text",id:"supplierAddress",modelValue:$.value,"onUpdate:modelValue":e[11]||(e[11]=r=>$.value=r)},null,8,["modelValue"]),e[26]||(e[26]=t("label",{for:"supplierAddress"},"Address",-1))])]),t("div",gt,[t("span",vt,[a(m,{type:"text",id:"supplierContact",modelValue:R.value,"onUpdate:modelValue":e[12]||(e[12]=r=>R.value=r)},null,8,["modelValue"]),e[27]||(e[27]=t("label",{for:"supplierContact"},"Phone Number",-1))])]),t("div",xt,[t("span",ft,[a(_e,{inputId:"supplierDesc",rows:"7",modelValue:M.value,"onUpdate:modelValue":e[13]||(e[13]=r=>M.value=r)},null,8,["modelValue"]),e[28]||(e[28]=t("label",{for:"supplierDesc"},"More Info",-1))])])])])]}),_:1},8,["visible"]),a(Z,{header:"Generate Invoice",visible:F.value,"onUpdate:visible":e[16]||(e[16]=o=>F.value=o),style:{width:"75vw"},modal:!0,class:"p-fluid"},{footer:g(()=>[a(u,{label:"print",onClick:be,icon:"pi pi-print",class:"p-button-outlined"})]),default:g(()=>{var o,r;return[t("html",yt,[e[42]||(e[42]=t("head",null,[t("meta",{charset:"UTF-8"}),t("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),t("title",null,"Invoice")],-1)),t("body",bt,[t("div",ht,[e[39]||(e[39]=t("header",{style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"20px"}},[t("h1",{style:{color:"#002060",margin:"0"}},"INVOICE"),t("div",{style:{width:"80px",height:"80px",background:"#ccc","border-radius":"50%","text-align":"center","line-height":"80px","font-size":"20px","font-weight":"bold"}},"LOGO")],-1)),t("section",null,[t("div",_t,[t("div",null,[t("p",wt,[e[29]||(e[29]=t("strong",null,"Company Name:",-1)),w(" "+p((o=c(i).getStorage())==null?void 0:o.institution_name),1)])]),t("div",Ct,[t("p",It,[e[30]||(e[30]=t("strong",null,"Invoice #:",-1)),w(" "+p(c(i).generateRandomFiveId()),1)]),t("p",kt,[e[31]||(e[31]=t("strong",null,"Date:",-1)),w(" "+p(c(i).formatDate(c(i).getCurrentTimestamp())),1)]),e[32]||(e[32]=t("p",{style:{color:"#666"}},[t("strong",null,"Due Date:"),w(" 26/02/2019")],-1))])])]),t("section",Tt,[t("div",Nt,[t("div",null,[e[33]||(e[33]=t("div",{style:{background:"#002060",padding:"5px 10px","font-weight":"bold"}},"BILL TO",-1)),t("p",Vt,p((r=h.value)==null?void 0:r.name),1)]),t("div",null,[e[34]||(e[34]=t("div",{style:{background:"#002060",padding:"5px 10px","font-weight":"bold"}},"SHIP TO",-1)),t("p",St,p(D.value),1)])])]),t("table",Dt,[e[38]||(e[38]=t("thead",null,[t("tr",null,[t("th",{style:{border:"1px solid #ddd",padding:"8px","text-align":"left","background-color":"#002060",color:"#fff"}},"QTY"),t("th",{style:{border:"1px solid #ddd",padding:"8px","text-align":"left","background-color":"#002060",color:"#fff"}},"DESCRIPTION"),t("th",{style:{border:"1px solid #ddd",padding:"8px","text-align":"right","background-color":"#002060",color:"#fff"}},"UNIT PRICE"),t("th",{style:{border:"1px solid #ddd",padding:"8px","text-align":"right","background-color":"#002060",color:"#fff"}},"AMOUNT")])],-1)),t("tbody",null,[(x(!0),V(Ve,null,Se(s.value,(U,Mt)=>(x(),V("tr",{key:U.id},[t("td",Ut,p(U.quantity),1),t("td",Et,p(U.name),1),t("td",qt,p(c(i).commaSeparator(U.price)),1),t("td",At,p(c(i).commaSeparator(U.price*U.quantity)),1)]))),128))]),t("tfoot",null,[t("tr",null,[e[35]||(e[35]=t("td",{colspan:"3",style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"#666"}},"Taxable",-1)),t("td",Ot,p(c(i).commaSeparator(N.value[0].amount)),1)]),t("tr",null,[e[36]||(e[36]=t("td",{colspan:"3",style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"#666"}},"VAT 18%",-1)),t("td",Pt,p(c(i).commaSeparator(N.value[0].total)),1)]),t("tr",null,[e[37]||(e[37]=t("td",{colspan:"3",style:{border:"1px solid #ddd",padding:"8px","text-align":"right","font-weight":"bold",color:"#666"}},"Total",-1)),t("td",$t,p(b(s.value)?c(i).commaSeparator(b(s.value)-Number(f.value)+Number(k.value)):0),1)])])]),e[40]||(e[40]=t("div",{style:{"margin-top":"20px",border:"1px solid #ddd",padding:"10px",background:"#f2f2f2"}},[t("p",{style:{color:"#666"}},[t("strong",null,"Other Comments:")]),t("p",{style:{color:"#666"}},"1. Total payment due in 30 days."),t("p",{style:{color:"#666"}},"2. Please include the invoice number on your check.")],-1)),e[41]||(e[41]=t("div",{style:{"text-align":"center","margin-top":"30px"}},[t("p",{style:{"font-size":"0.9em",color:"#666"}},"Thank you for your business!"),t("p",{style:{"font-size":"0.9em",color:"#666"}},"Payment is due within 15 days.")],-1))])])])]}),_:1},8,["visible"])])}}};export{Bt as default};
