import{k as D,l as k,m as q,r as n,o as E,b as m,c as $,d as A,e,h as a,n as B,C as L}from"./index-9017d927.js";const M={class:"card"},P={class:"grid p-fluid mt-3"},z={class:"field col-12 md:col-4"},O={class:"p-float-label"},j={class:"field col-12 md:col-4"},G={class:"p-float-label"},H={class:"field col-12 md:col-4"},J={class:"p-float-label"},K={class:"field col-12 md:col-12"},Q={class:"p-float-label"},W={class:"field col-12 md:col-4"},X={class:"p-float-label"},Y={class:"field col-12 md:col-4"},Z={class:"p-float-label"},h={class:"field col-12 md:col-12"},ll={class:"p-float-label"},el={class:"field col-12 md:col-4"},sl={__name:"CreateBranch",setup(tl){const b=D(),o=new L;k(),q();const C=n(null),i=n({}),r=n(null),v=n(null),_=n(null),V=n(null),p=n(null),x=n(null),y=n(null),c=n(null),F=()=>{o.genericRequest("get-institutions","get",!0,{}).then(s=>{s.status&&(C.value=s.data)})},I=()=>{o.genericRequest("get-city-county-id/1","get",!0,{}).then(s=>{s.status&&(y.value=s.data)})},g=(s,l)=>{i.value[l]=o.validateFormField(s)},R=()=>{var f,u;if(i.value.name=o.validateFormField(r.value),i.value.institution=o.validateFormField(v.value),o.validateRequiredFields(i.value)){o.showError(b,"Please fill in the missing field");return}let l={name:r.value,institution_id:(f=v.value)==null?void 0:f.id,city_id:(u=_.value)==null?void 0:u.id,address:V.value,p_o_box:p.value,description:x.value,street:c.value,status:"Active",is_main:!1};o.genericRequest("create-branch","post",!0,l).then(d=>{d.status?o.showSuccess(b,d.message):o.showError(b,d.message)})};return E(()=>{F(),I()}),(s,l)=>{var w,T,U;const f=m("Toast"),u=m("InputText"),d=m("Dropdown"),N=m("Textarea"),S=m("Button");return $(),A("div",null,[e("div",M,[l[18]||(l[18]=e("h5",null,"Create Branch",-1)),e("div",P,[a(f),e("div",z,[e("span",O,[a(u,{type:"text",id:"instName",modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=t=>r.value=t),onBlur:l[1]||(l[1]=t=>g(r.value,"name")),class:B({"p-invalid":(w=i.value)==null?void 0:w.name})},null,8,["modelValue","class"]),l[10]||(l[10]=e("label",{for:"instName"},"Branch Name",-1))])]),e("div",j,[e("span",G,[a(d,{id:"institution",onChange:s.onInstitutionChange,options:C.value,modelValue:v.value,"onUpdate:modelValue":l[2]||(l[2]=t=>v.value=t),optionLabel:"name"},null,8,["onChange","options","modelValue"]),l[11]||(l[11]=e("label",{for:"institution"},"Institution",-1))])]),e("div",H,[e("span",J,[a(d,{id:"instCity",options:y.value,modelValue:_.value,"onUpdate:modelValue":l[3]||(l[3]=t=>_.value=t),optionLabel:"name"},null,8,["options","modelValue"]),l[12]||(l[12]=e("label",{for:"instCity"},"City",-1))])]),e("div",K,[e("span",Q,[a(N,{id:"textarea",rows:"3",cols:"30",modelValue:V.value,"onUpdate:modelValue":l[4]||(l[4]=t=>V.value=t)},null,8,["modelValue"]),l[13]||(l[13]=e("label",{for:"textarea"},"Address",-1))])]),e("div",W,[e("span",X,[a(u,{type:"text",id:"instName",modelValue:c.value,"onUpdate:modelValue":l[5]||(l[5]=t=>c.value=t),onBlur:l[6]||(l[6]=t=>g(c.value,"street")),class:B({"p-invalid":(T=i.value)==null?void 0:T.street})},null,8,["modelValue","class"]),l[14]||(l[14]=e("label",{for:"instName"},"Street",-1))])]),e("div",Y,[e("span",Z,[a(u,{type:"text",id:"instName",modelValue:p.value,"onUpdate:modelValue":l[7]||(l[7]=t=>p.value=t),onBlur:l[8]||(l[8]=t=>g(p.value,"p_o_box")),class:B({"p-invalid":(U=i.value)==null?void 0:U.p_o_box})},null,8,["modelValue","class"]),l[15]||(l[15]=e("label",{for:"instName"},"P.O Box",-1))])]),e("div",h,[e("span",ll,[a(N,{id:"textarea",rows:"3",cols:"30",modelValue:x.value,"onUpdate:modelValue":l[9]||(l[9]=t=>x.value=t)},null,8,["modelValue"]),l[16]||(l[16]=e("label",{for:"textarea"},"Description",-1))])]),l[17]||(l[17]=e("div",{class:"field col-12 md:col-8"},null,-1)),e("div",el,[a(S,{onClick:R,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])])}}};export{sl as default};
