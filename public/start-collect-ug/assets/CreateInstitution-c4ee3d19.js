import{l as ll,m as el,r as a,o as tl,b as h,c as ol,d as al,e as l,h as n,p as c,C as sl}from"./index-05c29c6d.js";const nl={class:"card"},il=l("h5",null,"Create Institution",-1),dl={class:"grid p-fluid mt-3"},ul={class:"field col-12 md:col-4"},cl={class:"p-float-label"},vl=l("label",{for:"instName"},"Institution Name",-1),ml={class:"field col-12 md:col-4"},rl={class:"p-float-label"},pl=l("label",{for:"instType"},"Institution Type",-1),_l={class:"field col-12 md:col-4"},fl={class:"p-float-label"},bl=l("label",{for:"instStart"},"Start Date",-1),Vl={class:"field col-12 md:col-12"},Nl={class:"p-float-label"},xl=l("label",{for:"textarea"},"Address",-1),yl={class:"field col-12 md:col-4"},Fl={class:"p-float-label"},hl=l("label",{for:"instCity"},"City",-1),gl={class:"field col-12 md:col-4"},Ul={class:"p-float-label"},Bl=l("label",{for:"instStreet"},"Street",-1),Cl={class:"field col-12 md:col-4"},Tl={class:"p-float-label"},kl=l("label",{for:"instPOBox"},"P.O Box",-1),Il={class:"field col-12 md:col-4"},Sl={class:"p-float-label"},wl=l("label",{for:"instCity"},"Tax Config",-1),El={class:"field col-12 md:col-4"},$l=l("h5",null,"Attachment",-1),Dl={class:"field col-12 md:col-12"},Pl={class:"p-float-label"},Rl=l("label",{for:"instDescription"},"Description",-1),ql={class:"card"},Al=l("h5",null,"Institution Contact Info",-1),Ll={class:"grid p-fluid mt-3"},Ol={class:"field col-12 md:col-3"},zl={class:"p-float-label"},Ml=l("label",{for:"contactName"},"Contact Person Name",-1),Wl={class:"field col-12 md:col-3"},jl={class:"p-float-label"},Gl=l("label",{for:"contactNumber"},"Phone Number",-1),Hl={class:"field col-12 md:col-3"},Jl={class:"p-float-label"},Kl=l("label",{for:"contactEmail"},"Email",-1),Ql={class:"field col-12 md:col-3"},Xl={class:"p-float-label"},Yl=l("label",{for:"contactWeb"},"Website",-1),Zl={class:"card"},le=l("h5",null,"Institution Bank Info",-1),ee={class:"grid p-fluid mt-3"},te={class:"field col-12 md:col-4"},oe={class:"p-float-label"},ae=l("label",{for:"bankName"},"Bank",-1),se={class:"field col-12 md:col-4"},ne={class:"p-float-label"},ie=l("label",{for:"acctName"},"Account Name",-1),de={class:"field col-12 md:col-4"},ue={class:"p-float-label"},ce=l("label",{for:"acctNumber"},"Account Number",-1),ve=l("div",{class:"field col-12 md:col-8"},null,-1),me={class:"field col-12 md:col-4"},_e={__name:"CreateInstitution",setup(re){const w=ll(),s=new sl,G=el(),m=a(null),r=a(null),v=a(null),U=a(null),p=a(null),B=a(null),C=a(null),T=a(null),_=a(null),f=a(null),b=a(null),k=a(null),V=a(null),N=a(null),x=a(null),E=a(null),$=a(null),D=a(null);a({});const o=a({}),y=a({id:1,name:"Enable tax",value:!0}),H=a([{id:1,name:"Enable tax",value:!0},{id:2,name:"Disable tax",value:!1}]),J=()=>{var I,d,F,S;if(o.value.name=s.validateFormField(m.value),o.value.type=s.validateFormField(r.value),o.value.city=s.validateFormField(p.value),o.value.contactName=s.validateFormField(_.value),o.value.contactNumber=s.validateFormField(f.value),o.value.contactEmail=s.validateFormField(b.value),o.value.bankName=s.validateFormField(V.value),o.value.acctName=s.validateFormField(N.value),o.value.acctNumber=s.validateFormField(x.value),o.value.taxConfig=s.validateFormField(y.value),s.validateRequiredFields(o.value)){s.showError(w,"Please fill in the missing field");return}let e={name:m==null?void 0:m.value,type:(I=r==null?void 0:r.value)==null?void 0:I.id,start_date:v!=null&&v.value?v==null?void 0:v.value:new Date,address:U==null?void 0:U.value,city:(d=p==null?void 0:p.value)==null?void 0:d.id,street:B==null?void 0:B.value,p_o_box:C==null?void 0:C.value,description:T==null?void 0:T.value,contact_name:_==null?void 0:_.value,contact_number:f==null?void 0:f.value,contact_email:b==null?void 0:b.value,contact_web:k==null?void 0:k.value,bank_id:(F=V==null?void 0:V.value)==null?void 0:F.id,acct_name:N==null?void 0:N.value,acct_no:x==null?void 0:x.value,tax_config:(S=y==null?void 0:y.value)==null?void 0:S.value,status:"Active"};s.genericRequest("create-institution","post",!0,e).then(g=>{g.status?(s.showSuccess(w,g.message),s.redirect(G,"/view-institutions")):s.showError(w,g.message)})},K=()=>{s.genericRequest("get-institution-types","get",!0,{}).then(i=>{i.status&&(E.value=i.data)})},Q=()=>{s.genericRequest("get-city-county-id/1","get",!0,{}).then(i=>{i.status&&($.value=i.data)})},X=()=>{s.genericRequest("get-bank-ref","get",!0,{}).then(i=>{i.status&&(D.value=i.data)})},u=(i,e)=>{o.value[e]=s.validateFormField(i)};return tl(()=>{K(),Q(),X()}),(i,e)=>{var P,R,q,A,L,O,z,M,W,j;const I=h("Toast"),d=h("InputText"),F=h("Dropdown"),S=h("Calendar"),g=h("Textarea"),Y=h("FileUpload"),Z=h("Button");return ol(),al("div",null,[l("div",nl,[il,l("div",dl,[n(I),l("div",ul,[l("span",cl,[n(d,{type:"text",id:"instName",modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=t=>m.value=t),onBlur:e[1]||(e[1]=t=>u(m.value,"name")),class:c({"p-invalid":(P=o.value)==null?void 0:P.name})},null,8,["modelValue","class"]),vl])]),l("div",ml,[l("span",rl,[n(F,{id:"instType",onBlur:e[2]||(e[2]=t=>u(r.value,"type")),options:E.value,modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=t=>r.value=t),class:c({"p-invalid":(R=o.value)==null?void 0:R.type}),optionLabel:"name"},null,8,["options","modelValue","class"]),pl])]),l("div",_l,[l("span",fl,[n(S,{id:"instStart",modelValue:v.value,"onUpdate:modelValue":e[4]||(e[4]=t=>v.value=t)},null,8,["modelValue"]),bl])]),l("div",Vl,[l("span",Nl,[n(g,{id:"textarea",rows:"3",cols:"30",modelValue:U.value,"onUpdate:modelValue":e[5]||(e[5]=t=>U.value=t)},null,8,["modelValue"]),xl])]),l("div",yl,[l("span",Fl,[n(F,{id:"instCity",options:$.value,modelValue:p.value,"onUpdate:modelValue":e[6]||(e[6]=t=>p.value=t),onBlur:e[7]||(e[7]=t=>u(p.value,"city")),class:c({"p-invalid":(q=o.value)==null?void 0:q.city}),optionLabel:"name"},null,8,["options","modelValue","class"]),hl])]),l("div",gl,[l("span",Ul,[n(d,{type:"text",id:"instStreet",modelValue:B.value,"onUpdate:modelValue":e[8]||(e[8]=t=>B.value=t)},null,8,["modelValue"]),Bl])]),l("div",Cl,[l("span",Tl,[n(d,{type:"text",id:"instPOBox",modelValue:C.value,"onUpdate:modelValue":e[9]||(e[9]=t=>C.value=t)},null,8,["modelValue"]),kl])]),l("div",Il,[l("span",Sl,[n(F,{id:"instCity",options:H.value,modelValue:y.value,"onUpdate:modelValue":e[10]||(e[10]=t=>y.value=t),onBlur:e[11]||(e[11]=t=>u(y.value,"taxConfig")),class:c({"p-invalid":(A=o.value)==null?void 0:A.taxConfig}),optionLabel:"name"},null,8,["options","modelValue","class"]),wl])]),l("div",El,[$l,n(Y,{mode:"basic",name:"demo[]",accept:"image/*",maxFileSize:1e6,onUploader:i.onUpload,customUpload:""},null,8,["onUploader"])]),l("div",Dl,[l("span",Pl,[n(g,{id:"instDescription",rows:"3",cols:"30",modelValue:T.value,"onUpdate:modelValue":e[12]||(e[12]=t=>T.value=t)},null,8,["modelValue"]),Rl])])])]),l("div",ql,[Al,l("div",Ll,[l("div",Ol,[l("span",zl,[n(d,{type:"text",id:"contactName",modelValue:_.value,"onUpdate:modelValue":e[13]||(e[13]=t=>_.value=t),onBlur:e[14]||(e[14]=t=>u(_.value,"contactName")),class:c({"p-invalid":(L=o.value)==null?void 0:L.contactName})},null,8,["modelValue","class"]),Ml])]),l("div",Wl,[l("span",jl,[n(d,{id:"basic",modelValue:f.value,"onUpdate:modelValue":e[15]||(e[15]=t=>f.value=t),onBlur:e[16]||(e[16]=t=>u(f.value,"contactNumber")),class:c({"p-invalid":(O=o.value)==null?void 0:O.contactNumber})},null,8,["modelValue","class"]),Gl])]),l("div",Hl,[l("span",Jl,[n(d,{type:"text",id:"contactEmail",modelValue:b.value,"onUpdate:modelValue":e[17]||(e[17]=t=>b.value=t),onBlur:e[18]||(e[18]=t=>u(b.value,"contactEmail")),class:c({"p-invalid":(z=o.value)==null?void 0:z.contactEmail})},null,8,["modelValue","class"]),Kl])]),l("div",Ql,[l("span",Xl,[n(d,{type:"text",id:"contactWeb",modelValue:k.value,"onUpdate:modelValue":e[19]||(e[19]=t=>k.value=t)},null,8,["modelValue"]),Yl])])])]),l("div",Zl,[le,l("div",ee,[l("div",te,[l("span",oe,[n(F,{id:"bankName",options:D.value,modelValue:V.value,"onUpdate:modelValue":e[20]||(e[20]=t=>V.value=t),optionLabel:"name",onBlur:e[21]||(e[21]=t=>u(V.value,"bankName")),class:c({"p-invalid":(M=o.value)==null?void 0:M.bankName})},null,8,["options","modelValue","class"]),ae])]),l("div",se,[l("span",ne,[n(d,{type:"text",id:"acctName",modelValue:N.value,"onUpdate:modelValue":e[22]||(e[22]=t=>N.value=t),onBlur:e[23]||(e[23]=t=>u(N.value,"acctName")),class:c({"p-invalid":(W=o.value)==null?void 0:W.acctName})},null,8,["modelValue","class"]),ie])]),l("div",de,[l("span",ue,[n(d,{type:"text",id:"acctNumber",modelValue:x.value,"onUpdate:modelValue":e[24]||(e[24]=t=>x.value=t),onBlur:e[25]||(e[25]=t=>u(x.value,"acctNumber")),class:c({"p-invalid":(j=o.value)==null?void 0:j.acctNumber})},null,8,["modelValue","class"]),ce])]),ve,l("div",me,[n(Z,{onClick:J,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])])}}};export{_e as default};
