import{k as we,l as Ce,r as a,x as Ie,o as ke,b as T,c as h,d as V,e,h as d,t as c,f as m,i as g,g as b,y as Te,v as A,j as w,n as Ne,F as Ve,s as Se,C as De}from"./index-e51a61a3.js";const Ue={class:"grid p-fluid"},Ee={class:"field col-12 md:col-3"},qe={class:"p-float-label"},Ae=e("label",{for:"paymentMethod"},"Payment methods",-1),Oe={class:"field col-12 md:col-3"},Pe={class:"p-inputgroup"},$e={class:"p-float-label"},Re=e("label",{for:"Customer"},"Select customer",-1),Me={class:"field col-12 md:col-3"},Le={class:"p-float-label"},Be=e("label",{for:"productId"},"Billing address",-1),Fe={class:"field col-12 md:col-3"},ze={class:"p-float-label"},je=e("label",{for:"date"},"Sales Date",-1),Qe=e("div",{class:"col-12 md:col-3"},null,-1),He=e("div",{class:"col-12 md:col-3"},null,-1),Xe=e("div",{class:"col-12 md:col-3"},null,-1),Ge={class:"col-12 md:col-3"},Ke={class:"font-bold text-right text-6xl green-color"},Ye={class:"col-12 md:col-12"},We={class:"card"},Je=["onClick"],Ze=["onClick"],et={class:"col-12 md:col-2"},tt={class:"col-12 md:col-2"},lt={class:"col-12 md:col-12"},ot={key:0,class:"card"},nt=e("h5",null,"V.A.T 18%",-1),it=e("br",null,null,-1),st={class:"grid"},at={class:"field col-12 md:col-12"},dt=e("div",{class:"col-12 md:col-4"},null,-1),rt=e("div",{class:"col-12 md:col-3"},null,-1),ut={class:"col-12 md:col-3"},ct={class:"font-bold text-right text-xl green-color"},pt=e("div",{class:"col-12 md:col-3"},null,-1),mt={class:"col-12 md:col-3"},gt={class:"p-float-label"},vt=e("label",{for:"productId"},"Amount",-1),ht={class:"col-12 md:col-3"},_t={key:0,class:"font-bold text-left text-xl green-color"},xt={class:"col-12 md:col-3"},ft={style:{"padding-top":"20px"}},yt={class:"grid p-fluid"},bt={class:"field col-12 md:col-6"},wt={class:"p-float-label"},Ct=e("label",{for:"supplierName"},"Name",-1),It={class:"field col-12 md:col-6"},kt={class:"p-float-label"},Tt=e("label",{for:"supplierEmail"},"Email",-1),Nt={class:"field col-12 md:col-6"},Vt={class:"p-float-label"},St=e("label",{for:"supplierAddress"},"Address",-1),Dt={class:"field col-12 md:col-6"},Ut={class:"p-float-label"},Et=e("label",{for:"supplierContact"},"Phone Number",-1),qt={class:"field col-12 md:col-12"},At={class:"p-float-label"},Ot=e("label",{for:"supplierDesc"},"More Info",-1),Pt={lang:"en"},$t=e("head",null,[e("meta",{charset:"UTF-8"}),e("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),e("title",null,"Invoice")],-1),Rt={style:{"background-color":"#fff"}},Mt={style:{"max-width":"750px","font-family":"monospace",margin:"20px auto",padding:"30px",border:"1px solid #ddd","box-shadow":"0 2px 8px rgba(0, 0, 0, 0.1)",background:"#fff"}},Lt=e("header",{style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"20px"}},[e("h1",{style:{color:"#002060",margin:"0"}},"INVOICE"),e("div",{style:{width:"80px",height:"80px",background:"#ccc","border-radius":"50%","text-align":"center","line-height":"80px","font-size":"20px","font-weight":"bold"}},"LOGO")],-1),Bt={style:{display:"flex","justify-content":"space-between"}},Ft={style:{color:"#666"}},zt=e("strong",null,"Company Name:",-1),jt={style:{"text-align":"right"}},Qt={style:{color:"#666"}},Ht=e("strong",null,"Invoice #:",-1),Xt={style:{color:"#666"}},Gt=e("strong",null,"Date:",-1),Kt=e("p",{style:{color:"#666"}},[e("strong",null,"Due Date:"),w(" 26/02/2019")],-1),Yt={style:{"margin-top":"20px"}},Wt={style:{display:"flex","justify-content":"space-between"}},Jt=e("div",{style:{background:"#002060",padding:"5px 10px","font-weight":"bold"}},"BILL TO",-1),Zt={style:{color:"#666"}},el=e("div",{style:{background:"#002060",padding:"5px 10px","font-weight":"bold"}},"SHIP TO",-1),tl={style:{color:"#666"}},ll={style:{width:"100%","border-collapse":"collapse","margin-top":"10px"}},ol=e("thead",null,[e("tr",null,[e("th",{style:{border:"1px solid #ddd",padding:"8px","text-align":"left","background-color":"#002060",color:"#fff"}},"QTY"),e("th",{style:{border:"1px solid #ddd",padding:"8px","text-align":"left","background-color":"#002060",color:"#fff"}},"DESCRIPTION"),e("th",{style:{border:"1px solid #ddd",padding:"8px","text-align":"right","background-color":"#002060",color:"#fff"}},"UNIT PRICE"),e("th",{style:{border:"1px solid #ddd",padding:"8px","text-align":"right","background-color":"#002060",color:"#fff"}},"AMOUNT")])],-1),nl={style:{border:"1px solid #ddd",padding:"8px",color:"#666"}},il={style:{border:"1px solid #ddd",padding:"8px",color:"#666"}},sl={style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"#666"}},al={style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"#666"}},dl=e("td",{colspan:"3",style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"#666"}},"Taxable",-1),rl={style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"#666"}},ul=e("td",{colspan:"3",style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"#666"}},"VAT 18%",-1),cl={style:{border:"1px solid #ddd",padding:"8px","text-align":"right",color:"#666"}},pl=e("td",{colspan:"3",style:{border:"1px solid #ddd",padding:"8px","text-align":"right","font-weight":"bold",color:"#666"}},"Total",-1),ml={style:{border:"1px solid #ddd",padding:"8px","text-align":"right","font-weight":"bold",color:"#666"}},gl=e("div",{style:{"margin-top":"20px",border:"1px solid #ddd",padding:"10px",background:"#f2f2f2"}},[e("p",{style:{color:"#666"}},[e("strong",null,"Other Comments:")]),e("p",{style:{color:"#666"}},"1. Total payment due in 30 days."),e("p",{style:{color:"#666"}},"2. Please include the invoice number on your check.")],-1),vl=e("div",{style:{"text-align":"center","margin-top":"30px"}},[e("p",{style:{"font-size":"0.9em",color:"#666"}},"Thank you for your business!"),e("p",{style:{"font-size":"0.9em",color:"#666"}},"Payment is due within 15 days.")],-1),fl={__name:"PointOfSale",setup(hl){const C=we(),i=new De,te=Ce(),Q=a(null),s=a([{id:null,price:null,quantity:null,discount:null,name:"",tax_config:null}]),I=a(0),_=a(0);a(0);const le=a({}),E=a({}),k=a(0),H=a(0),X=a(0),B=a(!1),O=a({}),S=a(null),P=a(null),$=a(null),R=a(null),M=a(null),G=a([]),F=a(!1);a({});const N=a([{id:1,name:"18%",amount:0,total:0},{id:2,name:"Exempted",amount:0,total:0}]),oe=()=>{i.genericRequest("get-products","get",!0,{}).then(t=>{t.status?Q.value=t.data:i.showError(C,t.message)})},ne=t=>{var u;let l={id:t.id,price:Number(t.selling_price),quantity:1,discount:0,name:t.name,tax_config:t.tax_config,units:[{id:1,ind:"Primary",name:t.unit,weight:1,price:Number(t.selling_price),unit_id:t==null?void 0:t.measurement_unit_id}],selected:{id:1,ind:"Primary",name:t.unit,weight:1,price:Number(t.selling_price),unit_id:t==null?void 0:t.measurement_unit_id}};t.secondary_unit&&l.units.push({id:2,ind:"Secondary",name:t.secondary_unit,weight:Number(t==null?void 0:t.secondary_weight),price:Number(t==null?void 0:t.secondary_price),unit_id:t==null?void 0:t.secondary_measurement_unit_id});const n=s.value.find(p=>p.id===l.id);if(n)n.quantity+=l.quantity;else{let p=s.value.length-1;s.value.splice(p,0,l)}(u=E==null?void 0:E.value)!=null&&u.is_tax_enabled&&L()},ie=t=>{const l=s.value.findIndex(n=>n.id===t.id);l!==-1&&s.value.splice(l,1)},se=(t,l)=>{s.value=s.value.map(n=>n.id===l.id?{...n,quantity:Number(t.target.value)}:n)},ae=(t,l)=>{s.value=s.value.map(n=>n.id===l.id?{...n,price:Number(t.target.value)}:n),L()},K=(t,l)=>{s.value=s.value.map(n=>{if(n.id===t.id){if(l=="Add")return{...n,quantity:Number(n.quantity+1)};if(n.quantity>0)return{...n,quantity:Number(n.quantity-1)}}return n}),L()},f=t=>{let l=0;return t.length>0&&t.forEach(n=>{l+=n.quantity*n.price}),l},de=()=>{var l;s.value=s==null?void 0:s.value.filter(n=>n.id!=null);let t={total:f(s==null?void 0:s.value)-Number(_==null?void 0:_.value)+Number(k.value),discount:Number(_==null?void 0:_.value),amountPaid:Number(I==null?void 0:I.value),itemCount:s==null?void 0:s.value.length,tranDate:j.value,items:s==null?void 0:s.value,status:"Active",vat:Number(k.value),vatInc:H.value,vatEx:X.value,payment_method:q==null?void 0:q.value.value,address:D.value,customer_id:(l=y==null?void 0:y.value)==null?void 0:l.id};i.genericRequest("create-order","post",!0,t).then(n=>{n.status?(i.showSuccess(C,n.message),i.redirect(te,"/view-sales")):i.showError(C,n.message)})},re=()=>{i.genericRequest("get-institution-details","get",!0,{}).then(t=>{t.status?E.value=t.data:i.showError(C,t.message)})},ue=()=>{le.value={global:{value:null,matchMode:Te.CONTAINS}}},L=()=>{let t=0,l=0,n=0;s.value.forEach(x=>{const v=x.quantity*x.price;switch(x.tax_config){case"TAX_EXCLUSIVE":t+=v;break;case"TAX_INCLUSIVE":l+=v;break;case"TAX_EXEMPTED":n+=v;break}});const u=.18*t,p=.18*l;X.value=u,H.value=p,k.value=u,N.value=N.value.map(x=>x.id===1?{...x,total:u+p,amount:t+(l-p)}:x.id===2?{...x,total:0,amount:n}:x)},z=t=>{B.value=t},Y=t=>{F.value=t},ce=(t,l)=>{O.value[l]=i.validateFormField(t)},pe=()=>{if(O.value.customerName=i.validateFormField(S.value),i.validateRequiredFields(O.value)){i.showError(C,"Please fill in the missing field");return}let l={name:S.value,address:$.value,email:P.value,phone_number:R.value,description:M.value,status:"Active"};i.genericRequest("create-customer","post",!0,l).then(n=>{n.status?(i.showSuccess(C,n.message),W(),z(!1),S.value=null,$.value=null,P.value=null,R.value=null,M.value=null):i.showError(C,n.message)})},W=()=>{i.genericRequest("get-customers","post",!0,{}).then(t=>{t.status?G.value=t.data:i.showError(C,t.message)})},me=t=>{t.value.address&&(D.value=t.value.address)},ge=(t,l)=>{s.value=s.value.map(n=>n.id===l.id?{...n,price:Number(t.value.price)}:n),L()},ve=a([]),q=a({id:1,name:"Cash",value:"CASH"}),D=a(null),y=a(null),j=a(new Date);a(0),a(0);const he=a([{id:1,name:"Cash",value:"CASH"},{id:2,name:"Bank",value:"BANK"},{id:3,name:"Credit",value:"CREDIT"}]),_e=()=>[{id:null,name:"",description:"",quantity:null,rate:null,amount:null,uuid:i.generateUUID()},{id:null,name:"",description:"",quantity:null,rate:null,amount:null,uuid:i.generateUUID()},{id:null,name:"",description:"",quantity:null,rate:null,amount:null,uuid:i.generateUUID()},{id:null,name:"",description:"",quantity:null,rate:null,amount:null,uuid:i.generateUUID()},{id:null,name:"",description:"",quantity:null,rate:null,amount:null,uuid:i.generateUUID()}];a([{field:"name",header:"Product/Services"},{field:"description",header:"Description"},{field:"quantity",header:"Quantity"},{field:"rate",header:"Rate"},{field:"amount",header:"Amount"},{field:"tax",header:"Tax"}]);const xe=()=>{s.value=[{id:null,price:null,quantity:null,discount:null,name:"",tax_config:null}]},fe=()=>{Y(!1),ye()},ye=()=>{var n;const t=window.open("","","width=600,height=600");t.document.open();let l="";s.value.forEach(u=>{l+=`
      <tr>
        <td style='border: 1px solid #ddd; padding: 8px; color: #666;'>${u.quantity}</td>
        <td style='border: 1px solid #ddd; padding: 8px; color: #666;'>${u.name}</td>
        <td style='border: 1px solid #ddd; padding: 8px; text-align: right; color: #666;'>${i.commaSeparator(u.price)}</td>
        <td style='border: 1px solid #ddd; padding: 8px; text-align: right; color: #666;'>${i.commaSeparator(u.price*u.quantity)}</td>
      </tr>`}),t.document.write(`<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <title>Invoice</title>
</head>
<body style="background-color: #fff;">
  <div style='max-width: 750px; font-family: monospace; margin: 20px auto; padding: 30px; border: 1px solid #ddd; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); background: #fff'>
    <header style='display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;'>
      <h1 style='color: #002060; margin: 0;'>INVOICE</h1>
      <div style='width: 80px; height: 80px; background: #ccc; border-radius: 50%; text-align: center; line-height: 80px; font-size: 20px; font-weight: bold;'>LOGO</div>
    </header>

    <section>
      <div style='display: flex; justify-content: space-between;'>
        <div>
          <p style="color: #666;"><strong>Company Name:</strong> ${(n=i.getStorage())==null?void 0:n.institution_name}</p>
        </div>
        <div style='text-align: right;'>
          <p style="color: #666;"><strong>Invoice #:</strong> ${i.generateRandomFiveId()}</p>
          <p style="color: #666;"><strong>Date:</strong> ${i.formatDate(i.getCurrentTimestamp())}</p>
          <p style="color: #666;"><strong>Due Date:</strong> 26/02/2019</p>
        </div>
      </div>
    </section>

    <section style='margin-top: 20px;'>
      <div style='display: flex; justify-content: space-between;'>
        <div>
          <div style='background: #002060; padding: 5px 10px; font-weight: bold;'>BILL TO</div>
          <p style="color: #666;">${y==null?void 0:y.name}</p>
        </div>
        <div>
          <div style='background: #002060; padding: 5px 10px; font-weight: bold;'>SHIP TO</div>
          <p style="color: #666;">${D}</p>
        </div>
      </div>
    </section>

    <table style='width: 100%; border-collapse: collapse; margin-top: 10px;'>
      <thead>
        <tr>
          <th style='border: 1px solid #ddd; padding: 8px; text-align: left; background-color: #002060; color: #fff;'>QTY</th>
          <th style='border: 1px solid #ddd; padding: 8px; text-align: left; background-color: #002060; color: #fff;'>DESCRIPTION</th>
          <th style='border: 1px solid #ddd; padding: 8px; text-align: right; background-color: #002060; color: #fff;'>UNIT PRICE</th>
          <th style='border: 1px solid #ddd; padding: 8px; text-align: right; background-color: #002060; color: #fff;'>AMOUNT</th>
        </tr>
      </thead>
      <tbody>
        ${l}
      </tbody>
      <tfoot>
        <tr>
          <td colspan='3' style='border: 1px solid #ddd; padding: 8px; text-align: right; color: #666;'>Taxable</td>
          <td style='border: 1px solid #ddd; padding: 8px; text-align: right; color: #666;'>${i.commaSeparator(N.value[0].amount)}</td>
        </tr>
        <tr>
          <td colspan='3' style='border: 1px solid #ddd; padding: 8px; text-align: right; color: #666;'>VAT 18%</td>
          <td style='border: 1px solid #ddd; padding: 8px; text-align: right; color: #666;'>${i.commaSeparator(N.value[0].total)}</td>
        </tr>
        <tr>
          <td colspan='3' style='border: 1px solid #ddd; padding: 8px; text-align: right; font-weight: bold; color: #666;'>Total</td>
          <td style='border: 1px solid #ddd; padding: 8px; text-align: right; font-weight: bold; color: #666;'>${f(s)?i.commaSeparator(f(s.value)-Number(_.value)+Number(k.value)):0}</td>
        </tr>
      </tfoot>
    </table>

    <div style='margin-top: 20px; border: 1px solid #ddd; padding: 10px; background: #f2f2f2;'>
      <p style="color: #666;"><strong>Other Comments:</strong></p>
      <p style="color: #666;">1. Total payment due in 30 days.</p>
      <p style="color: #666;">2. Please include the invoice number on your check.</p>
    </div>

    <div style='text-align: center; margin-top: 30px;'>
      <p style='font-size: 0.9em; color: #666;'>Thank you for your business!</p>
      <p style='font-size: 0.9em; color: #666;'>Payment is due within 15 days.</p>
    </div>
  </div>
</body>
</html>`),t.document.close(),t.print(),t.close()};return Ie(()=>{ue()}),ke(()=>{oe(),re(),W(),ve.value=_e()}),(t,l)=>{var ee;const n=T("Dropdown"),u=T("Button"),p=T("InputText"),x=T("Calendar"),v=T("Column"),J=T("DataTable"),be=T("Textarea"),Z=T("Dialog");return h(),V("div",Ue,[e("div",Ee,[e("span",qe,[d(n,{id:"paymentMethod",options:he.value,filter:"",modelValue:q.value,"onUpdate:modelValue":l[0]||(l[0]=o=>q.value=o),optionLabel:"name"},null,8,["options","modelValue"]),Ae])]),e("div",Oe,[e("div",Pe,[e("span",$e,[d(n,{id:"customer",onChange:me,options:G.value,filter:"",modelValue:y.value,"onUpdate:modelValue":l[1]||(l[1]=o=>y.value=o),optionLabel:"name"},null,8,["options","modelValue"]),Re]),d(u,{onClick:l[2]||(l[2]=o=>z(!0)),icon:"pi pi-plus"})])]),e("div",Me,[e("span",Le,[d(p,{type:"text",id:"productId",modelValue:D.value,"onUpdate:modelValue":l[3]||(l[3]=o=>D.value=o)},null,8,["modelValue"]),Be])]),e("div",Fe,[e("span",ze,[d(x,{id:"date",modelValue:j.value,"onUpdate:modelValue":l[4]||(l[4]=o=>j.value=o)},null,8,["modelValue"]),je])]),Qe,He,Xe,e("div",Ge,[e("p",Ke,"Total: "+c(f(s.value)?m(i).commaSeparator(f(s.value)-Number(_.value)+Number(k.value)):0),1)]),e("div",Ye,[e("div",We,[d(J,{value:s.value,size:"small",stripedRows:"",rows:20,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:g(()=>[d(v,{field:"name",header:"Name",style:{"max-width":"10rem"}},{body:g(({data:o})=>[o.id?b("",!0):(h(),A(n,{key:0,id:"subCategory",change:"",options:Q.value,filter:"",optionLabel:"name",onChange:l[5]||(l[5]=r=>ne(r.value))},null,8,["options"])),w(" "+c(o.name),1)]),_:1}),d(v,{field:"quantity",header:"Qty",style:{"max-width":"8rem"}},{body:g(({data:o})=>[o.id?(h(),V("i",{key:0,class:"pi pi-minus",onClick:r=>K(o,"Subtract"),style:{"font-size":"1rem","margin-left":"3px",cursor:"pointer"}},null,8,Je)):b("",!0),o.id?(h(),A(p,{key:1,type:"text",onChange:r=>se(r,o),value:o.quantity,style:{width:"100px",padding:"5px","margin-left":"1px","margin-right":"1px","text-align":"center"},placeholder:"Qty"},null,8,["onChange","value"])):b("",!0),o.id?(h(),V("i",{key:2,class:"pi pi-plus",onClick:r=>K(o,"Add"),style:{"font-size":"1rem","margin-right":"3px",cursor:"pointer"}},null,8,Ze)):b("",!0)]),_:1}),d(v,{field:"unit",header:"Unit",style:{"max-width":"8rem"}},{body:g(({data:o})=>[o.id?(h(),A(n,{key:0,id:"type",onChange:r=>ge(r,o),filter:"",options:o.units,modelValue:o.selected,"onUpdate:modelValue":r=>o.selected=r,optionLabel:"name",style:{width:"80%","margin-left":"1px","margin-right":"1px"}},null,8,["onChange","options","modelValue","onUpdate:modelValue"])):b("",!0)]),_:1}),d(v,{field:"price",header:"Price",style:{"max-width":"8rem"}},{body:g(({data:o})=>[o.id?(h(),A(p,{key:0,type:"text",onChange:r=>ae(r,o),value:o.price,style:{width:"80%",padding:"5px","margin-left":"1px","margin-right":"1px","text-align":"center"},placeholder:"Qty"},null,8,["onChange","value"])):b("",!0)]),_:1}),d(v,{field:"subtotal",header:"Amount",style:{"max-width":"8rem"}},{body:g(({data:o})=>[w(c(o.id?m(i).commaSeparator(o.quantity*o.price):""),1)]),_:1}),d(v,{headerStyle:"width:6rem;"},{body:g(({data:o})=>[o.id?(h(),A(u,{key:0,icon:"pi pi-trash",class:"p-button-rounded p-button-danger mr-2",onClick:r=>ie(o)},null,8,["onClick"])):b("",!0)]),_:1})]),_:1},8,["value"])])]),e("div",et,[d(u,{label:"Clear",onClick:xe,icon:"pi pi-minus",iconPos:"left",class:"p-button-danger mr-2 mb-2"})]),e("div",tt,[d(u,{label:"Generate Invoice",onClick:l[6]||(l[6]=o=>Y(!0)),icon:"pi pi-file",iconPos:"left",class:"p-button-info mr-2 mb-2"})]),e("div",lt,[(ee=E.value)!=null&&ee.is_tax_enabled&&s.value.length>0?(h(),V("div",ot,[nt,it,e("div",st,[e("div",at,[d(J,{value:N.value,size:"small",rows:20,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:g(()=>[d(v,{field:"name",header:"18%",style:{"max-width":"10rem"}},{body:g(({data:o})=>[w(c(o.name),1)]),_:1}),d(v,{field:"price",header:"Amount",style:{"max-width":"10rem"}},{body:g(({data:o})=>[w(c(m(i).commaSeparator(o.amount)),1)]),_:1}),d(v,{field:"subtotal",header:"V.A.T",style:{"max-width":"10rem"}},{body:g(({data:o})=>[w(c(m(i).commaSeparator(o.total)),1)]),_:1})]),_:1},8,["value"])])])])):b("",!0)]),dt,rt,e("div",ut,[e("p",ct,"Total: "+c(f(s.value)?m(i).commaSeparator(f(s.value)-Number(_.value)+Number(k.value)):0),1)]),pt,e("div",mt,[e("span",gt,[d(p,{type:"text",id:"discount",modelValue:I.value,"onUpdate:modelValue":l[7]||(l[7]=o=>I.value=o)},null,8,["modelValue"]),vt])]),e("div",ht,[I.value&&I.value>0?(h(),V("p",_t,"Change: "+c(m(i).commaSeparator(Number(I.value)+Number(_.value)-(f(s.value)+Number(k.value)))),1)):b("",!0)]),e("div",xt,[d(u,{onClick:de,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})]),d(Z,{header:"Create new customer",visible:B.value,"onUpdate:visible":l[15]||(l[15]=o=>B.value=o),style:{width:"75vw"},modal:!0,class:"p-fluid"},{footer:g(()=>[d(u,{label:"Cancel",onClick:l[14]||(l[14]=o=>z(!1)),icon:"pi pi-times",class:"p-button-outlined p-button-danger mr-2 mb-2"}),d(u,{onClick:pe,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})]),default:g(()=>{var o;return[e("p",ft,[e("div",yt,[e("div",bt,[e("span",wt,[d(p,{type:"text",id:"customerName",onBlur:l[8]||(l[8]=r=>ce(S.value,"customerName")),modelValue:S.value,"onUpdate:modelValue":l[9]||(l[9]=r=>S.value=r),class:Ne({"p-invalid":(o=O.value)==null?void 0:o.customerName})},null,8,["modelValue","class"]),Ct])]),e("div",It,[e("span",kt,[d(p,{type:"text",id:"supplierEmail",modelValue:P.value,"onUpdate:modelValue":l[10]||(l[10]=r=>P.value=r)},null,8,["modelValue"]),Tt])]),e("div",Nt,[e("span",Vt,[d(p,{type:"text",id:"supplierAddress",modelValue:$.value,"onUpdate:modelValue":l[11]||(l[11]=r=>$.value=r)},null,8,["modelValue"]),St])]),e("div",Dt,[e("span",Ut,[d(p,{type:"text",id:"supplierContact",modelValue:R.value,"onUpdate:modelValue":l[12]||(l[12]=r=>R.value=r)},null,8,["modelValue"]),Et])]),e("div",qt,[e("span",At,[d(be,{inputId:"supplierDesc",rows:"7",modelValue:M.value,"onUpdate:modelValue":l[13]||(l[13]=r=>M.value=r)},null,8,["modelValue"]),Ot])])])])]}),_:1},8,["visible"]),d(Z,{header:"Generate Invoice",visible:F.value,"onUpdate:visible":l[16]||(l[16]=o=>F.value=o),style:{width:"75vw"},modal:!0,class:"p-fluid"},{footer:g(()=>[d(u,{label:"print",onClick:fe,icon:"pi pi-print",class:"p-button-outlined"})]),default:g(()=>{var o,r;return[e("html",Pt,[$t,e("body",Rt,[e("div",Mt,[Lt,e("section",null,[e("div",Bt,[e("div",null,[e("p",Ft,[zt,w(" "+c((o=m(i).getStorage())==null?void 0:o.institution_name),1)])]),e("div",jt,[e("p",Qt,[Ht,w(" "+c(m(i).generateRandomFiveId()),1)]),e("p",Xt,[Gt,w(" "+c(m(i).formatDate(m(i).getCurrentTimestamp())),1)]),Kt])])]),e("section",Yt,[e("div",Wt,[e("div",null,[Jt,e("p",Zt,c((r=y.value)==null?void 0:r.name),1)]),e("div",null,[el,e("p",tl,c(D.value),1)])])]),e("table",ll,[ol,e("tbody",null,[(h(!0),V(Ve,null,Se(s.value,(U,_l)=>(h(),V("tr",{key:U.id},[e("td",nl,c(U.quantity),1),e("td",il,c(U.name),1),e("td",sl,c(m(i).commaSeparator(U.price)),1),e("td",al,c(m(i).commaSeparator(U.price*U.quantity)),1)]))),128))]),e("tfoot",null,[e("tr",null,[dl,e("td",rl,c(m(i).commaSeparator(N.value[0].amount)),1)]),e("tr",null,[ul,e("td",cl,c(m(i).commaSeparator(N.value[0].total)),1)]),e("tr",null,[pl,e("td",ml,c(f(s.value)?m(i).commaSeparator(f(s.value)-Number(_.value)+Number(k.value)):0),1)])])]),gl,vl])])])]}),_:1},8,["visible"])])}}};export{fl as default};
