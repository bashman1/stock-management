import{l as D,m as k,k as B,r as v,o as S,b as d,c as T,d as C,e as m,h as t,i as a,j as r,t as n,C as P}from"./index-9434943a.js";const M={class:"grid"},N={class:"col-12"},x={className:"card"},A={class:"my-2"},E={__name:"ApproveBulkProducts",setup(R){D();const h=k(),p=B(),l=new P,_=v(null),i=v(null),b=u=>{let s={status:"Pending",batchId:u};l.genericRequest("get-batch-products","post",!0,s).then(c=>{c.status?_.value=c.data:l.showError(p,c.message)})},y=()=>{let u={products:i.value,status:"Active"};l.genericRequest("approve-batch-product","post",!0,u).then(s=>{s.status?(l.showSuccess(p,s.message),b(h.params.id)):l.showError(p,s.message)})};return S(()=>{b(h.params.id)}),(u,s)=>{const c=d("Toast"),w=d("Button"),g=d("Toolbar"),o=d("Column"),f=d("DataTable");return T(),C("div",M,[m("div",N,[m("div",x,[s[2]||(s[2]=m("h5",null,"Approve Batch",-1)),t(c),t(g,{class:"mb-4"},{start:a(()=>[m("div",A,[t(w,{label:"Approve",icon:"pi pi-check",class:"p-button-success",onClick:y,disabled:!i.value||!i.value.length},null,8,["disabled"])])]),end:a(()=>s[1]||(s[1]=[])),_:1}),t(f,{value:_.value,paginator:!0,class:"p-datatable-gridlines",rows:10,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll",selection:i.value,"onUpdate:selection":s[0]||(s[0]=e=>i.value=e),rowsPerPageOptions:[5,10,25]},{default:a(()=>[t(o,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:a(({data:e})=>[r(n(e.name),1)]),_:1}),t(o,{header:"Purchase Price",style:{"min-width":"10rem"}},{body:a(({data:e})=>[r(n(e.purchase_price),1)]),_:1}),t(o,{header:"Selling Price",style:{"min-width":"10rem"}},{body:a(({data:e})=>[r(n(e.selling_price),1)]),_:1}),t(o,{header:"Quantity",style:{"min-width":"12rem"}},{body:a(({data:e})=>[r(n(e.quantity),1)]),_:1}),t(o,{header:"Description",style:{"min-width":"10rem"}},{body:a(({data:e})=>[r(n(e.description),1)]),_:1}),t(o,{header:"Stock Date",style:{"min-width":"10rem"}},{body:a(({data:e})=>[r(n(e.stock_date),1)]),_:1}),t(o,{header:"Status",style:{"min-width":"10rem"}},{body:a(({data:e})=>[r(n(e.status),1)]),_:1}),t(o,{header:"Date",style:{"min-width":"10rem"}},{body:a(({data:e})=>[r(n(e.created_at),1)]),_:1}),t(o,{selectionMode:"multiple",headerStyle:"width: 3rem"})]),_:1},8,["value","selection"])])])])}}};export{E as default};
