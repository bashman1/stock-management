import{i as Y,j as Z,r as a,o as ll,b as v,c as el,d as tl,f as l,h as n,n as c,C as ol}from"./index-d0b49668.js";const al={class:"card"},sl=l("h5",null,"Create Institution",-1),nl={class:"grid p-fluid mt-3"},il={class:"field col-12 md:col-4"},dl={class:"p-float-label"},ul=l("label",{for:"instName"},"Institution Name",-1),cl={class:"field col-12 md:col-4"},ml={class:"p-float-label"},vl=l("label",{for:"instType"},"Institution Type",-1),rl={class:"field col-12 md:col-4"},pl={class:"p-float-label"},_l=l("label",{for:"instStart"},"Start Date",-1),fl={class:"field col-12 md:col-12"},bl={class:"p-float-label"},Vl=l("label",{for:"textarea"},"Address",-1),hl={class:"field col-12 md:col-4"},Nl={class:"p-float-label"},yl=l("label",{for:"instCity"},"City",-1),Fl={class:"field col-12 md:col-4"},Ul={class:"p-float-label"},Bl=l("label",{for:"instStreet"},"Street",-1),gl={class:"field col-12 md:col-4"},xl={class:"p-float-label"},kl=l("label",{for:"instPOBox"},"P.O Box",-1),Cl={class:"field col-12 md:col-10"},Il={class:"p-float-label"},Tl=l("label",{for:"instDescription"},"Description",-1),Sl={class:"field col-12 md:col-2"},wl=l("h5",null,"Attachment",-1),El={class:"card"},$l=l("h5",null,"Institution Contact Info",-1),Pl={class:"grid p-fluid mt-3"},Rl={class:"field col-12 md:col-3"},ql={class:"p-float-label"},Al=l("label",{for:"contactName"},"Contact Person Name",-1),Dl={class:"field col-12 md:col-3"},Ml={class:"p-float-label"},Ll=l("label",{for:"contactNumber"},"Phone Number",-1),zl={class:"field col-12 md:col-3"},Ol={class:"p-float-label"},Wl=l("label",{for:"contactEmail"},"Email",-1),jl={class:"field col-12 md:col-3"},Gl={class:"p-float-label"},Hl=l("label",{for:"contactWeb"},"Website",-1),Jl={class:"card"},Kl=l("h5",null,"Institution Bank Info",-1),Ql={class:"grid p-fluid mt-3"},Xl={class:"field col-12 md:col-4"},Yl={class:"p-float-label"},Zl=l("label",{for:"bankName"},"Bank",-1),le={class:"field col-12 md:col-4"},ee={class:"p-float-label"},te=l("label",{for:"acctName"},"Account Name",-1),oe={class:"field col-12 md:col-4"},ae={class:"p-float-label"},se=l("label",{for:"acctNumber"},"Account Number",-1),ne=l("div",{class:"field col-12 md:col-8"},null,-1),ie={class:"field col-12 md:col-4"},ce={__name:"CreateInstitution",setup(de){const T=Y(),s=new ol,W=Z(),r=a(null),p=a(null),m=a(null),U=a(null),_=a(null),B=a(null),g=a(null),x=a(null),f=a(null),b=a(null),V=a(null),k=a(null),h=a(null),N=a(null),y=a(null),S=a(null),w=a(null),E=a(null);a({});const o=a({}),j=()=>{var I,d,F;if(o.value.name=s.validateFormField(r.value),o.value.type=s.validateFormField(p.value),o.value.city=s.validateFormField(_.value),o.value.contactName=s.validateFormField(f.value),o.value.contactNumber=s.validateFormField(b.value),o.value.contactEmail=s.validateFormField(V.value),o.value.bankName=s.validateFormField(h.value),o.value.acctName=s.validateFormField(N.value),o.value.acctNumber=s.validateFormField(y.value),s.validateRequiredFields(o.value)){s.showError(T,"Please fill in the missing field");return}let e={name:r==null?void 0:r.value,type:(I=p==null?void 0:p.value)==null?void 0:I.id,start_date:m!=null&&m.value?m==null?void 0:m.value:new Date,address:U==null?void 0:U.value,city:(d=_==null?void 0:_.value)==null?void 0:d.id,street:B==null?void 0:B.value,p_o_box:g==null?void 0:g.value,description:x==null?void 0:x.value,contact_name:f==null?void 0:f.value,contact_number:b==null?void 0:b.value,contact_email:V==null?void 0:V.value,contact_web:k==null?void 0:k.value,bank_id:(F=h==null?void 0:h.value)==null?void 0:F.id,acct_name:N==null?void 0:N.value,acct_no:y==null?void 0:y.value,status:"Active"};s.genericRequest("create-institution","post",!0,e).then(C=>{C.status?(s.showSuccess(T,C.message),s.redirect(W,"/view-institutions")):s.showError(T,C.message)})},G=()=>{s.genericRequest("get-institution-types","get",!0,{}).then(i=>{i.status&&(S.value=i.data)})},H=()=>{s.genericRequest("get-city-county-id/1","get",!0,{}).then(i=>{i.status&&(w.value=i.data)})},J=()=>{s.genericRequest("get-bank-ref","get",!0,{}).then(i=>{i.status&&(E.value=i.data)})},u=(i,e)=>{o.value[e]=s.validateFormField(i)};return ll(()=>{G(),H(),J()}),(i,e)=>{var P,R,q,A,D,M,L,z,O;const I=v("Toast"),d=v("InputText"),F=v("Dropdown"),C=v("Calendar"),$=v("Textarea"),K=v("FileUpload"),Q=v("InputMask"),X=v("Button");return el(),tl("div",null,[l("div",al,[sl,l("div",nl,[n(I),l("div",il,[l("span",dl,[n(d,{type:"text",id:"instName",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),onBlur:e[1]||(e[1]=t=>u(r.value,"name")),class:c({"p-invalid":(P=o.value)==null?void 0:P.name})},null,8,["modelValue","class"]),ul])]),l("div",cl,[l("span",ml,[n(F,{id:"instType",onBlur:e[2]||(e[2]=t=>u(p.value,"type")),options:S.value,modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=t=>p.value=t),class:c({"p-invalid":(R=o.value)==null?void 0:R.type}),optionLabel:"name"},null,8,["options","modelValue","class"]),vl])]),l("div",rl,[l("span",pl,[n(C,{id:"instStart",modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=t=>m.value=t)},null,8,["modelValue"]),_l])]),l("div",fl,[l("span",bl,[n($,{id:"textarea",rows:"3",cols:"30",modelValue:U.value,"onUpdate:modelValue":e[5]||(e[5]=t=>U.value=t)},null,8,["modelValue"]),Vl])]),l("div",hl,[l("span",Nl,[n(F,{id:"instCity",options:w.value,modelValue:_.value,"onUpdate:modelValue":e[6]||(e[6]=t=>_.value=t),onBlur:e[7]||(e[7]=t=>u(_.value,"city")),class:c({"p-invalid":(q=o.value)==null?void 0:q.city}),optionLabel:"name"},null,8,["options","modelValue","class"]),yl])]),l("div",Fl,[l("span",Ul,[n(d,{type:"text",id:"instStreet",modelValue:B.value,"onUpdate:modelValue":e[8]||(e[8]=t=>B.value=t)},null,8,["modelValue"]),Bl])]),l("div",gl,[l("span",xl,[n(d,{type:"text",id:"instPOBox",modelValue:g.value,"onUpdate:modelValue":e[9]||(e[9]=t=>g.value=t)},null,8,["modelValue"]),kl])]),l("div",Cl,[l("span",Il,[n($,{id:"instDescription",rows:"3",cols:"30",modelValue:x.value,"onUpdate:modelValue":e[10]||(e[10]=t=>x.value=t)},null,8,["modelValue"]),Tl])]),l("div",Sl,[wl,n(K,{mode:"basic",name:"demo[]",accept:"image/*",maxFileSize:1e6,onUploader:i.onUpload,customUpload:""},null,8,["onUploader"])])])]),l("div",El,[$l,l("div",Pl,[l("div",Rl,[l("span",ql,[n(d,{type:"text",id:"contactName",modelValue:f.value,"onUpdate:modelValue":e[11]||(e[11]=t=>f.value=t),onBlur:e[12]||(e[12]=t=>u(f.value,"contactName")),class:c({"p-invalid":(A=o.value)==null?void 0:A.contactName})},null,8,["modelValue","class"]),Al])]),l("div",Dl,[l("span",Ml,[n(Q,{id:"basic",modelValue:b.value,"onUpdate:modelValue":e[13]||(e[13]=t=>b.value=t),slotChar:"_",mask:"99-999999",placeholder:"25-______",onBlur:e[14]||(e[14]=t=>u(b.value,"contactNumber")),class:c({"p-invalid":(D=o.value)==null?void 0:D.contactNumber})},null,8,["modelValue","class"]),Ll])]),l("div",zl,[l("span",Ol,[n(d,{type:"text",id:"contactEmail",modelValue:V.value,"onUpdate:modelValue":e[15]||(e[15]=t=>V.value=t),onBlur:e[16]||(e[16]=t=>u(V.value,"contactEmail")),class:c({"p-invalid":(M=o.value)==null?void 0:M.contactEmail})},null,8,["modelValue","class"]),Wl])]),l("div",jl,[l("span",Gl,[n(d,{type:"text",id:"contactWeb",modelValue:k.value,"onUpdate:modelValue":e[17]||(e[17]=t=>k.value=t)},null,8,["modelValue"]),Hl])])])]),l("div",Jl,[Kl,l("div",Ql,[l("div",Xl,[l("span",Yl,[n(F,{id:"bankName",options:E.value,modelValue:h.value,"onUpdate:modelValue":e[18]||(e[18]=t=>h.value=t),optionLabel:"name",onBlur:e[19]||(e[19]=t=>u(h.value,"bankName")),class:c({"p-invalid":(L=o.value)==null?void 0:L.bankName})},null,8,["options","modelValue","class"]),Zl])]),l("div",le,[l("span",ee,[n(d,{type:"text",id:"acctName",modelValue:N.value,"onUpdate:modelValue":e[20]||(e[20]=t=>N.value=t),onBlur:e[21]||(e[21]=t=>u(N.value,"acctName")),class:c({"p-invalid":(z=o.value)==null?void 0:z.acctName})},null,8,["modelValue","class"]),te])]),l("div",oe,[l("span",ae,[n(d,{type:"text",id:"acctNumber",modelValue:y.value,"onUpdate:modelValue":e[22]||(e[22]=t=>y.value=t),onBlur:e[23]||(e[23]=t=>u(y.value,"acctNumber")),class:c({"p-invalid":(O=o.value)==null?void 0:O.acctNumber})},null,8,["modelValue","class"]),se])]),ne,l("div",ie,[n(X,{onClick:j,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])])}}};export{ce as default};
