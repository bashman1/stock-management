import{u as Z,r as x,a as p,o as $,w as tt,b as y,c as l,d as i,e as t,f as o,t as a,g as n,h as c,i as v,F as et,j as L,C as st}from"./index-54b662c4.js";class ot{getProductsSmall(){return fetch("demo/data/products-small.json").then(s=>s.json()).then(s=>s.data)}getProducts(){return fetch("demo/data/products.json").then(s=>s.json()).then(s=>s.data)}getProductsWithOrdersSmall(){return fetch("demo/data/products-orders-small.json").then(s=>s.json()).then(s=>s.data)}}const lt={class:"grid"},it={key:0,class:"col-12 lg:col-6 xl:col-3"},nt={class:"card mb-0"},at={class:"flex justify-content-between mb-3"},rt={class:"text-900 font-bold text-xl"},dt={key:1,class:"col-12 lg:col-6 xl:col-3"},ct={class:"card mb-0"},ut={class:"flex justify-content-between mb-3"},bt={class:"text-900 font-bold text-xl"},xt={key:2,class:"col-12 lg:col-6 xl:col-3"},mt={class:"card mb-0"},gt={class:"flex justify-content-between mb-3"},pt={class:"text-900 font-bold text-xl"},vt={key:3,class:"col-12 lg:col-6 xl:col-3"},ht={class:"card mb-0"},ft={class:"flex justify-content-between mb-3"},_t={class:"text-900 font-bold text-xl"},yt={key:4,class:"col-12 lg:col-6 xl:col-3"},kt={class:"card mb-0"},wt={class:"flex justify-content-between mb-3"},St={class:"text-900 font-bold text-xl"},Pt={key:5,class:"col-12 lg:col-6 xl:col-3"},jt={class:"card mb-0"},Vt={class:"flex justify-content-between mb-3"},Ct={class:"text-900 font-bold text-xl"},Dt={key:6,class:"col-12 lg:col-6 xl:col-3"},Tt={class:"card mb-0"},Mt={class:"flex justify-content-between mb-3"},Nt={class:"text-900 font-bold text-xl"},Gt={key:7,class:"col-12 lg:col-6 xl:col-3"},Et={class:"card mb-0"},Ft={class:"flex justify-content-between mb-3"},zt={class:"text-900 font-bold text-xl"},Bt={key:8,class:"col-12 lg:col-6 xl:col-3"},At={class:"card mb-0"},It={class:"flex justify-content-between mb-3"},Rt={class:"text-900 font-bold text-xl"},qt={key:9,class:"col-12 lg:col-6 xl:col-3"},Lt={class:"card mb-0"},Jt={class:"flex justify-content-between mb-3"},Ot={class:"text-900 font-bold text-xl"},Ut={key:10,class:"col-12 lg:col-6 xl:col-3"},Qt={class:"card mb-0"},Wt={class:"flex justify-content-between mb-3"},Ht={class:"text-900 font-bold text-xl"},Kt={key:11,class:"col-12 lg:col-6 xl:col-3"},Xt={class:"card mb-0"},Yt={class:"flex justify-content-between mb-3"},Zt={class:"text-900 font-bold text-xl"},$t={key:12,class:"col-12 lg:col-6 xl:col-3"},te={class:"card mb-0"},ee={class:"flex justify-content-between mb-3"},se={class:"text-900 font-bold text-xl"},oe={key:13,class:"col-12 lg:col-6 xl:col-3"},le={class:"card mb-0"},ie={class:"flex justify-content-between mb-3"},ne={class:"text-900 font-bold text-xl"},ae={key:14,class:"col-12 lg:col-6 xl:col-3"},re={class:"card mb-0"},de={class:"flex justify-content-between mb-3"},ce={class:"text-900 font-bold text-xl"},ue={key:15,class:"col-12 lg:col-6 xl:col-3"},be={class:"card mb-0"},xe={class:"flex justify-content-between mb-3"},me={class:"text-900 font-bold text-xl"},ge={key:16,class:"col-12 lg:col-6 xl:col-3"},pe={class:"card mb-0"},ve={class:"flex justify-content-between mb-3"},he={class:"text-900 font-bold text-xl"},fe={class:"grid"},_e={key:0,class:"col-12 xl:col-6"},ye={class:"card"},ke={key:1,class:"col-12 xl:col-6"},we={class:"card"},Se={key:2,class:"col-12 xl:col-6"},Pe={class:"card"},je={key:3,class:"col-12 xl:col-6"},Ve={class:"card"},Ce={class:"grid"},De={class:"col-12 xl:col-6"},Te={class:"card"},Me={class:"col-12 xl:col-6"},Ne={class:"card"},Ee={__name:"Dashboard",setup(J){const s=new st,{isDarkTheme:O}=Z(),r=x(null);x(["Jan","Feb","Mar","Apr","May","Jun","Jly","Aug","Sep","Oct","Nov","Dec"]);const h=x({}),U=x(null);let f=p({}),_=p({});x([{label:"Add New",icon:"pi pi-fw pi-plus"},{label:"Remove",icon:"pi pi-fw pi-minus"}]);const b=x(null),Q=new ot,W=()=>{s.genericRequest("get-dashboard-stats","get",!0,{}).then(d=>{d.status?(r.value=d.data.count[0],H(d.data),K(d.data),h.value=d.data):s.showError(toast,d.message)})},H=d=>{f=p({labels:s.getMonthsStartingFromCurrent(),datasets:[{label:"No. of Members ",data:s.organizeGraphData(d.membersGraph,"count"),fill:!1,backgroundColor:"rgba(98, 98, 98, 1)",borderColor:"#626262",tension:.4},{label:"No. of Collections",data:s.organizeGraphData(d.collectionGraph,"count"),fill:!1,backgroundColor:"rgba(127, 198, 34, 1)",borderColor:"#7FC622",tension:.4}]})},K=d=>{_=p({labels:s.getMonthsStartingFromCurrent(),datasets:[{label:"No. of Products ",data:s.organizeGraphData(d.productsGraph,"count"),fill:!1,backgroundColor:"rgba(98, 98, 98, 1)",borderColor:"#626262",tension:.4},{label:"No. of Sales",data:s.organizeGraphData(d.salesGraph,"count"),fill:!1,backgroundColor:"rgba(127, 198, 34, 1)",borderColor:"#7FC622",tension:.4}]})};$(()=>{Q.getProductsSmall().then(d=>U.value=d),W()});const X=()=>{b.value={plugins:{legend:{labels:{color:"#495057"}}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{ticks:{color:"#495057"},grid:{color:"#ebedef"}}}}},Y=()=>{b.value={plugins:{legend:{labels:{color:"#ebedef"}}},scales:{x:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}},y:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}}}}};return tt(O,d=>{d?Y():X()},{immediate:!0}),(d,e)=>{var w,S,P,j,V,C,D,T,M,N,G,E,F,z,B,A,I,R,q;const g=y("Chart"),u=y("Column"),k=y("DataTable");return l(),i(et,null,[t("div",lt,[o(s).checkPermissions("CanViewInstitution")?(l(),i("div",it,[t("div",nt,[t("div",at,[t("div",null,[e[0]||(e[0]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Institutions",-1)),t("div",rt,a(o(s).commaSeparator((w=r.value)==null?void 0:w.total_institutions)),1)]),e[1]||(e[1]=t("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-building text-blue-500 text-xl"})],-1))])])])):n("",!0),o(s).checkPermissions("CanViewInstitution")?(l(),i("div",dt,[t("div",ct,[t("div",ut,[t("div",null,[e[2]||(e[2]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Branches",-1)),t("div",bt,a(o(s).commaSeparator((S=r.value)==null?void 0:S.total_branches)),1)]),e[3]||(e[3]=t("div",{class:"flex align-items-center justify-content-center bg-orange-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-share-alt text-orange-500 text-xl"})],-1))])])])):n("",!0),o(s).checkPermissions("ViewUsers")?(l(),i("div",xt,[t("div",mt,[t("div",gt,[t("div",null,[e[4]||(e[4]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Users",-1)),t("div",pt,a(o(s).commaSeparator((P=r.value)==null?void 0:P.total_users)),1)]),e[5]||(e[5]=t("div",{class:"flex align-items-center justify-content-center bg-cyan-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-user text-cyan-500 text-xl"})],-1))])])])):n("",!0),o(s).checkPermissions("ViewMember")?(l(),i("div",vt,[t("div",ht,[t("div",ft,[t("div",null,[e[6]||(e[6]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Members",-1)),t("div",_t,a(o(s).commaSeparator((j=r.value)==null?void 0:j.total_customers)),1)]),e[7]||(e[7]=t("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-users text-green-500 text-xl"})],-1))])])])):n("",!0),o(s).checkPermissions("ViewProducts")?(l(),i("div",yt,[t("div",kt,[t("div",wt,[t("div",null,[e[8]||(e[8]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Products",-1)),t("div",St,a(o(s).commaSeparator((V=r.value)==null?void 0:V.products)),1)]),e[9]||(e[9]=t("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1))])])])):n("",!0),o(s).checkPermissions("ViewSales")?(l(),i("div",Pt,[t("div",jt,[t("div",Vt,[t("div",null,[e[10]||(e[10]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Sales",-1)),t("div",Ct,a(o(s).commaSeparator((C=r.value)==null?void 0:C.sales)),1)]),e[11]||(e[11]=t("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-credit-card text-green-500 text-xl"})],-1))])])])):n("",!0),o(s).checkPermissions("ViewSales")?(l(),i("div",Dt,[t("div",Tt,[t("div",Mt,[t("div",null,[e[12]||(e[12]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Products Sold",-1)),t("div",Nt,a(o(s).commaSeparator((D=r.value)==null?void 0:D.product_sold)),1)]),e[13]||(e[13]=t("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-money-bill text-green-500 text-xl"})],-1))])])])):n("",!0),o(s).checkPermissions("ViewSales")?(l(),i("div",Gt,[t("div",Et,[t("div",Ft,[t("div",null,[e[14]||(e[14]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Total Sales Value",-1)),t("div",zt,a(o(s).commaSeparator((T=r.value)==null?void 0:T.total_sales_value)),1)]),e[15]||(e[15]=t("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-money-bill text-green-500 text-xl"})],-1))])])])):n("",!0),o(s).checkPermissions("ViewSales")?(l(),i("div",Bt,[t("div",At,[t("div",It,[t("div",null,[e[16]||(e[16]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Today's Sales Value",-1)),t("div",Rt,a(o(s).commaSeparator((M=r.value)==null?void 0:M.today_sales_value)),1)]),e[17]||(e[17]=t("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-money-bill text-green-500 text-xl"})],-1))])])])):n("",!0),o(s).checkPermissions("ViewProducts")?(l(),i("div",qt,[t("div",Lt,[t("div",Jt,[t("div",null,[e[18]||(e[18]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Total Stock Value",-1)),t("div",Ot,a(o(s).commaSeparator((N=r.value)==null?void 0:N.total_stock_value)),1)]),e[19]||(e[19]=t("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1))])])])):n("",!0),o(s).checkPermissions("ViewProducts")?(l(),i("div",Ut,[t("div",Qt,[t("div",Wt,[t("div",null,[e[20]||(e[20]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Today's Purchases",-1)),t("div",Ht,a(o(s).commaSeparator((G=r.value)==null?void 0:G.today_stock_value)),1)]),e[21]||(e[21]=t("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1))])])])):n("",!0),o(s).checkPermissions("ViewProducts")?(l(),i("div",Kt,[t("div",Xt,[t("div",Yt,[t("div",null,[e[22]||(e[22]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Today's Markup Value",-1)),t("div",Zt,a(o(s).commaSeparator((E=r.value)==null?void 0:E.today_mark_up)),1)]),e[23]||(e[23]=t("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1))])])])):n("",!0),o(s).checkPermissions("ViewProducts")?(l(),i("div",$t,[t("div",te,[t("div",ee,[t("div",null,[e[24]||(e[24]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Today's Markup Percentage",-1)),t("div",se,a(o(s).commaSeparator((F=r.value)==null?void 0:F.today_mark_up_percentage))+" %",1)]),e[25]||(e[25]=t("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1))])])])):n("",!0),o(s).checkPermissions("ViewProducts")?(l(),i("div",oe,[t("div",le,[t("div",ie,[t("div",null,[e[26]||(e[26]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Total Income",-1)),t("div",ne,a(o(s).commaSeparator((z=r.value)==null?void 0:z.total_income)),1)]),e[27]||(e[27]=t("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1))])])])):n("",!0),o(s).checkPermissions("ViewProducts")?(l(),i("div",ae,[t("div",re,[t("div",de,[t("div",null,[e[28]||(e[28]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Today Income",-1)),t("div",ce,a(o(s).commaSeparator((B=r.value)==null?void 0:B.today_income)),1)]),e[29]||(e[29]=t("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1))])])])):n("",!0),o(s).checkPermissions("ViewProducts")?(l(),i("div",ue,[t("div",be,[t("div",xe,[t("div",null,[e[30]||(e[30]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Total Expenses",-1)),t("div",me,a(o(s).commaSeparator((A=r.value)==null?void 0:A.total_expenses)),1)]),e[31]||(e[31]=t("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1))])])])):n("",!0),o(s).checkPermissions("ViewProducts")?(l(),i("div",ge,[t("div",pe,[t("div",ve,[t("div",null,[e[32]||(e[32]=t("span",{class:"block text-500 font-bold text-xl mb-3"},"Today Expenses",-1)),t("div",he,a(o(s).commaSeparator((I=r.value)==null?void 0:I.today_expenses)),1)]),e[33]||(e[33]=t("div",{class:"flex align-items-center justify-content-center bg-green-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-shopping-bag text-green-500 text-xl"})],-1))])])])):n("",!0)]),t("div",fe,[o(s).checkPermissions("ViewMember")?(l(),i("div",_e,[t("div",ye,[e[34]||(e[34]=t("h5",null,"Member and collection growth ",-1)),c(g,{type:"bar",data:o(f),options:b.value},null,8,["data","options"])])])):n("",!0),o(s).checkPermissions("ViewCollection")?(l(),i("div",ke,[t("div",we,[e[35]||(e[35]=t("h5",null,"Member and collection growth ",-1)),c(g,{type:"line",data:o(f),options:b.value},null,8,["data","options"])])])):n("",!0),o(s).checkPermissions("ViewSales")?(l(),i("div",Se,[t("div",Pe,[e[36]||(e[36]=t("h5",null,"Products and Sales growth ",-1)),c(g,{type:"bar",data:o(_),options:b.value},null,8,["data","options"])])])):n("",!0),o(s).checkPermissions("ViewSales")?(l(),i("div",je,[t("div",Ve,[e[37]||(e[37]=t("h5",null,"Products and Sales growth ",-1)),c(g,{type:"line",data:o(_),options:b.value},null,8,["data","options"])])])):n("",!0)]),t("div",Ce,[t("div",De,[t("div",Te,[e[38]||(e[38]=t("h5",null,"Best Selling Products",-1)),c(k,{value:(R=h.value)==null?void 0:R.bestSellingProduct,stripedRows:"",rows:10,paginator:!0,responsiveLayout:"scroll"},{default:v(()=>[c(u,{field:"name",header:"Name",sortable:!0,style:{width:"35%"}}),c(u,{field:"quantity",header:"Quantity",sortable:!0,style:{width:"35%"}}),c(u,{field:"price",header:"Price",sortable:!0,style:{width:"35%"}},{body:v(m=>[L(a(o(s).commaSeparator(m.data.selling_price)),1)]),_:1}),c(u,{field:"",header:"MarkUp",sortable:!0,style:{width:"40%"}},{body:v(m=>[L(a(o(s).commaSeparator(m.data.quantity*(m.data.selling_price-m.data.purchase_price))),1)]),_:1})]),_:1},8,["value"])])]),t("div",Me,[t("div",Ne,[e[39]||(e[39]=t("h5",null,"Products About To Expire",-1)),c(k,{value:(q=h.value)==null?void 0:q.productAboutToExpire,stripedRows:"",rows:10,paginator:!0,responsiveLayout:"scroll"},{default:v(()=>[c(u,{field:"name",header:"Name",sortable:!0,style:{width:"35%"}}),c(u,{field:"quantity",header:"Stock",sortable:!0,style:{width:"20%"}}),c(u,{field:"days_difference",header:"Days Remaining",sortable:!0,style:{width:"35%"}}),c(u,{field:"expiry_date",header:"Expiry",sortable:!0,style:{width:"35%"}})]),_:1},8,["value"])])])])],64)}}};export{Ee as default};
