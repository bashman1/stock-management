import{l as B,m as T,k as C,r as v,o as D,b as c,c as k,d as M,e as u,h as t,i as a,j as i,t as m,C as N}from"./index-8e665213.js";const S={class:"grid"},x={class:"col-12"},A={className:"card"},P=u("h5",null,"Approve Batch",-1),R={class:"my-2"},q={__name:"ApproveBulkMember",setup(E){B();const p=T(),_=C(),n=new N,h=v(null),r=v(null),b=d=>{let s={status:"Pending",batchId:d};n.genericRequest("get-batch-members","post",!0,s).then(l=>{l.status?h.value=l.data:n.showError(_,l.message)})},y=()=>{let d={members:r.value,status:"Active"};n.genericRequest("approve-batch-member","post",!0,d).then(s=>{s.status?(n.showSuccess(_,s.message),b(p.params.id)):n.showError(_,s.message)})};return D(()=>{b(p.params.id)}),(d,s)=>{const l=c("Toast"),g=c("Button"),w=c("Toolbar"),o=c("Column"),f=c("DataTable");return k(),M("div",S,[u("div",x,[u("div",A,[P,t(l),t(w,{class:"mb-4"},{start:a(()=>[u("div",R,[t(g,{label:"Approve",icon:"pi pi-check",class:"p-button-success",onClick:y,disabled:!r.value||!r.value.length},null,8,["disabled"])])]),end:a(()=>[]),_:1}),t(f,{value:h.value,paginator:!0,class:"p-datatable-gridlines",rows:10,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll",selection:r.value,"onUpdate:selection":s[0]||(s[0]=e=>r.value=e),rowsPerPageOptions:[5,10,25]},{default:a(()=>[t(o,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:a(({data:e})=>[i(m(e.first_name+" "+e.last_name+" "+e.other_name),1)]),_:1}),t(o,{header:"Gender",style:{"min-width":"10rem"}},{body:a(({data:e})=>[i(m(e.gender),1)]),_:1}),t(o,{header:"Phone Number",style:{"min-width":"12rem"}},{body:a(({data:e})=>[i(m(e.phone_number),1)]),_:1}),t(o,{header:"Status",style:{"min-width":"10rem"}},{body:a(({data:e})=>[i(m(e.status),1)]),_:1}),t(o,{header:"Date",style:{"min-width":"10rem"}},{body:a(({data:e})=>[i(m(e.created_at),1)]),_:1}),t(o,{selectionMode:"multiple",headerStyle:"width: 3rem"})]),_:1},8,["value","selection"])])])])}}};export{q as default};
