import{k as b,r as h,l as f,m as R,o as C,c as i,d as u,e as o,t as m,F as y,s as S,j as w,C as B}from"./index-b5c7fff2.js";const I={className:"card"},N={class:"text-500"},P={class:"grid"},j={class:"field-checkbox mb-0"},q={class:"text-900"},A=["onChange","checked"],T={__name:"AssignRolePermissions",setup(E){const _=b(),s=h(null),r=h(null),a=new B;f();const g=R(),v=t=>{a.genericRequest("get-role/"+t,"get",!0,{}).then(e=>{e.status?s.value=e.data:a.showError(_,e.message)})},k=(t,e)=>{let c={permissionId:e.id,event:t.target.checked,roleId:r.value};a.genericRequest("assign-role-permission","post",!0,c).then(n=>{n.status})},p=t=>{var e;return a.existingRolePermission((e=s==null?void 0:s.value)==null?void 0:e.rolePermissions,t)};return C(()=>{r.value=g.params.id,v(r.value)}),(t,e)=>{var c,n,d;return i(),u("div",I,[o("h5",N,m((n=(c=s.value)==null?void 0:c.role)==null?void 0:n.name),1),o("div",P,[(i(!0),u(y,null,S((d=s.value)==null?void 0:d.permissions,l=>(i(),u("div",{class:"col-12 md:col-3",key:l.id},[o("div",j,[o("label",q,[o("input",{id:"my-checkbox",type:"checkbox",onChange:x=>k(x,l),checked:p(l),class:"large-checkbox"},null,40,A),w(" "+m(l.name),1)])])]))),128))])])}}};export{T as default};
