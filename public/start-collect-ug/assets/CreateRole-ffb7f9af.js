import{h as C,i as R,r as s,o as B,b as d,c as f,d as b,e,f as n,l as D,C as N}from"./index-c4c349fe.js";const S={class:"card"},U=e("h5",null,"Create Role",-1),k={class:"grid p-fluid mt-3"},A={class:"field col-12 md:col-4"},q={class:"p-float-label"},E=e("label",{for:"firstName"},"Name",-1),L={class:"field col-12 md:col-4"},M={class:"p-float-label"},O=e("label",{for:"type"},"Type",-1),j={key:0,class:"field col-12 md:col-4"},z={class:"p-float-label"},F=e("label",{for:"institution"},"Institution",-1),G={class:"field col-12 md:col-12"},H={class:"p-float-label"},J=e("label",{for:"description"},"Description",-1),K=e("div",{class:"field col-12 md:col-8"},null,-1),P={class:"field col-12 md:col-4"},X={__name:"CreateRole",setup(Q){const p=C(),a=new N,h=R(),c=s(null),i=s(null),m=s(null),o=s(null),r=s(null),V=s([{label:"Admin Role",value:"Admin"},{label:"Institution Role",value:"Institution"}]),y=()=>{let u={name:c.value,type:i.value.value,institution_id:o.value,description:r.value,institution_id:o.value!=null?o==null?void 0:o.value.id:null,role_type:i.value.value,status:"Active"};a.genericRequest("crate-role","post",!0,u).then(t=>{t.status?(a.showSuccess(p,t.message),a.redirect(h,"/view-roles")):a.showError(p,t.message)})},I=()=>{a.genericRequest("get-institutions","get",!0,{}).then(u=>{u.status&&(m.value=u.data)})};return B(()=>{I()}),(u,t)=>{var v;const T=d("Toast"),g=d("InputText"),_=d("Dropdown"),w=d("Textarea"),x=d("Button");return f(),b("div",null,[e("div",S,[U,e("div",k,[n(T),e("div",A,[e("span",q,[n(g,{type:"text",id:"name",modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=l=>c.value=l)},null,8,["modelValue"]),E])]),e("div",L,[e("span",M,[n(_,{id:"type",options:V.value,modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=l=>i.value=l),optionLabel:"label"},null,8,["options","modelValue"]),O])]),((v=i.value)==null?void 0:v.value)=="Institution"?(f(),b("div",j,[e("span",z,[n(_,{id:"institution",options:m.value,modelValue:o.value,"onUpdate:modelValue":t[2]||(t[2]=l=>o.value=l),optionLabel:"name"},null,8,["options","modelValue"]),F])])):D("",!0),e("div",G,[e("span",H,[n(w,{inputId:"description",rows:"3",cols:"30",modelValue:r.value,"onUpdate:modelValue":t[3]||(t[3]=l=>r.value=l)},null,8,["modelValue"]),J])]),K,e("div",P,[n(x,{onClick:y,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])])}}};export{X as default};
