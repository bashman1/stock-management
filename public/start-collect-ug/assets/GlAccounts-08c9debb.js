import{i as k,r as d,j as A,m as E,o as S,b as r,c as V,d as F,h as a,k as n,f as c,l as u,t as m,n as G,C as R}from"./index-f2ea6839.js";const M={className:"card"},U=c("h5",null,"Chart Of Accounts",-1),q={style:{"padding-top":"20px"}},I={class:"grid p-fluid"},L={class:"field col-12 md:col-12"},$={class:"p-float-label"},j=c("label",{for:"description"},"Description",-1),K={__name:"GlAccounts",setup(z){const p=k(),h=d(null),s=new R;A(),E();const _=d(!1),i=d(null),y=d(null),v=d({});d(null);const w=()=>{s.genericRequest("get-gl-accounts","get",!0,{}).then(t=>{t.status?h.value=t.data:s.showError(p,t.message)})},C=(t,o)=>{v.value[o]=s.validateFormField(t)},N=t=>{i.value=t.description,y.value=t.acct_no,f(!0)},f=t=>{_.value=t},B=()=>{if(v.value.description=s.validateFormField(i.value),s.validateRequiredFields(v.value)){s.showError(p,"Please fill in the missing field");return}let o={description:i.value,acctNo:y.value};s.genericRequest("update-gl-account","post",!0,o).then(l=>{l.status?(s.showSuccess(p,l.message),w(),f(!1)):s.showError(p,l.message)})};return S(()=>{w()}),(t,o)=>{const l=r("Column"),b=r("Button"),x=r("DataTable"),D=r("Textarea"),T=r("Dialog");return V(),F("div",M,[U,a(x,{value:h.value,paginator:!0,class:"p-datatable-gridlines",rows:20,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:n(()=>[a(l,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:n(({data:e})=>[u(m(e.description),1)]),_:1}),a(l,{field:"name",header:"Acct No.",style:{"min-width":"10rem"}},{body:n(({data:e})=>[u(m(e.acct_no),1)]),_:1}),a(l,{field:"name",header:"Acct Type",style:{"min-width":"10rem"}},{body:n(({data:e})=>[u(m(e.acct_type),1)]),_:1}),a(l,{field:"name",header:"Ledger No.",style:{"min-width":"10rem"}},{body:n(({data:e})=>[u(m(e.gl_no),1)]),_:1}),a(l,{field:"name",header:"Acct Balance",style:{"min-width":"10rem"}},{body:n(({data:e})=>[u(m(e.balance),1)]),_:1}),a(l,{headerStyle:"max-width:10rem;"},{body:n(({data:e})=>[a(b,{icon:"pi pi-file-edit",class:"p-button-rounded p-button-success mr-2",onClick:g=>N(e)},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),a(T,{header:"Update Ledger Name",visible:_.value,"onUpdate:visible":o[3]||(o[3]=e=>_.value=e),style:{width:"30vw"},modal:!0,class:"p-fluid"},{footer:n(()=>[a(b,{label:"Cancel",onClick:o[2]||(o[2]=e=>f(!1)),icon:"pi pi-times",class:"p-button-outlined p-button-danger mr-2 mb-2"}),a(b,{onClick:B,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})]),default:n(()=>{var e;return[c("p",q,[c("div",I,[c("div",L,[c("span",$,[a(D,{inputId:"description",onBlur:o[0]||(o[0]=g=>C(i.value,"description")),rows:"7",modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=g=>i.value=g),class:G({"p-invalid":(e=v.value)==null?void 0:e.description})},null,8,["modelValue","class"]),j])])])])]}),_:1},8,["visible"])])}}};export{K as default};
