import{l as R,m as D,r as v,o as x,b as d,s as B,c as L,d as N,e as u,h as t,i as o,k as s,t as i,f as p,v as g,C as V}from"./index-68bb68b2.js";const q={class:"card"},A=u("h5",null,"Products report.",-1),U={class:"my-2"},I={__name:"ProductsReport",setup(E){R();const c=new V,_=D(),y=v(null),h=v(!1),w=()=>{let n={status:"Active"};c.genericRequest("get-products-report","post",!0,n).then(a=>{a.status&&(y.value=a.data)})},C=n=>{_.push("/product-inventory-report/"+n.id)},T=n=>{_.push("/products-sales-report/"+n.id)},f=()=>{try{h.value=!0,c.genericRequest("download-product-report","get",!0,{},!0).then(n=>{const a=window.URL.createObjectURL(new Blob([n])),l=document.createElement("a");l.href=a,l.setAttribute("download","product_reports.pdf"),document.body.appendChild(l),l.click()})}catch(n){console.log(n)}finally{h.value=!1}};return x(()=>{w()}),(n,a)=>{const l=d("Toast"),m=d("Button"),k=d("Toolbar"),r=d("Column"),S=d("DataTable"),b=B("tooltip");return L(),N("div",null,[u("div",q,[A,t(l),t(k,{class:"mb-4"},{end:o(()=>[u("div",U,[t(m,{label:"CSV",icon:"pi pi-file-excel",class:"p-button-success mr-2",onClick:a[0]||(a[0]=()=>f())}),t(m,{label:"PDF",icon:"pi pi-file-pdf",class:"p-button-danger",onClick:a[1]||(a[1]=()=>f())})])]),_:1}),t(S,{value:y.value,paginator:!0,class:"p-datatable-gridlines",rows:20,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:o(()=>[t(r,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:o(({data:e})=>[s(i(e.name),1)]),_:1}),t(r,{field:"name",header:"Type",style:{"min-width":"10rem"}},{body:o(({data:e})=>[s(i(e.type_name),1)]),_:1}),t(r,{field:"name",header:"Category",style:{"min-width":"10rem"}},{body:o(({data:e})=>[s(i(e.category_name),1)]),_:1}),t(r,{field:"name",header:"Quantity",style:{"min-width":"10rem"}},{body:o(({data:e})=>[s(i(p(c).commaSeparator(e.quantity)),1)]),_:1}),t(r,{field:"name",header:"Measurement",style:{"min-width":"10rem"}},{body:o(({data:e})=>[s(i(e.measurement_unit_name),1)]),_:1}),t(r,{field:"name",header:"Purchase Price",style:{"min-width":"10rem"}},{body:o(({data:e})=>[s(i(p(c).commaSeparator(e.purchase_price)),1)]),_:1}),t(r,{field:"name",header:"Selling Price",style:{"min-width":"10rem"}},{body:o(({data:e})=>[s(i(p(c).commaSeparator(e.selling_price)),1)]),_:1}),t(r,{field:"name",header:"Product No.",style:{"min-width":"10rem"}},{body:o(({data:e})=>[s(i(e.product_no),1)]),_:1}),t(r,{field:"name",header:"VAT Tax",style:{"min-width":"10rem"}},{body:o(({data:e})=>[s(i(e.tax_config),1)]),_:1}),t(r,{headerStyle:"min-width:10rem;"},{body:o(({data:e})=>[g(t(m,{icon:"pi pi-shopping-bag",onClick:P=>C(e),class:"p-button-primary mr-2"},null,8,["onClick"]),[[b,"Inventory report"]]),g(t(m,{icon:"pi pi-ticket",onClick:P=>T(e),class:"p-button-success mr-2"},null,8,["onClick"]),[[b,"Sales report"]])]),_:1})]),_:1},8,["value"])])])}}};export{I as default};
