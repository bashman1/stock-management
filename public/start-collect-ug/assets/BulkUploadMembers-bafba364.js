import{k as h,l as f,r as c,b as r,c as v,d as b,e,h as d,C as w}from"./index-6b6a99b7.js";const g={class:"card"},k=e("h5",null,"Bulk Upload",-1),B=e("a",{href:"demo/documents/upload_bulk_members.xlsx"},[e("i",{class:"pi pi-cloud-download",style:{"font-size":"2rem"}}),e("p",null,"Download template")],-1),x={class:"grid p-fluid mt-3"},C={class:"field col-12 md:col-12"},S=e("div",{class:"field col-12 md:col-8"},null,-1),y={class:"field col-12 md:col-4"},F={__name:"BulkUploadMembers",setup(T){const n=h(),t=new w,i=f(),a=c(null);c(null);const u=s=>{a.value=s.target.files[0]},m=async()=>{if(!a.value)return;const s=new FormData;s.append("file",a.value),s.append("name",a.value.name);try{const o=await fetch(t.baseUrl+"upload-members",{method:"POST",body:s,headers:{Authorization:`Bearer ${t.getStorage().token}`}});if(!o.ok)throw new Error("Upload failed");const l=await o.json();t.showSuccess(n,l.message),i.push("/view-uploaded-members")}catch(o){console.error(o.message),t.showError(n,o.message)}};return(s,o)=>{const l=r("Toast"),p=r("Button");return v(),b("div",g,[k,B,e("div",x,[d(l),e("div",C,[e("input",{type:"file",accept:".xlsx, .xls",onChange:o[0]||(o[0]=_=>u(_))},null,32)]),S,e("div",y,[d(p,{onClick:m,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])}}};export{F as default};
