import{h as L,i as z,r as o,o as j,b as d,c as G,d as H,e as t,f as s,C as J}from"./index-c4c349fe.js";const K={class:"card"},Q=t("h5",null,"Create Institution",-1),X={class:"grid p-fluid mt-3"},Y={class:"field col-12 md:col-4"},Z={class:"p-float-label"},$=t("label",{for:"instName"},"Institution Name",-1),tt={class:"field col-12 md:col-4"},lt={class:"p-float-label"},et=t("label",{for:"instType"},"Institution Type",-1),ot={class:"field col-12 md:col-4"},st={class:"p-float-label"},at=t("label",{for:"instStart"},"Start Date",-1),nt={class:"field col-12 md:col-12"},dt={class:"p-float-label"},it=t("label",{for:"textarea"},"Address",-1),ct={class:"field col-12 md:col-4"},ut={class:"p-float-label"},mt=t("label",{for:"instCity"},"City",-1),_t={class:"field col-12 md:col-4"},pt={class:"p-float-label"},rt=t("label",{for:"instStreet"},"Street",-1),vt={class:"field col-12 md:col-4"},ft={class:"p-float-label"},bt=t("label",{for:"instPOBox"},"P.O Box",-1),Vt={class:"field col-12 md:col-10"},ht={class:"p-float-label"},yt=t("label",{for:"instDescription"},"Description",-1),Nt={class:"field col-12 md:col-2"},Ut=t("h5",null,"Attachment",-1),xt={class:"card"},gt=t("h5",null,"Institution Contact Info",-1),Ct={class:"grid p-fluid mt-3"},kt={class:"field col-12 md:col-3"},Bt={class:"p-float-label"},It=t("label",{for:"contactName"},"Contact Person Name",-1),Tt={class:"field col-12 md:col-3"},St={class:"p-float-label"},wt=t("label",{for:"contactNumber"},"Phone Number",-1),Dt={class:"field col-12 md:col-3"},Et={class:"p-float-label"},At=t("label",{for:"contactEmail"},"Email",-1),Pt={class:"field col-12 md:col-3"},Rt={class:"p-float-label"},qt=t("label",{for:"contactWeb"},"Website",-1),Mt={class:"card"},Ot=t("h5",null,"Institution Bank Info",-1),Wt={class:"grid p-fluid mt-3"},Ft={class:"field col-12 md:col-4"},Lt={class:"p-float-label"},zt=t("label",{for:"bankName"},"Bank",-1),jt={class:"field col-12 md:col-4"},Gt={class:"p-float-label"},Ht=t("label",{for:"acctName"},"Account Name",-1),Jt={class:"field col-12 md:col-4"},Kt={class:"p-float-label"},Qt=t("label",{for:"acctNumber"},"Account Number",-1),Xt=t("div",{class:"field col-12 md:col-8"},null,-1),Yt={class:"field col-12 md:col-4"},tl={__name:"CreateInstitution",setup(Zt){const C=L(),i=new J,w=z(),c=o(null),u=o(null),m=o(null),_=o(null),p=o(null),r=o(null),v=o(null),f=o(null),b=o(null),V=o(null),h=o(null),y=o(null),N=o(null),U=o(null),x=o(null),k=o(null),B=o(null),I=o(null),T=o({}),D=()=>{let a={name:c.value,type:u.value.id,start_date:m.value,address:_.value,city:p.value.id,street:r.value,p_o_box:v.value,description:f.value,contact_name:b.value,contact_number:V.value,contact_email:h.value,contact_web:y.value,bank_id:N.value.id,acct_name:U.value,acct_no:x.value,status:"Active"};i.genericRequest("create-institution","post",!0,a).then(l=>{l.status?(i.showSuccess(C,l.message),i.redirect(w,"/view-institutions")):i.showError(C,l.message)})},E=()=>{i.genericRequest("get-institution-types","get",!0,{}).then(a=>{a.status&&(k.value=a.data)})},A=()=>{i.genericRequest("get-city-county-id/1","get",!0,{}).then(a=>{a.status&&(B.value=a.data)})},P=()=>{i.genericRequest("get-bank-ref","get",!0,{}).then(a=>{a.status&&(I.value=a.data)})},R=(a,l)=>{console.log(a),a==null||a.trim()==""?T.value[l]=!0:T.value[l]=!1};return j(()=>{E(),A(),P()}),(a,l)=>{const q=d("Toast"),n=d("InputText"),g=d("Dropdown"),M=d("Calendar"),S=d("Textarea"),O=d("FileUpload"),W=d("InputMask"),F=d("Button");return G(),H("div",null,[t("div",K,[Q,t("div",X,[s(q),t("div",Y,[t("span",Z,[s(n,{type:"text",id:"instName",modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=e=>c.value=e)},null,8,["modelValue"]),$])]),t("div",tt,[t("span",lt,[s(g,{id:"instType",onBlur:l[1]||(l[1]=e=>R(e.value,"type")),options:k.value,modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=e=>u.value=e),optionLabel:"name"},null,8,["options","modelValue"]),et])]),t("div",ot,[t("span",st,[s(M,{id:"instStart",modelValue:m.value,"onUpdate:modelValue":l[3]||(l[3]=e=>m.value=e)},null,8,["modelValue"]),at])]),t("div",nt,[t("span",dt,[s(S,{id:"textarea",rows:"3",cols:"30",modelValue:_.value,"onUpdate:modelValue":l[4]||(l[4]=e=>_.value=e)},null,8,["modelValue"]),it])]),t("div",ct,[t("span",ut,[s(g,{id:"instCity",options:B.value,modelValue:p.value,"onUpdate:modelValue":l[5]||(l[5]=e=>p.value=e),optionLabel:"name"},null,8,["options","modelValue"]),mt])]),t("div",_t,[t("span",pt,[s(n,{type:"text",id:"instStreet",modelValue:r.value,"onUpdate:modelValue":l[6]||(l[6]=e=>r.value=e)},null,8,["modelValue"]),rt])]),t("div",vt,[t("span",ft,[s(n,{type:"text",id:"instPOBox",modelValue:v.value,"onUpdate:modelValue":l[7]||(l[7]=e=>v.value=e)},null,8,["modelValue"]),bt])]),t("div",Vt,[t("span",ht,[s(S,{id:"instDescription",rows:"3",cols:"30",modelValue:f.value,"onUpdate:modelValue":l[8]||(l[8]=e=>f.value=e)},null,8,["modelValue"]),yt])]),t("div",Nt,[Ut,s(O,{mode:"basic",name:"demo[]",accept:"image/*",maxFileSize:1e6,onUploader:a.onUpload,customUpload:""},null,8,["onUploader"])])])]),t("div",xt,[gt,t("div",Ct,[t("div",kt,[t("span",Bt,[s(n,{type:"text",id:"contactName",modelValue:b.value,"onUpdate:modelValue":l[9]||(l[9]=e=>b.value=e)},null,8,["modelValue"]),It])]),t("div",Tt,[t("span",St,[s(W,{id:"basic",modelValue:V.value,"onUpdate:modelValue":l[10]||(l[10]=e=>V.value=e),slotChar:"_",mask:"99-999999",placeholder:"25-______"},null,8,["modelValue"]),wt])]),t("div",Dt,[t("span",Et,[s(n,{type:"text",id:"contactEmail",modelValue:h.value,"onUpdate:modelValue":l[11]||(l[11]=e=>h.value=e)},null,8,["modelValue"]),At])]),t("div",Pt,[t("span",Rt,[s(n,{type:"text",id:"contactWeb",modelValue:y.value,"onUpdate:modelValue":l[12]||(l[12]=e=>y.value=e)},null,8,["modelValue"]),qt])])])]),t("div",Mt,[Ot,t("div",Wt,[t("div",Ft,[t("span",Lt,[s(g,{id:"bankName",options:I.value,modelValue:N.value,"onUpdate:modelValue":l[13]||(l[13]=e=>N.value=e),optionLabel:"name"},null,8,["options","modelValue"]),zt])]),t("div",jt,[t("span",Gt,[s(n,{type:"text",id:"acctName",modelValue:U.value,"onUpdate:modelValue":l[14]||(l[14]=e=>U.value=e)},null,8,["modelValue"]),Ht])]),t("div",Jt,[t("span",Kt,[s(n,{type:"text",id:"acctNumber",modelValue:x.value,"onUpdate:modelValue":l[15]||(l[15]=e=>x.value=e)},null,8,["modelValue"]),Qt])]),Xt,t("div",Yt,[s(F,{onClick:D,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])])}}};export{tl as default};
