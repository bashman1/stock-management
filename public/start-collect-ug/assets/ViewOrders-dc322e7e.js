import{i as D,r as u,j as R,m as T,o as k,b as _,c as B,d as x,h as t,k as o,f as s,l as n,t as a,e as c,C as V}from"./index-ea893de7.js";const q={className:"card"},I=s("h5",null,"View Sales",-1),M={style:{padding:"20px"}},P={class:"grid p-fluid"},E={class:"field col-6 md:col-6"},H={class:"p-float-label"},K={for:"unitName"},L={class:"field col-6 md:col-6"},O={class:"p-float-label"},$={for:"unitName"},j={class:"field col-6 md:col-6"},A={class:"p-float-label"},Q={for:"unitName"},U={class:"field col-6 md:col-6"},z={class:"p-float-label"},F={for:"unitName"},G=s("hr",null,null,-1),J={class:"grid p-fluid"},Z={__name:"ViewOrders",setup(W){const h=D(),f=u(null),p=u(!1),y=u(null),d=new V,m=u({});R(),T();const w=()=>{d.genericRequest("get-orders","get",!0,{}).then(l=>{l.status?f.value=l.data:d.showError(h,l.message)})},g=l=>{N(!0),m.value=l,S(l==null?void 0:l.id)},S=l=>{d.genericRequest("get-orders-details/"+l,"get",!0,{}).then(r=>{r.status?y.value=r.data:d.showError(h,r.message)})},N=l=>{p.value=l};return k(()=>{w()}),(l,r)=>{const i=_("Column"),b=_("Button"),v=_("DataTable"),C=_("Dialog");return B(),x("div",q,[I,t(v,{value:f.value,paginator:!0,class:"p-datatable-gridlines",rows:10,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:o(()=>[t(i,{field:"Ref No.",header:"Product",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.ref_no),1)]),_:1}),t(i,{field:"Receipt No.",header:"Receipt No.",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.receipt_no),1)]),_:1}),t(i,{field:"name",header:"Item Count",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.item_count),1)]),_:1}),t(i,{field:"name",header:"Amount Paid",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(c(d).commaSeparator(e.amount_paid)),1)]),_:1}),t(i,{field:"name",header:"Cost",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(c(d).commaSeparator(e.total)),1)]),_:1}),t(i,{field:"name",header:"Change",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(c(d).commaSeparator(e.amount_paid-e.total)),1)]),_:1}),t(i,{header:"Discount",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(c(d).commaSeparator(e.discount)),1)]),_:1}),t(i,{header:"Status",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.payment_status),1)]),_:1}),t(i,{header:"Date",style:{"max-width":"10rem"}},{body:o(({data:e})=>[n(a(e.created_at),1)]),_:1}),t(i,{headerStyle:"min-width:10rem;"},{body:o(({data:e})=>[t(b,{icon:"pi pi-info",class:"p-button-rounded p-button-success mr-2",onClick:X=>g(e)},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),t(C,{header:"Sales Details",visible:p.value,"onUpdate:visible":r[1]||(r[1]=e=>p.value=e),style:{width:"33vw"},modal:!0,class:"p-fluid"},{footer:o(()=>[t(b,{label:"Cancel",onClick:r[0]||(r[0]=e=>l.toggleTypeModal(!1)),icon:"pi pi-times",class:"p-button-outlined p-button-danger mr-2 mb-2"})]),default:o(()=>[s("p",M,[s("div",P,[s("div",E,[s("span",H,[s("label",K,"Ref No.: "+a(m.value.ref_no),1)])]),s("div",L,[s("span",O,[s("label",$,"Receipt No.: "+a(m.value.receipt_no),1)])]),s("div",j,[s("span",A,[s("label",Q,"Item Count: "+a(m.value.item_count),1)])]),s("div",U,[s("span",z,[s("label",F,"Total: "+a(c(d).commaSeparator(m.value.total)),1)])]),G]),s("div",J,[t(v,{value:y.value,paginator:!0,class:"p-datatable-gridlines",rows:10,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:o(()=>[t(i,{field:"Ref No.",header:"Item",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.name),1)]),_:1}),t(i,{field:"Receipt No.",header:"Price",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(c(d).commaSeparator(e.price)),1)]),_:1}),t(i,{field:"name",header:"Qty",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.qty),1)]),_:1}),t(i,{field:"name",header:"Sub Total",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(c(d).commaSeparator(e.price*e.qty)),1)]),_:1})]),_:1},8,["value"])])])]),_:1},8,["visible"])])}}};export{Z as default};
