import{k as tl,l as nl,m as il,r as s,A as ul,o as dl,b as C,c as ml,d as vl,e,h as n,n as m,F as rl,_ as pl,C as fl}from"./index-698191a2.js";const cl={class:"py-6 px-6"},bl={class:"card p-fluid"},Vl={class:"grid p-fluid"},Nl={class:"field col-12 md:col-3"},gl=["src"],wl={class:"field col-12 md:col-6"},yl={class:"p-float-label"},xl={class:"field col-12 md:col-6"},Bl={class:"p-float-label"},Fl={class:"field col-12 md:col-12"},Ul={class:"p-float-label"},kl={class:"field col-12 md:col-6"},Pl={class:"p-float-label"},_l={class:"field col-12 md:col-6"},Tl={class:"p-float-label"},Il={class:"field col-12 md:col-12"},$l={class:"p-float-label"},Cl={class:"field col-12 md:col-4"},Sl={class:"p-float-label"},El={class:"field col-12 md:col-4"},Rl={class:"p-float-label"},Ll={class:"field col-12 md:col-4"},ql={class:"p-float-label"},Al={class:"field col-12 md:col-4"},Dl={class:"p-float-label"},Ol={class:"field col-12 md:col-4"},Ml={class:"p-float-label"},zl={class:"field col-12 md:col-4"},jl={class:"p-float-label"},Gl={class:"field col-12 md:col-6"},Hl={class:"p-float-label"},Jl={class:"field col-12 md:col-6"},Kl={class:"p-float-label"},Ql={class:"field col-12 md:col-6"},Xl={class:"p-float-label"},Yl={class:"field col-12 md:col-6"},Zl={class:"p-float-label"},Wl={class:"field col-12 md:col-4"},ee={__name:"SelfEnroll",setup(hl){const E=tl(),t=new fl,q=nl();il();const r=s(null),p=s(null),b=s(null),B=s(null),f=s(null),R=s(null),F=s(null),U=s(null);s(null);const c=s(null);s(null);const L=s(null),V=s(null),N=s(null),g=s(null),A=s(null),D=s(null),O=s(null);s({});const a=s({}),k=s({id:1,name:"Enable tax",value:!0});s(null);const w=s(null),y=s(null),S=s(null),v=s(null),P=s(null),_=s(null),h=()=>{t.genericRequest("get-institution-types","get",!1,{}).then(u=>{u.status&&(A.value=u.data)})},ll=ul(()=>"demo/images/SmarCollectlogo-removebg-preview.png"),el=()=>{t.genericRequest("get-city-county-id/1","get",!1,{}).then(u=>{u.status&&(D.value=u.data)})},ol=()=>{t.genericRequest("get-bank-ref","get",!1,{}).then(u=>{u.status&&(O.value=u.data)})},i=(u,l)=>{a.value[l]=t.validateFormField(u)},sl=()=>{var d,x,T,I;if(a.value.name=t.validateFormField(r.value),a.value.type=t.validateFormField(p.value),a.value.city=t.validateFormField(f.value),a.value.contactNumber=t.validateFormField(c.value),a.value.taxConfig=t.validateFormField(k.value),a.value.fName=t.validateFormField(w.value),a.value.lName=t.validateFormField(y.value),a.value.email=t.validateFormField(v.value),a.value.password=t.validateFormField(P.value),a.value.confirmPassword=t.validateFormField(_.value),t.validateRequiredFields(a.value)){t.showError(E,"Please fill in the missing field");return}let l={id:null,name:r==null?void 0:r.value,type:(d=p==null?void 0:p.value)==null?void 0:d.id,start_date:b!=null&&b.value?b==null?void 0:b.value:new Date,address:B==null?void 0:B.value,city:(x=f==null?void 0:f.value)==null?void 0:x.id,street:R==null?void 0:R.value,p_o_box:F==null?void 0:F.value,description:U==null?void 0:U.value,contact_name:w.value+" "+y.value+" "+S.value,contact_number:c==null?void 0:c.value,contact_email:v==null?void 0:v.value,contact_web:L==null?void 0:L.value,bank_id:(T=V==null?void 0:V.value)==null?void 0:T.id,acct_name:N==null?void 0:N.value,acct_no:g==null?void 0:g.value,tax_config:(I=k==null?void 0:k.value)==null?void 0:I.value,tin:k.value.name,status:"Pending",first_name:w.value,last_name:y.value,other_name:S.value,email:v.value,password:P.value,confirm_password:_.value};t.genericRequest("institution-self-registration","post",!1,l).then($=>{$.status?(t.showSuccess(E,$.message),t.redirect(q,"/view-institutions")):t.showError(E,$.message)})},al=()=>{q.push("/auth/login")};return dl(()=>{h(),el(),ol()}),(u,l)=>{var M,z,j,G,H,J,K,Q,X,Y,Z,W;const d=C("InputText"),x=C("Dropdown"),T=C("Textarea"),I=C("Password"),$=C("Button");return ml(),vl(rl,null,[e("div",cl,[e("div",bl,[e("div",Vl,[e("div",Nl,[e("img",{src:ll.value,alt:"Sakai logo",class:"mb-5 w-20rem flex-shrink-0"},null,8,gl)]),l[44]||(l[44]=e("div",{class:"field col-12 md:col-9"},[e("h2",{class:"text-right mt-6"},"Please fill in to register")],-1)),l[45]||(l[45]=e("div",{class:"col-12 md:col-12"},[e("h5",null,"Institution Basic Info")],-1)),e("div",wl,[e("span",yl,[n(d,{type:"text",id:"instName",modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=o=>r.value=o),onBlur:l[1]||(l[1]=o=>i(r.value,"name")),class:m({"p-invalid":(M=a.value)==null?void 0:M.name})},null,8,["modelValue","class"]),l[28]||(l[28]=e("label",{for:"instName"},"Institution Name",-1))])]),e("div",xl,[e("span",Bl,[n(x,{id:"instType",onBlur:l[2]||(l[2]=o=>i(p.value,"type")),options:A.value,modelValue:p.value,"onUpdate:modelValue":l[3]||(l[3]=o=>p.value=o),class:m({"p-invalid":(z=a.value)==null?void 0:z.type}),optionLabel:"name"},null,8,["options","modelValue","class"]),l[29]||(l[29]=e("label",{for:"instType"},"Institution Type",-1))])]),e("div",Fl,[e("span",Ul,[n(T,{id:"textarea",rows:"3",cols:"30",modelValue:B.value,"onUpdate:modelValue":l[4]||(l[4]=o=>B.value=o)},null,8,["modelValue"]),l[30]||(l[30]=e("label",{for:"textarea"},"Address",-1))])]),e("div",kl,[e("span",Pl,[n(x,{id:"instCity",options:D.value,modelValue:f.value,"onUpdate:modelValue":l[5]||(l[5]=o=>f.value=o),onBlur:l[6]||(l[6]=o=>i(f.value,"city")),class:m({"p-invalid":(j=a.value)==null?void 0:j.city}),optionLabel:"name"},null,8,["options","modelValue","class"]),l[31]||(l[31]=e("label",{for:"instCity"},"City",-1))])]),e("div",_l,[e("span",Tl,[n(d,{type:"text",id:"instPOBox",modelValue:F.value,"onUpdate:modelValue":l[7]||(l[7]=o=>F.value=o)},null,8,["modelValue"]),l[32]||(l[32]=e("label",{for:"instPOBox"},"P.O Box",-1))])]),e("div",Il,[e("span",$l,[n(T,{id:"instDescription",rows:"3",cols:"30",modelValue:U.value,"onUpdate:modelValue":l[8]||(l[8]=o=>U.value=o)},null,8,["modelValue"]),l[33]||(l[33]=e("label",{for:"instDescription"},"Description",-1))])]),l[46]||(l[46]=e("div",{class:"field col-12 md:col-12"},[e("h5",null,"Institution Bank Info")],-1)),e("div",Cl,[e("span",Sl,[n(x,{id:"bankName",options:O.value,modelValue:V.value,"onUpdate:modelValue":l[9]||(l[9]=o=>V.value=o),optionLabel:"name",onBlur:l[10]||(l[10]=o=>i(V.value,"bankName")),class:m({"p-invalid":(G=a.value)==null?void 0:G.bankName})},null,8,["options","modelValue","class"]),l[34]||(l[34]=e("label",{for:"bankName"},"Bank",-1))])]),e("div",El,[e("span",Rl,[n(d,{type:"text",id:"acctName",modelValue:N.value,"onUpdate:modelValue":l[11]||(l[11]=o=>N.value=o),onBlur:l[12]||(l[12]=o=>i(N.value,"acctName")),class:m({"p-invalid":(H=a.value)==null?void 0:H.acctName})},null,8,["modelValue","class"]),l[35]||(l[35]=e("label",{for:"acctName"},"Account Title",-1))])]),e("div",Ll,[e("span",ql,[n(d,{type:"text",id:"acctNumber",modelValue:g.value,"onUpdate:modelValue":l[13]||(l[13]=o=>g.value=o),onBlur:l[14]||(l[14]=o=>i(g.value,"acctNumber")),class:m({"p-invalid":(J=a.value)==null?void 0:J.acctNumber})},null,8,["modelValue","class"]),l[36]||(l[36]=e("label",{for:"acctNumber"},"Account Number",-1))])]),l[47]||(l[47]=e("div",{class:"field col-12 md:col-12"},[e("h5",null,"Institution User Info")],-1)),e("div",Al,[e("span",Dl,[n(d,{type:"text",id:"firstName",modelValue:w.value,"onUpdate:modelValue":l[15]||(l[15]=o=>w.value=o),onBlur:l[16]||(l[16]=o=>i(w.value,"fName")),class:m({"p-invalid":(K=a.value)==null?void 0:K.fName})},null,8,["modelValue","class"]),l[37]||(l[37]=e("label",{for:"firstName"},"First Name",-1))])]),e("div",Ol,[e("span",Ml,[n(d,{type:"text",id:"lastName",modelValue:y.value,"onUpdate:modelValue":l[17]||(l[17]=o=>y.value=o),onBlur:l[18]||(l[18]=o=>i(y.value,"lName")),class:m({"p-invalid":(Q=a.value)==null?void 0:Q.lName})},null,8,["modelValue","class"]),l[38]||(l[38]=e("label",{for:"lastName"},"Last Name",-1))])]),e("div",zl,[e("span",jl,[n(d,{type:"text",id:"otherName",modelValue:S.value,"onUpdate:modelValue":l[19]||(l[19]=o=>S.value=o)},null,8,["modelValue"]),l[39]||(l[39]=e("label",{for:"otherName"},"Other Names",-1))])]),e("div",Gl,[e("span",Hl,[n(d,{type:"text",id:"email",modelValue:v.value,"onUpdate:modelValue":l[20]||(l[20]=o=>v.value=o),onBlur:l[21]||(l[21]=o=>i(v.value,"email")),class:m({"p-invalid":(X=a.value)==null?void 0:X.email})},null,8,["modelValue","class"]),l[40]||(l[40]=e("label",{for:"email"},"Email",-1))])]),e("div",Jl,[e("span",Kl,[n(d,{id:"basic",modelValue:c.value,"onUpdate:modelValue":l[22]||(l[22]=o=>c.value=o),onBlur:l[23]||(l[23]=o=>i(c.value,"contactNumber")),class:m({"p-invalid":(Y=a.value)==null?void 0:Y.contactNumber})},null,8,["modelValue","class"]),l[41]||(l[41]=e("label",{for:"contactNumber"},"Phone Number",-1))])]),e("div",Ql,[e("span",Xl,[n(I,{type:"text",id:"password",modelValue:P.value,"onUpdate:modelValue":l[24]||(l[24]=o=>P.value=o),onBlur:l[25]||(l[25]=o=>i(P.value,"password")),class:m({"p-invalid":(Z=a.value)==null?void 0:Z.password})},null,8,["modelValue","class"]),l[42]||(l[42]=e("label",{for:"password"},"Password",-1))])]),e("div",Yl,[e("span",Zl,[n(I,{type:"text",id:"confirmPassword",modelValue:_.value,"onUpdate:modelValue":l[26]||(l[26]=o=>_.value=o),onBlur:l[27]||(l[27]=o=>i(_.value,"confirmPassword")),class:m({"p-invalid":(W=a.value)==null?void 0:W.confirmPassword})},null,8,["modelValue","class"]),l[43]||(l[43]=e("label",{for:"confirmPassword"},"Confirm Password",-1))])]),e("div",{class:"field col-12 md:col-8"},[e("a",{class:"font-medium no-underline ml-2 text-left cursor-pointer",style:{color:"var(--primary-color)"},onClick:al},"Back To Login")]),e("div",Wl,[n($,{onClick:sl,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])]),n(pl,{simple:""})],64)}}};export{ee as default};
