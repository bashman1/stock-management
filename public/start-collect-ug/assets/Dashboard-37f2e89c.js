import{u as Y,r as u,a as h,o as Z,w as $,b as g,c as o,d as l,e,f as s,t as n,g as i,h as d,i as L,F as q,j as ee,k as te,n as se,C as oe}from"./index-2abd5994.js";class le{getProductsSmall(){return fetch("demo/data/products-small.json").then(t=>t.json()).then(t=>t.data)}getProducts(){return fetch("demo/data/products.json").then(t=>t.json()).then(t=>t.data)}getProductsWithOrdersSmall(){return fetch("demo/data/products-orders-small.json").then(t=>t.json()).then(t=>t.data)}}const ce={class:"grid"},ie={key:0,class:"col-12 lg:col-6 xl:col-3"},ne={class:"card mb-0"},ae={class:"flex justify-content-between mb-3"},de=e("span",{class:"block text-500 font-medium mb-3"},"Institutions",-1),re={class:"text-900 font-medium text-xl"},ue=e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-building text-blue-500 text-xl"})],-1),me={key:1,class:"col-12 lg:col-6 xl:col-3"},_e={class:"card mb-0"},he={class:"flex justify-content-between mb-3"},pe=e("span",{class:"block text-500 font-medium mb-3"},"Branches",-1),be={class:"text-900 font-medium text-xl"},xe=e("div",{class:"flex align-items-center justify-content-center bg-orange-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-share-alt text-orange-500 text-xl"})],-1),ve={key:2,class:"col-12 lg:col-6 xl:col-3"},ge={class:"card mb-0"},fe={class:"flex justify-content-between mb-3"},ye=e("span",{class:"block text-500 font-medium mb-3"},"Users",-1),ke={class:"text-900 font-medium text-xl"},we=e("div",{class:"flex align-items-center justify-content-center bg-cyan-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-user text-cyan-500 text-xl"})],-1),Se={key:3,class:"col-12 lg:col-6 xl:col-3"},Pe={class:"card mb-0"},je={class:"flex justify-content-between mb-3"},Ve=e("span",{class:"block text-500 font-medium mb-3"},"Members",-1),Ce={class:"text-900 font-medium text-xl"},De=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-users text-purple-500 text-xl"})],-1),Te={key:4,class:"col-12 lg:col-6 xl:col-3"},Me={class:"card mb-0"},Ne={class:"flex justify-content-between mb-3"},Ge=e("span",{class:"block text-500 font-medium mb-3"},"Products",-1),ze={class:"text-900 font-medium text-xl"},Be=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),Fe={key:5,class:"col-12 lg:col-6 xl:col-3"},Le={class:"card mb-0"},qe={class:"flex justify-content-between mb-3"},Ee=e("span",{class:"block text-500 font-medium mb-3"},"Sales",-1),Ue={class:"text-900 font-medium text-xl"},Ae=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-credit-card text-purple-500 text-xl"})],-1),Ie={key:6,class:"col-12 lg:col-6 xl:col-3"},Je={class:"card mb-0"},Oe={class:"flex justify-content-between mb-3"},Re=e("span",{class:"block text-500 font-medium mb-3"},"Products Sold",-1),Qe={class:"text-900 font-medium text-xl"},We=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-purple-500 text-xl"})],-1),He={key:7,class:"col-12 lg:col-6 xl:col-3"},Ke={class:"card mb-0"},Xe={class:"flex justify-content-between mb-3"},Ye=e("span",{class:"block text-500 font-medium mb-3"},"Total Sales Value",-1),Ze={class:"text-900 font-medium text-xl"},$e=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-purple-500 text-xl"})],-1),et={key:8,class:"col-12 lg:col-6 xl:col-3"},tt={class:"card mb-0"},st={class:"flex justify-content-between mb-3"},ot=e("span",{class:"block text-500 font-medium mb-3"},"Today's Sales Value",-1),lt={class:"text-900 font-medium text-xl"},ct=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-purple-500 text-xl"})],-1),it={key:9,class:"col-12 lg:col-6 xl:col-3"},nt={class:"card mb-0"},at={class:"flex justify-content-between mb-3"},dt=e("span",{class:"block text-500 font-medium mb-3"},"Total Stock Value",-1),rt={class:"text-900 font-medium text-xl"},ut=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),mt={key:10,class:"col-12 lg:col-6 xl:col-3"},_t={class:"card mb-0"},ht={class:"flex justify-content-between mb-3"},pt=e("span",{class:"block text-500 font-medium mb-3"},"Today's Stock Value",-1),bt={class:"text-900 font-medium text-xl"},xt=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),vt={key:11,class:"col-12 lg:col-6 xl:col-3"},gt={class:"card mb-0"},ft={class:"flex justify-content-between mb-3"},yt=e("span",{class:"block text-500 font-medium mb-3"},"Today's Markup Value",-1),kt={class:"text-900 font-medium text-xl"},wt=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),St={key:12,class:"col-12 lg:col-6 xl:col-3"},Pt={class:"card mb-0"},jt={class:"flex justify-content-between mb-3"},Vt=e("span",{class:"block text-500 font-medium mb-3"},"Today's Markup Percentage",-1),Ct={class:"text-900 font-medium text-xl"},Dt=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),Tt={key:13,class:"col-12 lg:col-6 xl:col-3"},Mt={class:"card mb-0"},Nt={class:"flex justify-content-between mb-3"},Gt=e("span",{class:"block text-500 font-medium mb-3"},"Total Expenses",-1),zt={class:"text-900 font-medium text-xl"},Bt=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),Ft={key:14,class:"col-12 lg:col-6 xl:col-3"},Lt={class:"card mb-0"},qt={class:"flex justify-content-between mb-3"},Et=e("span",{class:"block text-500 font-medium mb-3"},"Today Expenses",-1),Ut={class:"text-900 font-medium text-xl"},At=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-bag text-purple-500 text-xl"})],-1),It={class:"grid"},Jt={key:0,class:"col-12 xl:col-6"},Ot={class:"card"},Rt=e("h5",null,"Member and collection growth ",-1),Qt={key:1,class:"col-12 xl:col-6"},Wt={class:"card"},Ht=e("h5",null,"Member and collection growth ",-1),Kt={key:2,class:"col-12 xl:col-6"},Xt={class:"card"},Yt=e("h5",null,"Products and Sales growth ",-1),Zt={key:3,class:"col-12 xl:col-6"},$t={class:"card"},es=e("h5",null,"Products and Sales growth ",-1),ts={class:"grid"},ss={class:"col-12 xl:col-6"},os={class:"card"},ls=e("h5",null,"Best Selling Products",-1),cs={class:"col-12 xl:col-6"},is={class:"card"},ns=e("div",{class:"flex justify-content-between align-items-center mb-5"},[e("h5",null,"Best Selling Products")],-1),as={class:"flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4"},ds={class:"text-900 font-medium mr-2 mb-1 md:mb-0"},rs={class:"mt-2 md:mt-0 flex align-items-center"},us={class:"surface-300 border-round overflow-hidden w-10rem lg:w-6rem",style:{height:"8px"}},ms={class:"text-orange-500 ml-3 font-medium"},ps={__name:"Dashboard",setup(E){const t=new oe,{isDarkTheme:U}=Y(),a=u(null);u(["Jan","Feb","Mar","Apr","May","Jun","Jly","Aug","Sep","Oct","Nov","Dec"]);const p=u({}),A=u(null);let b=h({}),x=h({});u([{label:"Add New",icon:"pi pi-fw pi-plus"},{label:"Remove",icon:"pi pi-fw pi-minus"}]);const r=u(null),I=new le,J=()=>{t.genericRequest("get-dashboard-stats","get",!0,{}).then(c=>{c.status?(a.value=c.data.count[0],O(c.data),R(c.data),p.value=c.data):t.showError(toast,c.message)})},O=c=>{b=h({labels:t.getMonthsStartingFromCurrent(),datasets:[{label:"No. of Members ",data:t.organizeGraphData(c.membersGraph,"count"),fill:!1,backgroundColor:"rgba(47, 72, 96, 1)",borderColor:"#2f4860",tension:.4},{label:"No. of Collections",data:t.organizeGraphData(c.collectionGraph,"count"),fill:!1,backgroundColor:"rgba(0, 187, 126, 1)",borderColor:"#00bb7e",tension:.4}]})},R=c=>{x=h({labels:t.getMonthsStartingFromCurrent(),datasets:[{label:"No. of Products ",data:t.organizeGraphData(c.productsGraph,"count"),fill:!1,backgroundColor:"rgba(47, 72, 96, 1)",borderColor:"#2f4860",tension:.4},{label:"No. of Sales",data:t.organizeGraphData(c.salesGraph,"count"),fill:!1,backgroundColor:"rgba(0, 187, 126, 1)",borderColor:"#00bb7e",tension:.4}]})};Z(()=>{I.getProductsSmall().then(c=>A.value=c),J()});const Q=c=>c.toLocaleString("en-US",{style:"currency",currency:"USD"}),W=()=>{r.value={plugins:{legend:{labels:{color:"#495057"}}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{ticks:{color:"#495057"},grid:{color:"#ebedef"}}}}},H=()=>{r.value={plugins:{legend:{labels:{color:"#ebedef"}}},scales:{x:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}},y:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}}}}};return $(U,c=>{c?H():W()},{immediate:!0}),(c,_s)=>{var f,y,k,w,S,P,j,V,C,D,T,M,N,G,z,B,F;const _=g("Chart"),v=g("Column"),K=g("DataTable");return o(),l(q,null,[e("div",ce,[s(t).checkPermissions("CanViewInstitution")?(o(),l("div",ie,[e("div",ne,[e("div",ae,[e("div",null,[de,e("div",re,n(s(t).commaSeparator((f=a.value)==null?void 0:f.total_institutions)),1)]),ue])])])):i("",!0),s(t).checkPermissions("CanViewInstitution")?(o(),l("div",me,[e("div",_e,[e("div",he,[e("div",null,[pe,e("div",be,n(s(t).commaSeparator((y=a.value)==null?void 0:y.total_branches)),1)]),xe])])])):i("",!0),s(t).checkPermissions("ViewUsers")?(o(),l("div",ve,[e("div",ge,[e("div",fe,[e("div",null,[ye,e("div",ke,n(s(t).commaSeparator((k=a.value)==null?void 0:k.total_users)),1)]),we])])])):i("",!0),s(t).checkPermissions("ViewMember")?(o(),l("div",Se,[e("div",Pe,[e("div",je,[e("div",null,[Ve,e("div",Ce,n(s(t).commaSeparator((w=a.value)==null?void 0:w.total_customers)),1)]),De])])])):i("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",Te,[e("div",Me,[e("div",Ne,[e("div",null,[Ge,e("div",ze,n(s(t).commaSeparator((S=a.value)==null?void 0:S.products)),1)]),Be])])])):i("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",Fe,[e("div",Le,[e("div",qe,[e("div",null,[Ee,e("div",Ue,n(s(t).commaSeparator((P=a.value)==null?void 0:P.sales)),1)]),Ae])])])):i("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",Ie,[e("div",Je,[e("div",Oe,[e("div",null,[Re,e("div",Qe,n(s(t).commaSeparator((j=a.value)==null?void 0:j.product_sold)),1)]),We])])])):i("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",He,[e("div",Ke,[e("div",Xe,[e("div",null,[Ye,e("div",Ze,n(s(t).commaSeparator((V=a.value)==null?void 0:V.total_sales_value)),1)]),$e])])])):i("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",et,[e("div",tt,[e("div",st,[e("div",null,[ot,e("div",lt,n(s(t).commaSeparator((C=a.value)==null?void 0:C.today_sales_value)),1)]),ct])])])):i("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",it,[e("div",nt,[e("div",at,[e("div",null,[dt,e("div",rt,n(s(t).commaSeparator((D=a.value)==null?void 0:D.total_stock_value)),1)]),ut])])])):i("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",mt,[e("div",_t,[e("div",ht,[e("div",null,[pt,e("div",bt,n(s(t).commaSeparator((T=a.value)==null?void 0:T.today_stock_value)),1)]),xt])])])):i("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",vt,[e("div",gt,[e("div",ft,[e("div",null,[yt,e("div",kt,n(s(t).commaSeparator((M=a.value)==null?void 0:M.today_mark_up)),1)]),wt])])])):i("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",St,[e("div",Pt,[e("div",jt,[e("div",null,[Vt,e("div",Ct,n(s(t).commaSeparator((N=a.value)==null?void 0:N.today_mark_up_percentage))+" %",1)]),Dt])])])):i("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",Tt,[e("div",Mt,[e("div",Nt,[e("div",null,[Gt,e("div",zt,n(s(t).commaSeparator((G=a.value)==null?void 0:G.total_expenses)),1)]),Bt])])])):i("",!0),s(t).checkPermissions("ViewProducts")?(o(),l("div",Ft,[e("div",Lt,[e("div",qt,[e("div",null,[Et,e("div",Ut,n(s(t).commaSeparator((z=a.value)==null?void 0:z.today_expenses)),1)]),At])])])):i("",!0)]),e("div",It,[s(t).checkPermissions("ViewMember")?(o(),l("div",Jt,[e("div",Ot,[Rt,d(_,{type:"bar",data:s(b),options:r.value},null,8,["data","options"])])])):i("",!0),s(t).checkPermissions("ViewCollection")?(o(),l("div",Qt,[e("div",Wt,[Ht,d(_,{type:"line",data:s(b),options:r.value},null,8,["data","options"])])])):i("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",Kt,[e("div",Xt,[Yt,d(_,{type:"bar",data:s(x),options:r.value},null,8,["data","options"])])])):i("",!0),s(t).checkPermissions("ViewSales")?(o(),l("div",Zt,[e("div",$t,[es,d(_,{type:"line",data:s(x),options:r.value},null,8,["data","options"])])])):i("",!0)]),e("div",ts,[e("div",ss,[e("div",os,[ls,d(K,{value:(B=p.value)==null?void 0:B.bestSellingProduct,rows:10,paginator:!0,responsiveLayout:"scroll"},{default:L(()=>[d(v,{field:"name",header:"Name",sortable:!0,style:{width:"35%"}}),d(v,{field:"quantity",header:"Quantity",sortable:!0,style:{width:"35%"}}),d(v,{field:"price",header:"Price",sortable:!0,style:{width:"35%"}},{body:L(m=>[te(n(Q(m.data.selling_price)),1)]),_:1})]),_:1},8,["value"])])]),e("div",cs,[e("div",is,[ns,(o(!0),l(q,null,ee((F=p.value)==null?void 0:F.bestSellingProduct,(m,X)=>(o(),l("ul",{class:"list-none p-0 m-0",key:X},[e("li",as,[e("div",null,[e("span",ds,n(m.name),1)]),e("div",rs,[e("div",us,[e("div",{class:"bg-orange-500 h-full",style:se("width: "+m.quantity+"%")},null,4)]),e("span",ms,"%"+n(m.quantity),1)])])]))),128))])])])],64)}}};export{ps as default};
