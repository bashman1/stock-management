var l=Object.defineProperty;var u=(i,e,t)=>e in i?l(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var s=(i,e,t)=>(u(i,typeof e!="symbol"?e+"":e,t),t);class p{constructor(){s(this,"baseUrl","http://localhost:8000/api/");s(this,"setStorage",e=>(localStorage.setItem("userData",JSON.stringify(e)),e));s(this,"getStorage",()=>{let e=localStorage.getItem("userData");return JSON.parse(e)});s(this,"removeStorage",()=>{localStorage.removeItem("userData")});s(this,"postToServer",(e,t,r)=>fetch(e,{method:t,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r)}).then(n=>n.json()).then(n=>n).catch(n=>{console.log(n)}));s(this,"postToServerWithToken",(e,t,r)=>fetch(e,{method:t,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+this.getStorage().token},body:JSON.stringify(r)}).then(n=>n.json()).then(n=>n).catch(n=>{console.log(n)}));s(this,"getFromServer",(e,t)=>fetch(e,{method:t,headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(r=>r.json()).then(r=>r).catch(r=>{console.log(r)}));s(this,"getFromServerWithToken",(e,t)=>fetch(e,{method:t,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+this.getStorage().token}}).then(r=>r.json()).then(r=>r).catch(r=>{console.log(r)}));s(this,"genericRequest",(e,t,r,n)=>t=="GET"||t=="get"?r?this.getFromServerWithToken(this.baseUrl+""+e,t).then(o=>o):this.getFromServer(this.baseUrl+""+e,t).then(o=>o):r?this.postToServerWithToken(this.baseUrl+""+e,t,n).then(o=>o):this.postToServer(this.baseUrl+""+e,t,n).then(o=>o));s(this,"ValidationMessage",()=>({serviceName:[{required:!0,message:"Service name is required"}]}));s(this,"updateOrPushObjectByParam",(e,t,r,n,o)=>{const a=e.findIndex(c=>c[t]===r);return a!==-1?[...e.slice(0,a),{...e[a],[n]:o[n]},...e.slice(a+1)]:[...e,o]});s(this,"showError",(e,t,r=3e3)=>e.add({severity:"error",summary:"Process Failed",detail:t,life:r}));s(this,"showSuccess",(e,t,r=3e3)=>e.add({severity:"success",summary:"Successful",detail:t,life:r}));s(this,"showInfo",(e,t,r=3e3)=>e.add({severity:"info",summary:"Information",detail:t,life:r}));s(this,"showWarning",(e,t,r=3e3)=>e.add({severity:"warn",summary:"Warning",detail:t,life:r}));s(this,"existingRolePermission",(e,t)=>{let r=!1;return e.forEach(n=>{n.permission_id==t.id&&(r=!0)}),r});s(this,"getCurrentTimestamp",()=>new Date)}}export{p as C};
