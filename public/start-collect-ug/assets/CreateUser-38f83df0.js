import{l as ml,m as pl,r as o,o as _l,b as V,c as T,d as L,e,h as a,p as h,g as $,C as fl}from"./index-a9630bdb.js";const bl={class:"card"},Vl=e("h5",null,"Create User",-1),hl={class:"grid p-fluid mt-3"},gl={class:"field col-12 md:col-4"},yl={class:"p-float-label"},wl=e("label",{for:"firstName"},"First Name",-1),Ul={class:"field col-12 md:col-4"},Bl={class:"p-float-label"},Cl=e("label",{for:"lastName"},"Last Name",-1),xl={class:"field col-12 md:col-4"},Fl={class:"p-float-label"},Il=e("label",{for:"otherName"},"Other Names",-1),Nl={class:"field col-12 md:col-4"},Al={class:"p-float-label"},Pl=e("label",{for:"email"},"Email",-1),Dl={class:"field col-12 md:col-4"},Rl={class:"p-float-label"},Sl=e("label",{for:"phoneNumber"},"Phone Number",-1),Tl={class:"field col-12 md:col-4"},Ll={class:"p-float-label"},ql=e("label",{for:"dob"},"Date Of Birth",-1),Ol={class:"field col-12 md:col-4"},$l={class:"p-float-label"},kl=e("label",{for:"gender"},"Gender",-1),El={class:"field col-12 md:col-4"},Ml={class:"p-float-label"},zl=e("label",{for:"type"},"Type",-1),Gl={key:0,class:"field col-12 md:col-4"},jl={class:"p-float-label"},Hl=e("label",{for:"institution"},"Institution",-1),Jl={key:1,class:"field col-12 md:col-4"},Kl={class:"p-float-label"},Ql=e("label",{for:"institution"},"Branch",-1),Wl={key:2,class:"field col-12 md:col-4"},Xl={class:"p-float-label"},Yl=e("label",{for:"institution"},"User Category",-1),Zl={class:"field col-12 md:col-4"},le={class:"p-float-label"},ee=e("label",{for:"institution"},"Role",-1),te={class:"field col-12 md:col-12"},oe={class:"p-float-label"},se=e("label",{for:"textarea"},"Address",-1),ae={class:"field col-12 md:col-4"},ne={class:"p-float-label"},ie=e("label",{for:"instCity"},"City",-1),de={class:"field col-12 md:col-4"},ue={class:"p-float-label"},ve=e("label",{for:"instStreet"},"Street",-1),re={class:"field col-12 md:col-4"},ce={class:"p-float-label"},me=e("label",{for:"instPOBox"},"P.O Box",-1),pe={class:"field col-12 md:col-12"},_e={class:"p-float-label"},fe=e("label",{for:"instDescription"},"More Info",-1),be={class:"card"},Ve=e("h5",null,"Create Password",-1),he={class:"grid p-fluid mt-3"},ge={class:"field col-12 md:col-6"},ye={class:"p-float-label"},we=e("label",{for:"password"},"Password",-1),Ue={class:"field col-12 md:col-6"},Be={class:"p-float-label"},Ce=e("label",{for:"confirmPassword"},"Confirm Password",-1),xe=e("div",{class:"field col-12 md:col-8"},null,-1),Fe={class:"field col-12 md:col-4"},Ae={__name:"CreateUser",setup(Ie){const q=ml(),n=new fl,ll=pl(),c=o(null),m=o(null),w=o(null),p=o(null),U=o(null),B=o(null),C=o(null),x=o(null),O=o(null),F=o(null),I=o(null),N=o(null),_=o(null),f=o(null),k=o(null),u=o(null),g=o(null),D=o(null),E=o(null),M=o(null),A=o(null),R=o(null),P=o(null),i=o({}),el=o([{label:"Male",value:"Male"},{label:"Female",value:"Female"}]),tl=o([{label:"Super Admin",value:"Admin"},{label:"Institution Admin",value:"Institution"}]),ol=o([{label:"Branch Admin",value:"BranchAdmin"},{label:"Institution Admin",value:"InstitutionAdmin"}]),sl=()=>{var d,v,S,r;if(i.value.fName=n.validateFormField(c.value),i.value.lName=n.validateFormField(m.value),i.value.email=n.validateFormField(p.value),i.value.type=n.validateFormField(u.value),i.value.role=n.validateFormField(A.value),i.value.password=n.validateFormField(_.value),i.value.confirmPassword=n.validateFormField(f.value),n.validateRequiredFields(i.value)){n.showError(q,"Please fill in the missing field");return}let l={first_name:c==null?void 0:c.value,last_name:m==null?void 0:m.value,other_name:w==null?void 0:w.value,email:p==null?void 0:p.value,phone_number:U==null?void 0:U.value,date_of_birth:B==null?void 0:B.value,gender:(d=C==null?void 0:C.value)==null?void 0:d.value,address:x==null?void 0:x.value,city_id:(v=O.value)==null?void 0:v.id,street:F==null?void 0:F.value,p_o_box:I==null?void 0:I.value,description:N==null?void 0:N.value,password:_==null?void 0:_.value,confirm_password:f==null?void 0:f.value,status:"Active",user_type:(S=u==null?void 0:u.value)==null?void 0:S.value,user_category:P.value!=null?P.value.value:null,institution_id:g.value!=null?g==null?void 0:g.value.id:null,role_id:(r=A.value)==null?void 0:r.id,branch_id:D.value!=null?D.value.id:null};n.genericRequest("create-user","post",!0,l).then(y=>{y.status?(n.showSuccess(q,y.message),n.redirect(ll,"/view-users")):n.showError(q,y.message)})},al=()=>{n.genericRequest("get-city-county-id/1","get",!0,{}).then(s=>{s.status&&(k.value=s.data)})},nl=s=>{let l={institutionId:s,status:"Active"};n.genericRequest("get-institution-branches","post",!0,l).then(d=>{d.status&&(M.value=d.data)})},il=s=>{let l={institutionId:s,status:"Active"};n.genericRequest("get-institution-roles","post",!0,l).then(d=>{d.status&&(R.value=d.data)})},dl=s=>{let l={roleType:s,status:"Active"};n.genericRequest("get-role-type","post",!0,l).then(d=>{d.status&&(R.value=d.data)})},ul=()=>{n.genericRequest("get-institutions","get",!0,{}).then(s=>{s.status&&(E.value=s.data)})},vl=s=>{nl(s.value.id),il(s.value.id)},b=(s,l)=>{i.value[l]=n.validateFormField(s)},rl=s=>{s.value.value=="Admin"?(dl(s.value.value),P.value="SuperAdmin"):R.value=[]};return _l(()=>{ul(),al()}),(s,l)=>{var G,j,H,J,K,Q,W,X,Y,Z;const d=V("Toast"),v=V("InputText"),S=V("Calendar"),r=V("Dropdown"),y=V("Textarea"),z=V("Password"),cl=V("Button");return T(),L("div",null,[e("div",bl,[Vl,e("div",hl,[a(d),e("div",gl,[e("span",yl,[a(v,{type:"text",id:"firstName",modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=t=>c.value=t),onBlur:l[1]||(l[1]=t=>b(c.value,"fName")),class:h({"p-invalid":(G=i.value)==null?void 0:G.fName})},null,8,["modelValue","class"]),wl])]),e("div",Ul,[e("span",Bl,[a(v,{type:"text",id:"lastName",modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=t=>m.value=t),onBlur:l[3]||(l[3]=t=>b(m.value,"lName")),class:h({"p-invalid":(j=i.value)==null?void 0:j.lName})},null,8,["modelValue","class"]),Cl])]),e("div",xl,[e("span",Fl,[a(v,{type:"text",id:"otherName",modelValue:w.value,"onUpdate:modelValue":l[4]||(l[4]=t=>w.value=t)},null,8,["modelValue"]),Il])]),e("div",Nl,[e("span",Al,[a(v,{type:"text",id:"email",modelValue:p.value,"onUpdate:modelValue":l[5]||(l[5]=t=>p.value=t),onBlur:l[6]||(l[6]=t=>b(p.value,"email")),class:h({"p-invalid":(H=i.value)==null?void 0:H.email})},null,8,["modelValue","class"]),Pl])]),e("div",Dl,[e("span",Rl,[a(v,{type:"text",id:"phoneNumber",modelValue:U.value,"onUpdate:modelValue":l[7]||(l[7]=t=>U.value=t)},null,8,["modelValue"]),Sl])]),e("div",Tl,[e("span",Ll,[a(S,{inputId:"dob",modelValue:B.value,"onUpdate:modelValue":l[8]||(l[8]=t=>B.value=t)},null,8,["modelValue"]),ql])]),e("div",Ol,[e("span",$l,[a(r,{id:"gender",options:el.value,modelValue:C.value,"onUpdate:modelValue":l[9]||(l[9]=t=>C.value=t),optionLabel:"label"},null,8,["options","modelValue"]),kl])]),e("div",El,[e("span",Ml,[a(r,{id:"type",onChange:rl,options:tl.value,modelValue:u.value,"onUpdate:modelValue":l[10]||(l[10]=t=>u.value=t),optionLabel:"label",onBlur:l[11]||(l[11]=t=>b(u.value,"type")),class:h({"p-invalid":(J=i.value)==null?void 0:J.type})},null,8,["options","modelValue","class"]),zl])]),((K=u.value)==null?void 0:K.value)=="Institution"?(T(),L("div",Gl,[e("span",jl,[a(r,{id:"institution",onChange:vl,options:E.value,modelValue:g.value,"onUpdate:modelValue":l[12]||(l[12]=t=>g.value=t),optionLabel:"name"},null,8,["options","modelValue"]),Hl])])):$("",!0),((Q=u.value)==null?void 0:Q.value)=="Institution"?(T(),L("div",Jl,[e("span",Kl,[a(r,{id:"institution",options:M.value,modelValue:D.value,"onUpdate:modelValue":l[13]||(l[13]=t=>D.value=t),optionLabel:"name"},null,8,["options","modelValue"]),Ql])])):$("",!0),((W=u.value)==null?void 0:W.value)=="Institution"?(T(),L("div",Wl,[e("span",Xl,[a(r,{id:"institution",options:ol.value,modelValue:P.value,"onUpdate:modelValue":l[14]||(l[14]=t=>P.value=t),optionLabel:"label"},null,8,["options","modelValue"]),Yl])])):$("",!0),e("div",Zl,[e("span",le,[a(r,{id:"institution",options:R.value,modelValue:A.value,"onUpdate:modelValue":l[15]||(l[15]=t=>A.value=t),optionLabel:"name",onBlur:l[16]||(l[16]=t=>b(A.value,"role")),class:h({"p-invalid":(X=i.value)==null?void 0:X.role})},null,8,["options","modelValue","class"]),ee])]),e("div",te,[e("span",oe,[a(y,{inputId:"textarea",rows:"3",cols:"30",modelValue:x.value,"onUpdate:modelValue":l[17]||(l[17]=t=>x.value=t)},null,8,["modelValue"]),se])]),e("div",ae,[e("span",ne,[a(r,{id:"instCity",options:k.value,modelValue:O.value,"onUpdate:modelValue":l[18]||(l[18]=t=>O.value=t),optionLabel:"name"},null,8,["options","modelValue"]),ie])]),e("div",de,[e("span",ue,[a(v,{type:"text",id:"instStreet",modelValue:F.value,"onUpdate:modelValue":l[19]||(l[19]=t=>F.value=t)},null,8,["modelValue"]),ve])]),e("div",re,[e("span",ce,[a(v,{type:"text",id:"instPOBox",modelValue:I.value,"onUpdate:modelValue":l[20]||(l[20]=t=>I.value=t)},null,8,["modelValue"]),me])]),e("div",pe,[e("span",_e,[a(y,{inputId:"instDescription",rows:"3",cols:"30",modelValue:N.value,"onUpdate:modelValue":l[21]||(l[21]=t=>N.value=t)},null,8,["modelValue"]),fe])])])]),e("div",be,[Ve,e("div",he,[e("div",ge,[e("span",ye,[a(z,{type:"text",id:"password",modelValue:_.value,"onUpdate:modelValue":l[22]||(l[22]=t=>_.value=t),onBlur:l[23]||(l[23]=t=>b(_.value,"password")),class:h({"p-invalid":(Y=i.value)==null?void 0:Y.password})},null,8,["modelValue","class"]),we])]),e("div",Ue,[e("span",Be,[a(z,{type:"text",id:"confirmPassword",modelValue:f.value,"onUpdate:modelValue":l[24]||(l[24]=t=>f.value=t),onBlur:l[25]||(l[25]=t=>b(f.value,"confirmPassword")),class:h({"p-invalid":(Z=i.value)==null?void 0:Z.confirmPassword})},null,8,["modelValue","class"]),Ce])]),xe,e("div",Fe,[a(cl,{onClick:sl,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])])}}};export{Ae as default};
