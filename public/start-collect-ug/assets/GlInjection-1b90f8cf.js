import{k as il,l as ul,r as s,o as rl,b as v,c as q,d as cl,e as t,h as o,v as X,i,g as Y,n as f,j as c,t as m,C as ml}from"./index-9017d927.js";const vl={class:"card"},pl={class:"grid p-fluid mt-3"},fl={class:"col-12 md:col-6"},bl={class:"card"},yl={class:"grid"},Vl={class:"field col-12 md:col-4"},_l={class:"p-float-label"},Al={class:"field col-12 md:col-4"},Tl={class:"p-float-label"},gl={class:"field col-12 md:col-4"},Cl={class:"p-float-label"},wl={class:"field col-12 md:col-8"},xl={class:"p-float-label"},Nl={class:"field col-12 md:col-4"},Ul={class:"col-12 md:col-6"},Fl={class:"card"},Bl={class:"grid"},kl={class:"field col-12 md:col-4"},Sl={class:"p-float-label"},Dl={class:"field col-12 md:col-4"},Rl={class:"p-float-label"},Ll={class:"field col-12 md:col-4"},$l={class:"p-float-label"},Gl={class:"field col-12 md:col-8"},Il={class:"p-float-label"},El={class:"field col-12 md:col-4"},ql={class:"field col-12 md:col-4"},zl={class:"p-float-label"},Kl={class:"field col-12 md:col-4"},jl={class:"p-float-label"},Hl={class:"field col-12 md:col-4"},Ml={class:"p-float-label"},Pl={class:"field col-12 md:col-4"},Jl={class:"p-float-label"},Ol={class:"field col-12 md:col-4"},Ql={class:"p-float-label"},Wl={class:"field col-12 md:col-4"},Xl={class:"p-float-label"},Yl={class:"field col-12 md:col-4"},Zl={class:"p-float-label"},hl={class:"field col-12 md:col-4"},le={class:"p-float-label"},ee={class:"field col-12 md:col-12"},te={class:"p-float-label"},oe={class:"field col-12 md:col-4"},ne={__name:"GlInjection",setup(ae){const g=il(),n=new ml,Z=ul();s(null),s(null),s(null),s(null);const G=s(null),C=s(null),w=s(null),x=s(null),N=s(null),U=s(null),F=s(null),B=s(null),k=s(null),S=s(null),D=s(null),b=s(null),y=s(null),V=s(null),_=s(null),A=s(null),T=s(null),R=s(null),I=s(null),d=s({}),E=s(null);s([{label:"Admin Role",value:"Admin"},{label:"Institution Role",value:"Institution"}]);const h=()=>{if(d.value.drAcct=n.validateFormField(b.value),d.value.crAcct=n.validateFormField(y.value),d.value.drTyp=n.validateFormField(V.value),d.value.crTyp=n.validateFormField(_.value),d.value.drTitle=n.validateFormField(A.value),d.value.crTitle=n.validateFormField(T.value),d.value.tranAmt=n.validateFormField(R.value),n.validateRequiredFields(d.value)){n.showError(g,"Please fill in the missing field");return}let l={drAcctNo:b.value,crAcctNo:y.value,drAcctType:V.value,crAcctType:_.value,drTitle:A.value,crTitle:T.value,tranAmt:R.value,description:G.value,tranDate:I.value,status:"Active"};n.genericRequest("debit-credit-acct","post",!0,l).then(L=>{L.status?(n.showSuccess(g,L.message),n.redirect(Z,"/gl-accounts")):n.showError(g,L.message)})},p=(a,l)=>{d.value[l]=n.validateFormField(a)},ll=()=>{var l;let a={acct_type:(l=x==null?void 0:x.value)==null?void 0:l.acct_type,gl_no:N==null?void 0:N.value,description:F==null?void 0:F.value,acct_no:U==null?void 0:U.value,indicator:"DR"};z(a)},el=()=>{var l;let a={acct_type:(l=B==null?void 0:B.value)==null?void 0:l.acct_type,gl_no:k==null?void 0:k.value,description:D==null?void 0:D.value,acct_no:S==null?void 0:S.value,indicator:"CR"};z(a)},z=a=>{n.genericRequest("gl-search","post",!0,a).then(l=>{l.status?(a==null?void 0:a.indicator)=="DR"?C.value=l.data:(a==null?void 0:a.indicator)=="CR"?w.value=l.data:(w.value=l.data,C.value=l.data):n.showError(g,l.message)})},tl=()=>{n.genericRequest("gl-cats","get",!0,{}).then(a=>{a.status?E.value=a.data:n.showError(g,a.message)})},ol=a=>{b.value=a.acct_no,V.value=a.acct_type,A.value=a.description,C.value=null},al=a=>{y.value=a.acct_no,_.value=a.acct_type,T.value=a.description,w.value=null};return rl(()=>{tl()}),(a,l)=>{var H,M,P,J,O,Q,W;const L=v("Toast"),K=v("Dropdown"),u=v("InputText"),$=v("Button"),r=v("Column"),j=v("DataTable"),sl=v("Calendar"),nl=v("Textarea");return q(),cl("div",null,[t("div",vl,[l[45]||(l[45]=t("h5",null,"Debit/Credit Ledger Accounts",-1)),t("div",pl,[o(L),t("div",fl,[t("div",bl,[l[29]||(l[29]=t("h5",null,"Debit Account",-1)),t("div",yl,[t("div",Vl,[t("span",_l,[o(K,{id:"institution",options:E.value,modelValue:x.value,"onUpdate:modelValue":l[0]||(l[0]=e=>x.value=e),optionLabel:"acct_type"},null,8,["options","modelValue"]),l[25]||(l[25]=t("label",{for:"institution"},"Gl type",-1))])]),t("div",Al,[t("span",Tl,[o(u,{type:"text",id:"name",modelValue:N.value,"onUpdate:modelValue":l[1]||(l[1]=e=>N.value=e)},null,8,["modelValue"]),l[26]||(l[26]=t("label",{for:"firstName"},"Gl ledger no.",-1))])]),t("div",gl,[t("span",Cl,[o(u,{type:"text",id:"name",modelValue:U.value,"onUpdate:modelValue":l[2]||(l[2]=e=>U.value=e)},null,8,["modelValue"]),l[27]||(l[27]=t("label",{for:"firstName"},"Gl acct. no.",-1))])]),t("div",wl,[t("span",xl,[o(u,{type:"text",id:"name",modelValue:F.value,"onUpdate:modelValue":l[3]||(l[3]=e=>F.value=e)},null,8,["modelValue"]),l[28]||(l[28]=t("label",{for:"firstName"},"Name",-1))])]),t("div",Nl,[o($,{onClick:ll,label:"Search",class:"p-button-outlined mr-2 mb-2"})])]),C.value?(q(),X(j,{key:0,value:C.value,size:"small",paginator:!0,class:"p-datatable-gridlines",rows:3,dataKey:"id",selectionMode:"single",metaKeySelection:!0,rowHover:!0,selection:a.debitSelected,"onUpdate:selection":l[4]||(l[4]=e=>a.debitSelected=e),filterDisplay:"menu",responsiveLayout:"scroll"},{default:i(()=>[o(r,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:i(({data:e})=>[c(m(e.description),1)]),_:1}),o(r,{field:"name",header:"Acct No.",style:{"min-width":"10rem"}},{body:i(({data:e})=>[c(m(e.acct_no),1)]),_:1}),o(r,{field:"name",header:"Acct Type",style:{"min-width":"10rem"}},{body:i(({data:e})=>[c(m(e.acct_type),1)]),_:1}),o(r,{field:"name",header:"Ledger No.",style:{"min-width":"10rem"}},{body:i(({data:e})=>[c(m(e.gl_no),1)]),_:1}),o(r,{field:"name",header:"Acct Balance",style:{"min-width":"10rem"}},{body:i(({data:e})=>[c(m(e.balance),1)]),_:1}),o(r,{headerStyle:"max-width:10rem;"},{body:i(({data:e})=>[o($,{icon:"pi pi-check",class:"p-button-rounded p-button-success mr-2",onClick:dl=>ol(e)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection"])):Y("",!0)])]),t("div",Ul,[t("div",Fl,[l[34]||(l[34]=t("h5",null,"Credit Account",-1)),t("div",Bl,[t("div",kl,[t("span",Sl,[o(K,{id:"institution",options:E.value,modelValue:B.value,"onUpdate:modelValue":l[5]||(l[5]=e=>B.value=e),optionLabel:"acct_type"},null,8,["options","modelValue"]),l[30]||(l[30]=t("label",{for:"institution"},"Gl type",-1))])]),t("div",Dl,[t("span",Rl,[o(u,{type:"text",id:"name",modelValue:k.value,"onUpdate:modelValue":l[6]||(l[6]=e=>k.value=e)},null,8,["modelValue"]),l[31]||(l[31]=t("label",{for:"firstName"},"Gl ledger no.",-1))])]),t("div",Ll,[t("span",$l,[o(u,{type:"text",id:"name",modelValue:S.value,"onUpdate:modelValue":l[7]||(l[7]=e=>S.value=e)},null,8,["modelValue"]),l[32]||(l[32]=t("label",{for:"firstName"},"Gl acct. no.",-1))])]),t("div",Gl,[t("span",Il,[o(u,{type:"text",id:"name",modelValue:D.value,"onUpdate:modelValue":l[8]||(l[8]=e=>D.value=e)},null,8,["modelValue"]),l[33]||(l[33]=t("label",{for:"firstName"},"Name",-1))])]),t("div",El,[o($,{onClick:el,label:"Search",class:"p-button-outlined mr-2 mb-2"})])]),w.value?(q(),X(j,{key:0,value:w.value,size:"small",paginator:!0,class:"p-datatable-gridlines",rows:3,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:i(()=>[o(r,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:i(({data:e})=>[c(m(e.description),1)]),_:1}),o(r,{field:"name",header:"Acct No.",style:{"min-width":"10rem"}},{body:i(({data:e})=>[c(m(e.acct_no),1)]),_:1}),o(r,{field:"name",header:"Acct Type",style:{"min-width":"10rem"}},{body:i(({data:e})=>[c(m(e.acct_type),1)]),_:1}),o(r,{field:"name",header:"Ledger No.",style:{"min-width":"10rem"}},{body:i(({data:e})=>[c(m(e.gl_no),1)]),_:1}),o(r,{field:"name",header:"Acct Balance",style:{"min-width":"10rem"}},{body:i(({data:e})=>[c(m(e.balance),1)]),_:1}),o(r,{headerStyle:"max-width:10rem;"},{body:i(({data:e})=>[o($,{icon:"pi pi-check",class:"p-button-rounded p-button-success mr-2",onClick:dl=>al(e)},null,8,["onClick"])]),_:1})]),_:1},8,["value"])):Y("",!0)])]),t("div",ql,[t("span",zl,[o(u,{type:"text",id:"drAcct",modelValue:b.value,"onUpdate:modelValue":l[9]||(l[9]=e=>b.value=e),onBlur:l[10]||(l[10]=e=>p(b.value,"drAcct")),class:f({"p-invalid":(H=d.value)==null?void 0:H.drAcct})},null,8,["modelValue","class"]),l[35]||(l[35]=t("label",{for:"drAcct"},"Dr Acct. No.",-1))])]),t("div",Kl,[t("span",jl,[o(u,{type:"text",id:"drTyp",modelValue:V.value,"onUpdate:modelValue":l[11]||(l[11]=e=>V.value=e),onBlur:l[12]||(l[12]=e=>p(V.value,"drTyp")),class:f({"p-invalid":(M=d.value)==null?void 0:M.drTyp})},null,8,["modelValue","class"]),l[36]||(l[36]=t("label",{for:"drTyp"},"Dr Acct. Type.",-1))])]),t("div",Hl,[t("span",Ml,[o(u,{type:"text",id:"drTitle",modelValue:A.value,"onUpdate:modelValue":l[13]||(l[13]=e=>A.value=e),onBlur:l[14]||(l[14]=e=>p(A.value,"drTitle")),class:f({"p-invalid":(P=d.value)==null?void 0:P.drTitle})},null,8,["modelValue","class"]),l[37]||(l[37]=t("label",{for:"drTitle"},"Dr Acct. Title.",-1))])]),t("div",Pl,[t("span",Jl,[o(u,{type:"text",id:"crAcct",modelValue:y.value,"onUpdate:modelValue":l[15]||(l[15]=e=>y.value=e),onBlur:l[16]||(l[16]=e=>p(y.value,"crAcct")),class:f({"p-invalid":(J=d.value)==null?void 0:J.crAcct})},null,8,["modelValue","class"]),l[38]||(l[38]=t("label",{for:"crAcct"},"Cr Acct. No.",-1))])]),t("div",Ol,[t("span",Ql,[o(u,{type:"text",id:"crTyp",modelValue:_.value,"onUpdate:modelValue":l[17]||(l[17]=e=>_.value=e),onBlur:l[18]||(l[18]=e=>p(_.value,"crTyp")),class:f({"p-invalid":(O=d.value)==null?void 0:O.crTyp})},null,8,["modelValue","class"]),l[39]||(l[39]=t("label",{for:"crTyp"},"Cr Acct. Type.",-1))])]),t("div",Wl,[t("span",Xl,[o(u,{type:"text",id:"crTitle",modelValue:T.value,"onUpdate:modelValue":l[19]||(l[19]=e=>T.value=e),onBlur:l[20]||(l[20]=e=>p(T.value,"crTitle")),class:f({"p-invalid":(Q=d.value)==null?void 0:Q.crTitle})},null,8,["modelValue","class"]),l[40]||(l[40]=t("label",{for:"crTitle"},"Cr Acct. Title.",-1))])]),t("div",Yl,[t("span",Zl,[o(u,{type:"text",id:"tranAmt",modelValue:R.value,"onUpdate:modelValue":l[21]||(l[21]=e=>R.value=e),onBlur:l[22]||(l[22]=e=>p(R.value,"tranAmt")),class:f({"p-invalid":(W=d.value)==null?void 0:W.tranAmt})},null,8,["modelValue","class"]),l[41]||(l[41]=t("label",{for:"tranAmt"},"Amount",-1))])]),t("div",hl,[t("span",le,[o(sl,{id:"tranDt",modelValue:I.value,"onUpdate:modelValue":l[23]||(l[23]=e=>I.value=e)},null,8,["modelValue"]),l[42]||(l[42]=t("label",{for:"tranDt"},"Date",-1))])]),t("div",ee,[t("span",te,[o(nl,{inputId:"description",rows:"3",cols:"30",modelValue:G.value,"onUpdate:modelValue":l[24]||(l[24]=e=>G.value=e)},null,8,["modelValue"]),l[43]||(l[43]=t("label",{for:"description"},"Description",-1))])]),l[44]||(l[44]=t("div",{class:"field col-12 md:col-8"},null,-1)),t("div",oe,[o($,{onClick:h,label:"Submit",class:"p-button-outlined mr-2 mb-2"})])])])])}}};export{ne as default};
