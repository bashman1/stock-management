import{k as v,l as w,r as c,b as r,c as b,d as g,e,h as i,C as k}from"./index-6b6a99b7.js";const B={class:"card"},C=e("h5",null,"Bulk Upload",-1),x=e("a",{href:"demo/documents/bulk_sales_template.xlsx"},[e("i",{class:"pi pi-cloud-download",style:{"font-size":"2rem"}}),e("p",null,"Download template")],-1),S={class:"grid p-fluid mt-3"},D={class:"field col-12 md:col-3"},y={class:"p-float-label"},T=e("label",{for:"date"},"Date",-1),U={class:"field col-12 md:col-12"},V=e("div",{class:"field col-12 md:col-8"},null,-1),F={class:"field col-12 md:col-4"},N={__name:"BulkSales",setup(E){const u=v(),a=new k,m=w(),t=c(null);c(null);const l=c(new Date),p=s=>{t.value=s.target.files[0]},_=async()=>{if(!t.value)return;const s=new FormData;s.append("file",t.value),s.append("name",t.value.name),s.append("date",a.formatDate(l.value));try{const o=await fetch(a.baseUrl+"upload-sales",{method:"POST",body:s,headers:{Authorization:`Bearer ${a.getStorage().token}`}});if(!o.ok)throw new Error("Upload failed");const n=await o.json();a.showSuccess(u,n.message),m.push("/view-uploaded-sales")}catch(o){console.error(o.message),a.showError(u,o.message)}};return(s,o)=>{const n=r("Toast"),f=r("Calendar"),h=r("Button");return b(),g("div",B,[C,x,e("div",S,[i(n),e("div",D,[e("span",y,[i(f,{id:"date",modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=d=>l.value=d)},null,8,["modelValue"]),T])]),e("div",U,[e("input",{type:"file",accept:".xlsx, .xls",onChange:o[1]||(o[1]=d=>p(d))},null,32)]),V,e("div",F,[i(h,{onClick:_,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])}}};export{N as default};
