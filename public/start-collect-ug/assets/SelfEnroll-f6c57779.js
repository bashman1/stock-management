import{k as il,l as dl,m as ul,r as s,z as cl,o as vl,b as $,c as ml,d as rl,e as l,h as n,n as c,F as pl,_ as fl,C as _l}from"./index-4428033b.js";const bl={class:"py-6 px-6"},Vl={class:"card p-fluid"},Nl={class:"grid p-fluid"},Fl={class:"field col-12 md:col-3"},gl=["src"],wl=l("div",{class:"field col-12 md:col-9"},[l("h2",{class:"text-right mt-6"},"Please fill in to register")],-1),yl=l("div",{class:"col-12 md:col-12"},[l("h5",null,"Institution Basic Info")],-1),xl={class:"field col-12 md:col-6"},Bl={class:"p-float-label"},hl=l("label",{for:"instName"},"Institution Name",-1),Ul={class:"field col-12 md:col-6"},kl={class:"p-float-label"},Pl=l("label",{for:"instType"},"Institution Type",-1),Tl={class:"field col-12 md:col-12"},Il={class:"p-float-label"},$l=l("label",{for:"textarea"},"Address",-1),Cl={class:"field col-12 md:col-6"},Sl={class:"p-float-label"},El=l("label",{for:"instCity"},"City",-1),Rl={class:"field col-12 md:col-6"},Ll={class:"p-float-label"},ql=l("label",{for:"instPOBox"},"P.O Box",-1),Al={class:"field col-12 md:col-12"},Dl={class:"p-float-label"},Ol=l("label",{for:"instDescription"},"Description",-1),zl=l("div",{class:"field col-12 md:col-12"},[l("h5",null,"Institution Bank Info")],-1),Ml={class:"field col-12 md:col-4"},jl={class:"p-float-label"},Gl=l("label",{for:"bankName"},"Bank",-1),Hl={class:"field col-12 md:col-4"},Jl={class:"p-float-label"},Kl=l("label",{for:"acctName"},"Account Title",-1),Ql={class:"field col-12 md:col-4"},Xl={class:"p-float-label"},Yl=l("label",{for:"acctNumber"},"Account Number",-1),Zl=l("div",{class:"field col-12 md:col-12"},[l("h5",null,"Institution User Info")],-1),Wl={class:"field col-12 md:col-4"},le={class:"p-float-label"},ee=l("label",{for:"firstName"},"First Name",-1),oe={class:"field col-12 md:col-4"},ae={class:"p-float-label"},se=l("label",{for:"lastName"},"Last Name",-1),te={class:"field col-12 md:col-4"},ne={class:"p-float-label"},ie=l("label",{for:"otherName"},"Other Names",-1),de={class:"field col-12 md:col-6"},ue={class:"p-float-label"},ce=l("label",{for:"email"},"Email",-1),ve={class:"field col-12 md:col-6"},me={class:"p-float-label"},re=l("label",{for:"contactNumber"},"Phone Number",-1),pe={class:"field col-12 md:col-6"},fe={class:"p-float-label"},_e=l("label",{for:"password"},"Password",-1),be={class:"field col-12 md:col-6"},Ve={class:"p-float-label"},Ne=l("label",{for:"confirmPassword"},"Confirm Password",-1),Fe={class:"field col-12 md:col-4"},ye={__name:"SelfEnroll",setup(ge){const E=il(),t=new _l,A=dl();ul();const v=s(null),m=s(null),V=s(null),F=s(null),r=s(null),R=s(null),g=s(null),w=s(null),C=s(null),p=s(null),S=s(null),L=s(null),f=s(null),_=s(null),b=s(null),D=s(null),O=s(null),z=s(null);s({});const a=s({}),y=s({id:1,name:"Enable tax",value:!0});s(null);const x=s(null),B=s(null),q=s(null),h=s(null),U=s(null),k=s(null),el=()=>{t.genericRequest("get-institution-types","get",!1,{}).then(d=>{d.status&&(D.value=d.data)})},ol=cl(()=>"demo/images/SmarCollectlogo-removebg-preview.png"),al=()=>{t.genericRequest("get-city-county-id/1","get",!1,{}).then(d=>{d.status&&(O.value=d.data)})},sl=()=>{t.genericRequest("get-bank-ref","get",!1,{}).then(d=>{d.status&&(z.value=d.data)})},i=(d,e)=>{a.value[e]=t.validateFormField(d)},tl=()=>{var u,N,P,T;if(a.value.name=t.validateFormField(v.value),a.value.type=t.validateFormField(m.value),a.value.city=t.validateFormField(r.value),a.value.contactName=t.validateFormField(C.value),a.value.contactNumber=t.validateFormField(p.value),a.value.contactEmail=t.validateFormField(S.value),a.value.bankName=t.validateFormField(f.value),a.value.acctName=t.validateFormField(_.value),a.value.acctNumber=t.validateFormField(b.value),a.value.taxConfig=t.validateFormField(y.value),a.value.fName=t.validateFormField(x.value),a.value.lName=t.validateFormField(B.value),a.value.email=t.validateFormField(h.value),a.value.password=t.validateFormField(U.value),a.value.confirmPassword=t.validateFormField(k.value),t.validateRequiredFields(a.value)){t.showError(E,"Please fill in the missing field");return}let e={id:null,name:v==null?void 0:v.value,type:(u=m==null?void 0:m.value)==null?void 0:u.id,start_date:V!=null&&V.value?V==null?void 0:V.value:new Date,address:F==null?void 0:F.value,city:(N=r==null?void 0:r.value)==null?void 0:N.id,street:R==null?void 0:R.value,p_o_box:g==null?void 0:g.value,description:w==null?void 0:w.value,contact_name:C==null?void 0:C.value,contact_number:p==null?void 0:p.value,contact_email:S==null?void 0:S.value,contact_web:L==null?void 0:L.value,bank_id:(P=f==null?void 0:f.value)==null?void 0:P.id,acct_name:_==null?void 0:_.value,acct_no:b==null?void 0:b.value,tax_config:(T=y==null?void 0:y.value)==null?void 0:T.value,tin:y.value.name,status:"Active",first_name:x.value,last_name:B.value,other_name:q.value,email:h.value,password:U.value,confirm_password:k.value};t.genericRequest("institution-self-registration","post",!1,e).then(I=>{I.status?(t.showSuccess(E,I.message),t.redirect(A,"/view-institutions")):t.showError(E,I.message)})},nl=()=>{A.push("/auth/login")};return vl(()=>{el(),al(),sl()}),(d,e)=>{var M,j,G,H,J,K,Q,X,Y,Z,W,ll;const u=$("InputText"),N=$("Dropdown"),P=$("Textarea"),T=$("Password"),I=$("Button");return ml(),rl(pl,null,[l("div",bl,[l("div",Vl,[l("div",Nl,[l("div",Fl,[l("img",{src:ol.value,alt:"Sakai logo",class:"mb-5 w-20rem flex-shrink-0"},null,8,gl)]),wl,yl,l("div",xl,[l("span",Bl,[n(u,{type:"text",id:"instName",modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=o=>v.value=o),onBlur:e[1]||(e[1]=o=>i(v.value,"name")),class:c({"p-invalid":(M=a.value)==null?void 0:M.name})},null,8,["modelValue","class"]),hl])]),l("div",Ul,[l("span",kl,[n(N,{id:"instType",onBlur:e[2]||(e[2]=o=>i(m.value,"type")),options:D.value,modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=o=>m.value=o),class:c({"p-invalid":(j=a.value)==null?void 0:j.type}),optionLabel:"name"},null,8,["options","modelValue","class"]),Pl])]),l("div",Tl,[l("span",Il,[n(P,{id:"textarea",rows:"3",cols:"30",modelValue:F.value,"onUpdate:modelValue":e[4]||(e[4]=o=>F.value=o)},null,8,["modelValue"]),$l])]),l("div",Cl,[l("span",Sl,[n(N,{id:"instCity",options:O.value,modelValue:r.value,"onUpdate:modelValue":e[5]||(e[5]=o=>r.value=o),onBlur:e[6]||(e[6]=o=>i(r.value,"city")),class:c({"p-invalid":(G=a.value)==null?void 0:G.city}),optionLabel:"name"},null,8,["options","modelValue","class"]),El])]),l("div",Rl,[l("span",Ll,[n(u,{type:"text",id:"instPOBox",modelValue:g.value,"onUpdate:modelValue":e[7]||(e[7]=o=>g.value=o)},null,8,["modelValue"]),ql])]),l("div",Al,[l("span",Dl,[n(P,{id:"instDescription",rows:"3",cols:"30",modelValue:w.value,"onUpdate:modelValue":e[8]||(e[8]=o=>w.value=o)},null,8,["modelValue"]),Ol])]),zl,l("div",Ml,[l("span",jl,[n(N,{id:"bankName",options:z.value,modelValue:f.value,"onUpdate:modelValue":e[9]||(e[9]=o=>f.value=o),optionLabel:"name",onBlur:e[10]||(e[10]=o=>i(f.value,"bankName")),class:c({"p-invalid":(H=a.value)==null?void 0:H.bankName})},null,8,["options","modelValue","class"]),Gl])]),l("div",Hl,[l("span",Jl,[n(u,{type:"text",id:"acctName",modelValue:_.value,"onUpdate:modelValue":e[11]||(e[11]=o=>_.value=o),onBlur:e[12]||(e[12]=o=>i(_.value,"acctName")),class:c({"p-invalid":(J=a.value)==null?void 0:J.acctName})},null,8,["modelValue","class"]),Kl])]),l("div",Ql,[l("span",Xl,[n(u,{type:"text",id:"acctNumber",modelValue:b.value,"onUpdate:modelValue":e[13]||(e[13]=o=>b.value=o),onBlur:e[14]||(e[14]=o=>i(b.value,"acctNumber")),class:c({"p-invalid":(K=a.value)==null?void 0:K.acctNumber})},null,8,["modelValue","class"]),Yl])]),Zl,l("div",Wl,[l("span",le,[n(u,{type:"text",id:"firstName",modelValue:x.value,"onUpdate:modelValue":e[15]||(e[15]=o=>x.value=o),onBlur:e[16]||(e[16]=o=>i(x.value,"fName")),class:c({"p-invalid":(Q=a.value)==null?void 0:Q.fName})},null,8,["modelValue","class"]),ee])]),l("div",oe,[l("span",ae,[n(u,{type:"text",id:"lastName",modelValue:B.value,"onUpdate:modelValue":e[17]||(e[17]=o=>B.value=o),onBlur:e[18]||(e[18]=o=>i(B.value,"lName")),class:c({"p-invalid":(X=a.value)==null?void 0:X.lName})},null,8,["modelValue","class"]),se])]),l("div",te,[l("span",ne,[n(u,{type:"text",id:"otherName",modelValue:q.value,"onUpdate:modelValue":e[19]||(e[19]=o=>q.value=o)},null,8,["modelValue"]),ie])]),l("div",de,[l("span",ue,[n(u,{type:"text",id:"email",modelValue:h.value,"onUpdate:modelValue":e[20]||(e[20]=o=>h.value=o),onBlur:e[21]||(e[21]=o=>i(h.value,"email")),class:c({"p-invalid":(Y=a.value)==null?void 0:Y.email})},null,8,["modelValue","class"]),ce])]),l("div",ve,[l("span",me,[n(u,{id:"basic",modelValue:p.value,"onUpdate:modelValue":e[22]||(e[22]=o=>p.value=o),onBlur:e[23]||(e[23]=o=>i(p.value,"contactNumber")),class:c({"p-invalid":(Z=a.value)==null?void 0:Z.contactNumber})},null,8,["modelValue","class"]),re])]),l("div",pe,[l("span",fe,[n(T,{type:"text",id:"password",modelValue:U.value,"onUpdate:modelValue":e[24]||(e[24]=o=>U.value=o),onBlur:e[25]||(e[25]=o=>i(U.value,"password")),class:c({"p-invalid":(W=a.value)==null?void 0:W.password})},null,8,["modelValue","class"]),_e])]),l("div",be,[l("span",Ve,[n(T,{type:"text",id:"confirmPassword",modelValue:k.value,"onUpdate:modelValue":e[26]||(e[26]=o=>k.value=o),onBlur:e[27]||(e[27]=o=>i(k.value,"confirmPassword")),class:c({"p-invalid":(ll=a.value)==null?void 0:ll.confirmPassword})},null,8,["modelValue","class"]),Ne])]),l("div",{class:"field col-12 md:col-8"},[l("a",{class:"font-medium no-underline ml-2 text-left cursor-pointer",style:{color:"var(--primary-color)"},onClick:nl},"Back To Login")]),l("div",Fe,[n(I,{onClick:tl,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])]),n(fl,{simple:""})],64)}}};export{ye as default};
