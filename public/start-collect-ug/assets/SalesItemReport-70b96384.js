import{k as R,l as C,r as y,o as S,b as d,c as k,d as L,e as p,h as t,i as n,j as i,t as c,f as u,C as D}from"./index-13be92d9.js";const T={class:"card"},B=p("h5",null,"Sales report.",-1),P={class:"my-2"},q={__name:"SalesItemReport",setup(U){R();const r=new D;C();const _=y(null),m=y(!1),h=()=>{let s={status:"Active"};r.genericRequest("get-item-sales-report","post",!0,s).then(o=>{o.status&&(_.value=o.data)})},b=()=>{try{m.value=!0,r.genericRequest("download-sales-item-report-pdf","post",!0,{status:"Active"},!0).then(s=>{const o=window.URL.createObjectURL(new Blob([s])),a=document.createElement("a");a.href=o,a.setAttribute("download","sales_reports.pdf"),document.body.appendChild(a),a.click()})}catch(s){console.log(s)}finally{m.value=!1}},v=()=>{try{m.value=!0,r.genericRequest("download-sales-item-report-csv","post",!0,{status:"Active"},!0).then(s=>{const o=window.URL.createObjectURL(new Blob([s])),a=document.createElement("a");a.href=o,a.setAttribute("download","sales_reports.csv"),document.body.appendChild(a),a.click()})}catch(s){console.log(s)}finally{m.value=!1}};return S(()=>{h()}),(s,o)=>{const a=d("Toast"),f=d("Button"),w=d("Toolbar"),l=d("Column"),g=d("DataTable");return k(),L("div",null,[p("div",T,[B,t(a),t(w,{class:"mb-4"},{end:n(()=>[p("div",P,[t(f,{label:"CSV",icon:"pi pi-file-excel",class:"p-button-success mr-2",onClick:o[0]||(o[0]=()=>v())}),t(f,{label:"PDF",icon:"pi pi-file-pdf",class:"p-button-danger",onClick:o[1]||(o[1]=()=>b())})])]),_:1}),t(g,{value:_.value,paginator:!0,class:"p-datatable-gridlines",rows:20,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:n(()=>[t(l,{field:"name",header:"Date",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(c(e.created_at),1)]),_:1}),t(l,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(c(e.product_name),1)]),_:1}),t(l,{field:"name",header:"Quantity Sold",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(c(u(r).commaSeparator(e.quantity)),1)]),_:1}),t(l,{field:"name",header:"Measurement Unit",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(c(e.measurement_unit),1)]),_:1}),t(l,{field:"name",header:"Amount",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(c(u(r).commaSeparator(e.quantity*e.selling_price)),1)]),_:1}),t(l,{field:"name",header:"Selling Price",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(c(u(r).commaSeparator(e.selling_price)),1)]),_:1}),t(l,{field:"name",header:"Profit Margin",style:{"min-width":"10rem"}},{body:n(({data:e})=>[i(c(u(r).commaSeparator(e.selling_price-e.purchase_price)),1)]),_:1})]),_:1},8,["value"])])])}}};export{q as default};
