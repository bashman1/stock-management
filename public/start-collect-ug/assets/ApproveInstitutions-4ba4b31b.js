import{l as C,m as D,k,r as B,o as I,b as d,p as S,c as R,d as T,e as u,h as t,i as o,j as n,t as a,q as y,C as x}from"./index-9434943a.js";const A={class:"grid"},N={class:"col-12"},V={class:"card"},$={__name:"ApproveInstitutions",setup(q){const v=C();D();const l=k(),m=B(null),c=new x,p=()=>{c.genericRequest("get-institutions/Pending","get",!0,{}).then(s=>{s.status?m.value=s.data:c.showError(l,s.message)})},w=s=>{c.genericRequest("approve-institution","post",!0,s).then(r=>{r.status?(p(),c.showSuccess(l,r.message)):c.showError(l,r.message)})},b=s=>{v.push("/create-institution/"+(s==null?void 0:s.id))};return I(()=>{p()}),(s,r)=>{const i=d("Column"),_=d("Button"),g=d("DataTable"),h=S("tooltip");return R(),T("div",A,[u("div",N,[u("div",V,[r[0]||(r[0]=u("h5",null,"Approve Institution",-1)),t(g,{value:m.value,paginator:!0,class:"p-datatable-gridlines",rows:10,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:o(()=>[t(i,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.name),1)]),_:1}),t(i,{header:"Type",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.type_name),1)]),_:1}),t(i,{header:"Description",style:{"min-width":"12rem"}},{body:o(({data:e})=>[n(a(e.description),1)]),_:1}),t(i,{header:"Status",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.status),1)]),_:1}),t(i,{header:"Reference",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.ref_no),1)]),_:1}),t(i,{header:"Created By",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.created_by),1)]),_:1}),t(i,{header:"Date",style:{"min-width":"10rem"}},{body:o(({data:e})=>[n(a(e.created_at),1)]),_:1}),t(i,{headerStyle:"min-width:10rem;"},{body:o(({data:e})=>[y(t(_,{icon:"pi pi-eye",onClick:f=>b(e),class:"p-button-primary mr-2"},null,8,["onClick"]),[[h,"View institution details"]]),y(t(_,{icon:"pi pi-verified",onClick:f=>w(e),class:"p-button-success mr-2"},null,8,["onClick"]),[[h,"Approve Institution"]])]),_:1})]),_:1},8,["value"])])])])}}};export{$ as default};
