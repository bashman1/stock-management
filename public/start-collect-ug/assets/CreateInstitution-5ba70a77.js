import{j as L,k as M,r as o,o as j,b as i,c as z,d as G,e as t,f as s,C as H}from"./index-3459173b.js";const J={class:"card"},K=t("h5",null,"Create Institution",-1),Q={class:"grid p-fluid mt-3"},X={class:"field col-12 md:col-4"},Y={class:"p-float-label"},Z=t("label",{for:"instName"},"Institution Name",-1),$={class:"field col-12 md:col-4"},tt={class:"p-float-label"},et=t("label",{for:"instType"},"Institution Type",-1),lt={class:"field col-12 md:col-4"},ot={class:"p-float-label"},st=t("label",{for:"instStart"},"Start Date",-1),at={class:"field col-12 md:col-12"},nt={class:"p-float-label"},dt=t("label",{for:"textarea"},"Address",-1),it={class:"field col-12 md:col-4"},ct={class:"p-float-label"},ut=t("label",{for:"instCity"},"City",-1),mt={class:"field col-12 md:col-4"},_t={class:"p-float-label"},pt=t("label",{for:"instStreet"},"Street",-1),rt={class:"field col-12 md:col-4"},vt={class:"p-float-label"},ft=t("label",{for:"instPOBox"},"P.O Box",-1),bt={class:"field col-12 md:col-10"},Vt={class:"p-float-label"},ht=t("label",{for:"instDescription"},"Description",-1),yt={class:"field col-12 md:col-2"},Nt=t("h5",null,"Attachment",-1),xt={class:"card"},Ut=t("h5",null,"Institution Contact Info",-1),gt={class:"grid p-fluid mt-3"},Ct={class:"field col-12 md:col-3"},Bt={class:"p-float-label"},kt=t("label",{for:"contactName"},"Contact Person Name",-1),Tt={class:"field col-12 md:col-3"},It={class:"p-float-label"},St=t("label",{for:"contactNumber"},"Phone Number",-1),wt={class:"field col-12 md:col-3"},Dt={class:"p-float-label"},Et=t("label",{for:"contactEmail"},"Email",-1),At={class:"field col-12 md:col-3"},Pt={class:"p-float-label"},Rt=t("label",{for:"contactWeb"},"Website",-1),qt={class:"card"},Ot=t("h5",null,"Institution Bank Info",-1),Wt={class:"grid p-fluid mt-3"},Ft={class:"field col-12 md:col-4"},Lt={class:"p-float-label"},Mt=t("label",{for:"bankName"},"Bank",-1),jt={class:"field col-12 md:col-4"},zt={class:"p-float-label"},Gt=t("label",{for:"acctName"},"Account Name",-1),Ht={class:"field col-12 md:col-4"},Jt={class:"p-float-label"},Kt=t("label",{for:"acctNumber"},"Account Number",-1),Qt=t("div",{class:"field col-12 md:col-8"},null,-1),Xt={class:"field col-12 md:col-4"},$t={__name:"CreateInstitution",setup(Yt){const C=L(),d=new H,w=M(),c=o(null),u=o(null),m=o(null),_=o(null),p=o(null),r=o(null),v=o(null),f=o(null),b=o(null),V=o(null),h=o(null),y=o(null),N=o(null),x=o(null),U=o(null),B=o(null),k=o(null),T=o(null),I=o({}),D=()=>{let a={name:c.value,type:u.value.id,start_date:m.value,address:_.value,city:p.value.id,street:r.value,p_o_box:v.value,description:f.value,contact_name:b.value,contact_number:V.value,contact_email:h.value,contact_web:y.value,bank_id:N.value.id,acct_name:x.value,acct_no:U.value,status:"Active"};d.genericRequest("create-institution","post",!1,a).then(e=>{e.status?(d.showSuccess(C,e.message),d.redirect(w,"/view-institutions")):d.showError(C,e.message)})},E=()=>{d.genericRequest("get-institution-types","get",!0,{}).then(a=>{a.status&&(B.value=a.data)})},A=()=>{d.genericRequest("get-city-county-id/1","get",!0,{}).then(a=>{a.status&&(k.value=a.data)})},P=()=>{d.genericRequest("get-bank-ref","get",!0,{}).then(a=>{a.status&&(T.value=a.data)})},R=(a,e)=>{console.log(a),a==null||a.trim()==""?I.value[e]=!0:I.value[e]=!1};return j(()=>{E(),A(),P()}),(a,e)=>{const q=i("Toast"),n=i("InputText"),g=i("Dropdown"),O=i("Calendar"),S=i("Textarea"),W=i("FileUpload"),F=i("Button");return z(),G("div",null,[t("div",J,[K,t("div",Q,[s(q),t("div",X,[t("span",Y,[s(n,{type:"text",id:"instName",modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=l=>c.value=l)},null,8,["modelValue"]),Z])]),t("div",$,[t("span",tt,[s(g,{id:"instType",onBlur:e[1]||(e[1]=l=>R(l.value,"type")),options:B.value,modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=l=>u.value=l),optionLabel:"name"},null,8,["options","modelValue"]),et])]),t("div",lt,[t("span",ot,[s(O,{id:"instStart",modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=l=>m.value=l)},null,8,["modelValue"]),st])]),t("div",at,[t("span",nt,[s(S,{id:"textarea",rows:"3",cols:"30",modelValue:_.value,"onUpdate:modelValue":e[4]||(e[4]=l=>_.value=l)},null,8,["modelValue"]),dt])]),t("div",it,[t("span",ct,[s(g,{id:"instCity",options:k.value,modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=l=>p.value=l),optionLabel:"name"},null,8,["options","modelValue"]),ut])]),t("div",mt,[t("span",_t,[s(n,{type:"text",id:"instStreet",modelValue:r.value,"onUpdate:modelValue":e[6]||(e[6]=l=>r.value=l)},null,8,["modelValue"]),pt])]),t("div",rt,[t("span",vt,[s(n,{type:"text",id:"instPOBox",modelValue:v.value,"onUpdate:modelValue":e[7]||(e[7]=l=>v.value=l)},null,8,["modelValue"]),ft])]),t("div",bt,[t("span",Vt,[s(S,{id:"instDescription",rows:"3",cols:"30",modelValue:f.value,"onUpdate:modelValue":e[8]||(e[8]=l=>f.value=l)},null,8,["modelValue"]),ht])]),t("div",yt,[Nt,s(W,{mode:"basic",name:"demo[]",accept:"image/*",maxFileSize:1e6,onUploader:a.onUpload,customUpload:""},null,8,["onUploader"])])])]),t("div",xt,[Ut,t("div",gt,[t("div",Ct,[t("span",Bt,[s(n,{type:"text",id:"contactName",modelValue:b.value,"onUpdate:modelValue":e[9]||(e[9]=l=>b.value=l)},null,8,["modelValue"]),kt])]),t("div",Tt,[t("span",It,[s(n,{type:"text",id:"contactNumber",modelValue:V.value,"onUpdate:modelValue":e[10]||(e[10]=l=>V.value=l)},null,8,["modelValue"]),St])]),t("div",wt,[t("span",Dt,[s(n,{type:"text",id:"contactEmail",modelValue:h.value,"onUpdate:modelValue":e[11]||(e[11]=l=>h.value=l)},null,8,["modelValue"]),Et])]),t("div",At,[t("span",Pt,[s(n,{type:"text",id:"contactWeb",modelValue:y.value,"onUpdate:modelValue":e[12]||(e[12]=l=>y.value=l)},null,8,["modelValue"]),Rt])])])]),t("div",qt,[Ot,t("div",Wt,[t("div",Ft,[t("span",Lt,[s(g,{id:"bankName",options:T.value,modelValue:N.value,"onUpdate:modelValue":e[13]||(e[13]=l=>N.value=l),optionLabel:"name"},null,8,["options","modelValue"]),Mt])]),t("div",jt,[t("span",zt,[s(n,{type:"text",id:"acctName",modelValue:x.value,"onUpdate:modelValue":e[14]||(e[14]=l=>x.value=l)},null,8,["modelValue"]),Gt])]),t("div",Ht,[t("span",Jt,[s(n,{type:"text",id:"acctNumber",modelValue:U.value,"onUpdate:modelValue":e[15]||(e[15]=l=>U.value=l)},null,8,["modelValue"]),Kt])]),Qt,t("div",Xt,[s(F,{onClick:D,label:"SUBMIT",class:"p-button-outlined mr-2 mb-2"})])])])])}}};export{$t as default};
