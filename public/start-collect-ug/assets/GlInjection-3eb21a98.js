import{k as il,l as cl,r as s,o as ul,b as v,c as E,d as rl,e as t,h as o,v as W,i,g as X,n as _,j as r,t as m,C as ml}from"./index-41e6d9de.js";const vl={class:"card"},pl=t("h5",null,"Debit/Credit Ledger Accounts",-1),_l={class:"grid p-fluid mt-3"},fl={class:"col-12 md:col-6"},bl={class:"card"},yl=t("h5",null,"Debit Account",-1),hl={class:"grid"},Vl={class:"field col-12 md:col-4"},Al={class:"p-float-label"},Tl=t("label",{for:"institution"},"Gl type",-1),gl={class:"field col-12 md:col-4"},Cl={class:"p-float-label"},wl=t("label",{for:"firstName"},"Gl ledger no.",-1),xl={class:"field col-12 md:col-4"},Nl={class:"p-float-label"},Ul=t("label",{for:"firstName"},"Gl acct. no.",-1),Fl={class:"field col-12 md:col-8"},kl={class:"p-float-label"},Bl=t("label",{for:"firstName"},"Name",-1),Sl={class:"field col-12 md:col-4"},Dl={class:"col-12 md:col-6"},Rl={class:"card"},Ll=t("h5",null,"Credit Account",-1),$l={class:"grid"},Gl={class:"field col-12 md:col-4"},Il={class:"p-float-label"},El=t("label",{for:"institution"},"Gl type",-1),ql={class:"field col-12 md:col-4"},zl={class:"p-float-label"},Kl=t("label",{for:"firstName"},"Gl ledger no.",-1),jl={class:"field col-12 md:col-4"},Hl={class:"p-float-label"},Ml=t("label",{for:"firstName"},"Gl acct. no.",-1),Pl={class:"field col-12 md:col-8"},Jl={class:"p-float-label"},Ol=t("label",{for:"firstName"},"Name",-1),Ql={class:"field col-12 md:col-4"},Wl={class:"field col-12 md:col-4"},Xl={class:"p-float-label"},Yl=t("label",{for:"drAcct"},"Dr Acct. No.",-1),Zl={class:"field col-12 md:col-4"},le={class:"p-float-label"},ee=t("label",{for:"drTyp"},"Dr Acct. Type.",-1),te={class:"field col-12 md:col-4"},oe={class:"p-float-label"},ae=t("label",{for:"drTitle"},"Dr Acct. Title.",-1),se={class:"field col-12 md:col-4"},ne={class:"p-float-label"},de=t("label",{for:"crAcct"},"Cr Acct. No.",-1),ie={class:"field col-12 md:col-4"},ce={class:"p-float-label"},ue=t("label",{for:"crTyp"},"Cr Acct. Type.",-1),re={class:"field col-12 md:col-4"},me={class:"p-float-label"},ve=t("label",{for:"crTitle"},"Cr Acct. Title.",-1),pe={class:"field col-12 md:col-4"},_e={class:"p-float-label"},fe=t("label",{for:"tranAmt"},"Amount",-1),be={class:"field col-12 md:col-4"},ye={class:"p-float-label"},he=t("label",{for:"tranDt"},"Stock Date",-1),Ve={class:"field col-12 md:col-12"},Ae={class:"p-float-label"},Te=t("label",{for:"description"},"Description",-1),ge=t("div",{class:"field col-12 md:col-8"},null,-1),Ce={class:"field col-12 md:col-4"},Ne={__name:"GlInjection",setup(we){const T=il(),n=new ml,Y=cl();s(null),s(null),s(null),s(null);const $=s(null),g=s(null),C=s(null),w=s(null),x=s(null),N=s(null),U=s(null),F=s(null),k=s(null),B=s(null),S=s(null),f=s(null),b=s(null),y=s(null),h=s(null),V=s(null),A=s(null),D=s(null),G=s(null),d=s({}),I=s(null);s([{label:"Admin Role",value:"Admin"},{label:"Institution Role",value:"Institution"}]);const Z=()=>{if(d.value.drAcct=n.validateFormField(f.value),d.value.crAcct=n.validateFormField(b.value),d.value.drTyp=n.validateFormField(y.value),d.value.crTyp=n.validateFormField(h.value),d.value.drTitle=n.validateFormField(V.value),d.value.crTitle=n.validateFormField(A.value),d.value.tranAmt=n.validateFormField(D.value),n.validateRequiredFields(d.value)){n.showError(T,"Please fill in the missing field");return}let l={drAcctNo:f.value,crAcctNo:b.value,drAcctType:y.value,crAcctType:h.value,drTitle:V.value,crTitle:A.value,tranAmt:D.value,description:$.value,tranDate:G.value,status:"Active"};n.genericRequest("debit-credit-acct","post",!0,l).then(R=>{R.status?(n.showSuccess(T,R.message),n.redirect(Y,"/gl-accounts")):n.showError(T,R.message)})},p=(a,l)=>{d.value[l]=n.validateFormField(a)},ll=()=>{var l;let a={acct_type:(l=w==null?void 0:w.value)==null?void 0:l.acct_type,gl_no:x==null?void 0:x.value,description:U==null?void 0:U.value,acct_no:N==null?void 0:N.value,indicator:"DR"};q(a)},el=()=>{var l;let a={acct_type:(l=F==null?void 0:F.value)==null?void 0:l.acct_type,gl_no:k==null?void 0:k.value,description:S==null?void 0:S.value,acct_no:B==null?void 0:B.value,indicator:"CR"};q(a)},q=a=>{n.genericRequest("gl-search","post",!0,a).then(l=>{l.status?(a==null?void 0:a.indicator)=="DR"?g.value=l.data:(a==null?void 0:a.indicator)=="CR"?C.value=l.data:(C.value=l.data,g.value=l.data):n.showError(T,l.message)})},tl=()=>{n.genericRequest("gl-cats","get",!0,{}).then(a=>{a.status?I.value=a.data:n.showError(T,a.message)})},ol=a=>{f.value=a.acct_no,y.value=a.acct_type,V.value=a.description,g.value=null},al=a=>{b.value=a.acct_no,h.value=a.acct_type,A.value=a.description,C.value=null};return ul(()=>{tl()}),(a,l)=>{var j,H,M,P,J,O,Q;const R=v("Toast"),z=v("Dropdown"),c=v("InputText"),L=v("Button"),u=v("Column"),K=v("DataTable"),sl=v("Calendar"),nl=v("Textarea");return E(),rl("div",null,[t("div",vl,[pl,t("div",_l,[o(R),t("div",fl,[t("div",bl,[yl,t("div",hl,[t("div",Vl,[t("span",Al,[o(z,{id:"institution",options:I.value,modelValue:w.value,"onUpdate:modelValue":l[0]||(l[0]=e=>w.value=e),optionLabel:"acct_type"},null,8,["options","modelValue"]),Tl])]),t("div",gl,[t("span",Cl,[o(c,{type:"text",id:"name",modelValue:x.value,"onUpdate:modelValue":l[1]||(l[1]=e=>x.value=e)},null,8,["modelValue"]),wl])]),t("div",xl,[t("span",Nl,[o(c,{type:"text",id:"name",modelValue:N.value,"onUpdate:modelValue":l[2]||(l[2]=e=>N.value=e)},null,8,["modelValue"]),Ul])]),t("div",Fl,[t("span",kl,[o(c,{type:"text",id:"name",modelValue:U.value,"onUpdate:modelValue":l[3]||(l[3]=e=>U.value=e)},null,8,["modelValue"]),Bl])]),t("div",Sl,[o(L,{onClick:ll,label:"Search",class:"p-button-outlined mr-2 mb-2"})])]),g.value?(E(),W(K,{key:0,value:g.value,size:"small",paginator:!0,class:"p-datatable-gridlines",rows:3,dataKey:"id",selectionMode:"single",metaKeySelection:!0,rowHover:!0,selection:a.debitSelected,"onUpdate:selection":l[4]||(l[4]=e=>a.debitSelected=e),filterDisplay:"menu",responsiveLayout:"scroll"},{default:i(()=>[o(u,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:i(({data:e})=>[r(m(e.description),1)]),_:1}),o(u,{field:"name",header:"Acct No.",style:{"min-width":"10rem"}},{body:i(({data:e})=>[r(m(e.acct_no),1)]),_:1}),o(u,{field:"name",header:"Acct Type",style:{"min-width":"10rem"}},{body:i(({data:e})=>[r(m(e.acct_type),1)]),_:1}),o(u,{field:"name",header:"Ledger No.",style:{"min-width":"10rem"}},{body:i(({data:e})=>[r(m(e.gl_no),1)]),_:1}),o(u,{field:"name",header:"Acct Balance",style:{"min-width":"10rem"}},{body:i(({data:e})=>[r(m(e.balance),1)]),_:1}),o(u,{headerStyle:"max-width:10rem;"},{body:i(({data:e})=>[o(L,{icon:"pi pi-check",class:"p-button-rounded p-button-success mr-2",onClick:dl=>ol(e)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection"])):X("",!0)])]),t("div",Dl,[t("div",Rl,[Ll,t("div",$l,[t("div",Gl,[t("span",Il,[o(z,{id:"institution",options:I.value,modelValue:F.value,"onUpdate:modelValue":l[5]||(l[5]=e=>F.value=e),optionLabel:"acct_type"},null,8,["options","modelValue"]),El])]),t("div",ql,[t("span",zl,[o(c,{type:"text",id:"name",modelValue:k.value,"onUpdate:modelValue":l[6]||(l[6]=e=>k.value=e)},null,8,["modelValue"]),Kl])]),t("div",jl,[t("span",Hl,[o(c,{type:"text",id:"name",modelValue:B.value,"onUpdate:modelValue":l[7]||(l[7]=e=>B.value=e)},null,8,["modelValue"]),Ml])]),t("div",Pl,[t("span",Jl,[o(c,{type:"text",id:"name",modelValue:S.value,"onUpdate:modelValue":l[8]||(l[8]=e=>S.value=e)},null,8,["modelValue"]),Ol])]),t("div",Ql,[o(L,{onClick:el,label:"Search",class:"p-button-outlined mr-2 mb-2"})])]),C.value?(E(),W(K,{key:0,value:C.value,size:"small",paginator:!0,class:"p-datatable-gridlines",rows:3,dataKey:"id",rowHover:!0,filterDisplay:"menu",responsiveLayout:"scroll"},{default:i(()=>[o(u,{field:"name",header:"Name",style:{"min-width":"10rem"}},{body:i(({data:e})=>[r(m(e.description),1)]),_:1}),o(u,{field:"name",header:"Acct No.",style:{"min-width":"10rem"}},{body:i(({data:e})=>[r(m(e.acct_no),1)]),_:1}),o(u,{field:"name",header:"Acct Type",style:{"min-width":"10rem"}},{body:i(({data:e})=>[r(m(e.acct_type),1)]),_:1}),o(u,{field:"name",header:"Ledger No.",style:{"min-width":"10rem"}},{body:i(({data:e})=>[r(m(e.gl_no),1)]),_:1}),o(u,{field:"name",header:"Acct Balance",style:{"min-width":"10rem"}},{body:i(({data:e})=>[r(m(e.balance),1)]),_:1}),o(u,{headerStyle:"max-width:10rem;"},{body:i(({data:e})=>[o(L,{icon:"pi pi-check",class:"p-button-rounded p-button-success mr-2",onClick:dl=>al(e)},null,8,["onClick"])]),_:1})]),_:1},8,["value"])):X("",!0)])]),t("div",Wl,[t("span",Xl,[o(c,{type:"text",id:"drAcct",modelValue:f.value,"onUpdate:modelValue":l[9]||(l[9]=e=>f.value=e),onBlur:l[10]||(l[10]=e=>p(f.value,"drAcct")),class:_({"p-invalid":(j=d.value)==null?void 0:j.drAcct})},null,8,["modelValue","class"]),Yl])]),t("div",Zl,[t("span",le,[o(c,{type:"text",id:"drTyp",modelValue:y.value,"onUpdate:modelValue":l[11]||(l[11]=e=>y.value=e),onBlur:l[12]||(l[12]=e=>p(y.value,"drTyp")),class:_({"p-invalid":(H=d.value)==null?void 0:H.drTyp})},null,8,["modelValue","class"]),ee])]),t("div",te,[t("span",oe,[o(c,{type:"text",id:"drTitle",modelValue:V.value,"onUpdate:modelValue":l[13]||(l[13]=e=>V.value=e),onBlur:l[14]||(l[14]=e=>p(V.value,"drTitle")),class:_({"p-invalid":(M=d.value)==null?void 0:M.drTitle})},null,8,["modelValue","class"]),ae])]),t("div",se,[t("span",ne,[o(c,{type:"text",id:"crAcct",modelValue:b.value,"onUpdate:modelValue":l[15]||(l[15]=e=>b.value=e),onBlur:l[16]||(l[16]=e=>p(b.value,"crAcct")),class:_({"p-invalid":(P=d.value)==null?void 0:P.crAcct})},null,8,["modelValue","class"]),de])]),t("div",ie,[t("span",ce,[o(c,{type:"text",id:"crTyp",modelValue:h.value,"onUpdate:modelValue":l[17]||(l[17]=e=>h.value=e),onBlur:l[18]||(l[18]=e=>p(h.value,"crTyp")),class:_({"p-invalid":(J=d.value)==null?void 0:J.crTyp})},null,8,["modelValue","class"]),ue])]),t("div",re,[t("span",me,[o(c,{type:"text",id:"crTitle",modelValue:A.value,"onUpdate:modelValue":l[19]||(l[19]=e=>A.value=e),onBlur:l[20]||(l[20]=e=>p(A.value,"crTitle")),class:_({"p-invalid":(O=d.value)==null?void 0:O.crTitle})},null,8,["modelValue","class"]),ve])]),t("div",pe,[t("span",_e,[o(c,{type:"text",id:"tranAmt",modelValue:D.value,"onUpdate:modelValue":l[21]||(l[21]=e=>D.value=e),onBlur:l[22]||(l[22]=e=>p(D.value,"tranAmt")),class:_({"p-invalid":(Q=d.value)==null?void 0:Q.tranAmt})},null,8,["modelValue","class"]),fe])]),t("div",be,[t("span",ye,[o(sl,{id:"tranDt",modelValue:G.value,"onUpdate:modelValue":l[23]||(l[23]=e=>G.value=e)},null,8,["modelValue"]),he])]),t("div",Ve,[t("span",Ae,[o(nl,{inputId:"description",rows:"3",cols:"30",modelValue:$.value,"onUpdate:modelValue":l[24]||(l[24]=e=>$.value=e)},null,8,["modelValue"]),Te])]),ge,t("div",Ce,[o(L,{onClick:Z,label:"Submit",class:"p-button-outlined mr-2 mb-2"})])])])])}}};export{Ne as default};
