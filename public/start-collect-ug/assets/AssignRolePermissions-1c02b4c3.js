import{v as x,r as m,E as b,G as R,o as C,c as i,d as u,e as o,t as h,F as y,j as S,i as w}from"./index-0e508bd2.js";import{C as B}from"./CommonService-873d505d.js";const E={className:"card"},I={class:"grid"},N={class:"field-checkbox mb-0"},P=["onChange","checked"],F={__name:"AssignRolePermissions",setup(j){const g=x(),s=m(null),r=m(null),a=new B;b();const v=R(),_=t=>{a.genericRequest("get-role/"+t,"get",!1,{}).then(e=>{e.status?s.value=e.data:a.showError(g,e.message)})},p=(t,e)=>{let c={permissionId:e.id,event:t.target.checked,roleId:r.value};a.genericRequest("assign-role-permission","post",!1,c).then(n=>{n.status})},f=t=>{var e;return a.existingRolePermission((e=s==null?void 0:s.value)==null?void 0:e.rolePermissions,t)};return C(()=>{r.value=v.params.id,_(r.value)}),(t,e)=>{var c,n,d;return i(),u("div",E,[o("h5",null,h((n=(c=s.value)==null?void 0:c.role)==null?void 0:n.name),1),o("div",I,[(i(!0),u(y,null,S((d=s.value)==null?void 0:d.permissions,l=>(i(),u("div",{class:"col-12 md:col-3",key:l.id},[o("div",N,[o("label",null,[o("input",{id:"my-checkbox",type:"checkbox",onChange:k=>p(k,l),checked:f(l),class:"large-checkbox"},null,40,P),w(" "+h(l.name),1)])])]))),128))])])}}};export{F as default};
